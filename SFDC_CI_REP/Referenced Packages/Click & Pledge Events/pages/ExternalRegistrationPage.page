<apex:page controller="CnP_PaaS_EVT.ExternalRegistrationPage_class" extensions="CnP_PaaS_EVT.GlobalStatepicklistclass" cache="false" sidebar="false" showHeader="false"  id="Externalsite" standardStylesheets="false" action="{!InternalInventoryprocess}" ><!-- action="{!InternalInventoryprocess}" -->
<!-- <link href="http://click-pledge.v-empower.com/web/Events2.0/Graphics/frontend-html/firstpage_files/style.css" media="screen" rel="stylesheet" type="text/css" /> -->

<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="IE=10" />
<apex:stylesheet value="{!URLFOR($Resource.CnP_PaaS_EVT__BootstrapFrontend,'BootstrapFrontend/jquery-ui-bootstrap-gh-pages/css/custom-theme/jquery-ui-1.10.2.custom.css')}"/> 

<apex:stylesheet value="{!URLFOR($Resource.CnP_PaaS_EVT__BootstrapFrontend,'BootstrapFrontend/frontend-html/css/bootstrap.min.css')}"/>
<apex:stylesheet value="{!URLFOR($Resource.CnP_PaaS_EVT__BootstrapFrontend,'BootstrapFrontend/frontend-html/css/main.css')}"/>
<apex:stylesheet value="{!URLFOR($Resource.CnP_PaaS_EVT__BootstrapFrontend,'BootstrapFrontend/frontend-html/css/bootstrap-responsive.min.css')}"/>  
<!--
 
<link type="text/css" rel="stylesheet"  href="http://click-pledge.v-empower.com/web/SALESFORCE/Events2.0/Graphics/BootstrapFrontend/frontend-html/css/bootstrap.min.css" />
<link type="text/css" rel="stylesheet"  href="http://click-pledge.v-empower.com/web/SALESFORCE/Events2.0/Graphics/BootstrapFrontend/frontend-html/css/main.css" />
<link type="text/css" rel="stylesheet"  href="http://click-pledge.v-empower.com/web/SALESFORCE/Events2.0/Graphics/BootstrapFrontend/frontend-html/css/bootstrap-responsive.min.css" />-->
<apex:stylesheet value="{!URLFOR($Resource.CnP_PaaS_EVT__BootstrapFrontend,'BootstrapFrontend/bootstrap-datetimepicker-master/css/datetimepicker.css')}"/> 
<!--
<link type="text/css" rel="stylesheet"  href="http://click-pledge.v-empower.com/web/SALESFORCE/Events2.0/Graphics/jquery-countdown/style.css" />-->
 <apex:stylesheet value="{!URLFOR($Resource.CnP_PaaS_EVT__BootstrapFrontend,'BootstrapFrontend/jquery-countdown/style.css')}"/>  

<apex:stylesheet value="{!URLFOR($Resource.CnP_PaaS_EVT__BootstrapFrontend,'BootstrapFrontend/twitter-bootstrap-wizard-master/prettify.css')}"/> 



 <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/frontend-html/js/jquery.js')}"></script> 
<!--<script src="https://code.jquery.com/jquery-migrate-1.1.1.min.js"></script> -->
<script src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>

<title>{!EventId.Event_title__c}</title>
<script type="text/javascript">
    // IE9 fix
    if(!window.console) {
        var console = {
            log : function(){},
            warn : function(){},
            error : function(){},
            time : function(){},
            timeEnd : function(){}
        }
    }
    if (jQuery.browser.msie && jQuery.browser.version === '9.0')
    {
        data = data.replace(/>\s+(?=<\/?(t|c)[hardfob])/gm,'>');
    }    
$(function () {
    var isIE = window.ActiveXObject || "ActiveXObject" in window;
    if (isIE) {
        $('.modal').removeClass('fade');
    }
}); 
$("object[type='application/x-shockwave-flash']").append('<param name="wMode" value="transparent"/>');
</script>
  
<style>
/* IE11, IE8 and below hack */
            #alertIE11.modal {
            font-family: Arial, sans-serif;
            }
            body.ie8 .modal-backdrop8{
            display:block;
            opacity: .6;
            filter: alpha(opacity=60);
            z-index: 999!important;
            height:2024px;
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            background-color: #000;
            font-family: Arial, sans-serif;
            }
            body.ie8 #alertIE8.modal {
            display:block;
            font-family: Arial, sans-serif;
            z-index: 99999!important;
            width:400px;
            left:50%;
            position: absolute;
            top: 300px;
            margin-left:-200px;
            background-color: #fff;
            -webkit-border-radius: 6px;
            -moz-border-radius: 6px;
            border-radius: 6px;
            }
            body.ie8 #alertIE8 .modal-header{
            background-color: #efefef;
            background-image: -webkit-gradient(linear, 0 0%, 0 100%, from(#fdfdfd), to(#eaeaea));
            background-image: -webkit-linear-gradient(top, #fdfdfd 0%, #eaeaea 100%);
            background-image: -moz-linear-gradient(top, #fdfdfd 0%, #eaeaea 100%);
            background-image: -ms-linear-gradient(top, #fdfdfd 0%, #eaeaea 100%);
            background-image: -o-linear-gradient(top, #fdfdfd 0%, #eaeaea 100%);
            background-image: -linear-gradient(top, #fdfdfd 0%, #eaeaea 100%);
            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#fdfdfd', endColorstr='#eaeaea',GradientType=0 );
            border-bottom: 1px solid #CDCDCD;
            padding: 8px 15px;
            }
            body.ie8 #alertIE8 .modal-body {
            padding: 10px;
            }
</style>

<script type="text/javascript"> 

$.support.transitions = false;

function LoadFunction(){
    window.location.reload();
}

 function confirmvalidation(){
 $('.loading-indicator1').hide();
 
 $('#Anony1').hide('slide',{direction: 'left'}, 500);
 $('#Anony2').show('slide',{direction: 'right'}, 500);
 $('#Anony3').hide('slide');
 /*$('#Anonymous').carousel({
     slide:'next',
    interval:false,
 });  */
 }
 
 function confirmvalidation1(){
  $('#Regist1').hide('slide',{direction: 'left'}, 500);
 $('#Regist2').show('slide',{direction: 'right'}, 500);
 $('#Regist3').hide('slide');
 $('.loading-indicator1').hide();
 /*  $('#Register').carousel({
    slide:'next',
    interval: false,
   
});*/


  
}
function completeprocess(){
    $('.loading-indicator1').hide();
    
      if({!attendeedialog}==false){
             $('#addModal').modal(
              {               
               backdrop: 'static',
               keyboard: false, 
               show:true             
              }
             );
             $('#addModal').draggable(
              {
               handle: ".modal-footer,.modal-header"
              } 
             );
            
        }else{
            $('#alertmessage').modal(
              {
               backdrop: 'static',
               keyboard: false,
               show:true
              }
             );
            $('#alertmessage').draggable(
              {
               handle: ".modal-footer,.modal-header"
              } 
             );
        }
}
function submitcompleteprocess(levelidparam){

 $('.loading-indicator1').hide();
    $('#addModal').modal('toggle');
    var levelid=levelidparam;

     $("#showlink"+levelid).hide();
        $("#"+levelid+"level_list").show();
        $('#hidelink'+levelid).show();
        
}
function editcompleteprocess(){
$('.loading-indicator1').hide();
     $('#editModal1').modal({
       backdrop: 'static',
       keyboard: false,
       show:true
      });
      $('#editModal1').draggable(
      {
       handle: ".modal-footer,.modal-header"
      } 
     );

}
function displaycompleteprocess(){
$('.loading-indicator1').hide();
     $('#displayModal1').modal({
       backdrop: 'static',
       keyboard: false,
       show:true
      });
      $('#displayModal1').draggable(
      {
       handle: ".modal-footer,.modal-header"
      } 
     );

}
function submiteditcompleteprocess(){
$('.loading-indicator1').hide();
    
       $('#editModal1').modal('toggle');


}
function removecompleteprocess(){
$('.loading-indicator1').hide();
     $('#removeModal1').modal({
       backdrop: 'static',
       keyboard: false,
       show:true
      });
      $('#removeModal1').draggable(
      {
       handle: ".modal-footer,.modal-header"
      } 
     );
}
function submitremovecompleteprocess(){
$('.loading-indicator1').hide();
     $('#removeModal1').modal('toggle');
     
}
function showLoadingDiv(){
  $(".modal_close").one().attr("disabled", "true");
  $('.loading-indicator1').fadeIn("normal"); 
  $('.quntitytextenable').attr('disabled','true');
  $('.Anonymous_Confirmbutton').attr('disabled','true');
  // $('.Register_Confirmbutton').attr('disabled','true');
  
}

   function submitprocess(){
  $('.loading-indicator1').hide();
  
   }
    function dataslideprev(){
    
     $('.loading-indicator1').hide();
     /*   $('#Register').carousel({
        slide:'prev',
       interval: false,
    
}); */
      /*$('#Anonymous').carousel({
        slide:'prev',
       interval: false,
    
});  */
 $('#Anony1').show('slide',{direction: 'left'}, 500);
 $('#Anony2').hide('slide',{direction: 'right'}, 500);
 $('#Anony3').hide('slide');
 $('#Regist1').show('slide',{direction: 'left'}, 500);
 $('#Regist2').hide('slide',{direction: 'right'}, 500);
 $('#Regist3').hide('slide');
 }
 
     function CallWebService_JS(){
CallWebService_JS1();

}

  
    
    
   function trimvalue(value,fieldclass)
   {
 
     var replace=$.trim(value); 
     
     $("."+fieldclass).attr('value',replace);
   } 
   
   
   
    function AnonymousFormValidation(disppaymenttype){
   
 
   var t=0;
   
               $(".any_required").each(function(){       
                           
                     var required_fields=$(this).val();
                  //  var show =$(this).attr('class');
                 // alert(show); 
                     if(required_fields=="")                      
                     {    t=t+1;
                          alert("Please enter required fields");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false;   
                     }else{
                     
                         $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                          $(this).closest('.control-group').removeClass('error');
                     }               
               });
               
              
               
    
                
           
  
   if(t==0){    
    
               var fn = $(".FirstName").val();
                 
               var ln = $(".LastName").val();
               
               var email = $(".Email").val();
               var dob = $(".Birthdate").val();
               var phone = $(".Phone").val();               
               var an = $(".AssistantName").val();
               var ap = $(".AssistantPhone").val();
               var fax = $(".Fax").val();               
               var dp = $(".Department").val();
               var dis = $(".Description").val();
               var HomePhone = $(".HomePhone").val();
              // var CnP_PaaS_EVT__Languages__c = $(".CnP_PaaS_EVT__Languages__c").val();
               var LeadSource = $(".LeadSource").val();
              // var CnP_PaaS_EVT__Level__c = $(".CnP_PaaS_EVT__Level__c").val();
               var MailingCity = $(".MailingCity").val();
               var MailingCountry = $(".MailingCountry").val();
               var MailingState = $(".MailingState").val();
               var MailingStreet = $(".MailingStreet").val();
              
               var MailingPostalCode = $(".MailingPostalCode").val();
               var MobilePhone = $(".MobilePhone").val();
               var OtherCity = $(".OtherCity").val();
               var OtherCountry = $(".OtherCountry").val();
               var OtherPhone = $(".OtherPhone").val();
               var CnP_PaaS__Other_Province__c = $(".CnP_PaaS__Other_Province__c").val();
               var OtherState = $(".OtherState").val();
               var OtherStreet = $(".OtherStreet").val();
               var OtherPostalCode = $(".OtherPostalCode").val();
               var Salutation = $(".Salutation").val();
               var Title_1 = $(".Title").val();
               var DateField=$(".DATE").val();
               var PhoneField =$(".PHONE").val();
               var EmailField=$(".EMAIL").val();
               var DateTimeField=$(".DATETIME").val();
              
               var UrlField =$(".URL").val();
               var PercentageField=$(".PERCENT").val(); 
               var NumberField= $(".DOUBLE").val();
            //   Var CurrencyField= $(".CURRENCY").val(); 
               var Textareafield= $(".TEXTAREA").val(); 
               
             
               var Checkbox =$(".BOOLEAN").attr('checked');
               
               var regnewvalidation =/[=\"\<\>\&\\\{\}]/;
               
               var firstnamevalidation=/^(?=.*[a-zA-Z0-9]).+$/;
               
               var reg = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
               var reg_text=/^([a-zA-Z0-9\.\,\#\&\-\'\ ])+$/;
               var reg_fname=/^([a-zA-Z0-9\.\,\#\&\-\'\ ])+$/;
               
               var reg_billingcity=/^([a-zA-Z0-9\.\,\&\-\'\ ])+$/;
               
               var reg_billingprovince=/^([a-zA-Z0-9\.\,\&\-\'\[\]\(\)\ ])+$/;
               var reg_billingpostalcode=/^([a-zA-Z0-9\.\-\ ]{2,20})+$/;
             
               var reg_billingphone=/^([0-9\.\-\(\)\+\ ])+$/;
               
               var reg_billingaddress1=/^([a-zA-Z0-9\.\,\#\&\-\'\ ])+$/;
               
                var reg_cardname=/^([a-zA-Z0-9\.\,\#\-\'\ ])+$/;
                
               var reg_num=/^([0-9\.\-\(\)\ ])+$/;
               var reg_zip=/^([A-Za-z0-9\.\-\ ])+$/;
               
               var reg_email = /^([A-Za-z0-9_\-\+\&\.\!\#\$\%\'\*\/\:\?\^\`\{\|\}\~])+\@([A-Za-z0-9\-\.])+\.([A-Za-z]{2,4})$/;

                var reg_textarea=/^([a-zA-Z0-9 \n\r\.\,\#\&\-\'])+$/;

              // var reg_email =/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;
               var reg_Phone=/^([0-9\.\-\(\)\+\ ])+$/;
        
               // var  reg_dob = /^(\d{1,2})\/(\d{1,2})\/(\d{4})$/;
               var reg_dob=/^\d{1,2}\/\d{1,2}\/\d{4}$/;
               var validformattime = /^\d{1,2}:\d{2}$/;
               var pattern = /(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;
               var validatepercentage =/^(100(?:\.0{1,2})?|0*?\.\d{1,2}|\d{1,2}(?:\.\d{1,2})?)$/;
               var check=new Date();
               var c_mo=(check.getMonth()+1);
               var c_ye=check.getFullYear();
               c_ye =c_ye.toString().slice(2);
               var mo = $(".select_ExpirationMonth").val();
               var yr = $(".select_ExpirationYear").val();
               c_mo += '';
                
               if(c_mo.length==1){
                   c_mo = '0'+c_mo;
               }
               var  numvalidation =/^([0-9])+$/;
               var  stringnumsvalidation=/^([a-zA-Z0-9\.\,\#\&\-\'\ ])+$/;
               var creditnamevalidation=/^([a-zA-Z0-9\.\,\#\&\-\ ])+$/;
               //var reg_customtextvalidation=/^([a-zA-Z0-9\'\,\.\-\/\$\:\ ])+$/;
               var reg_customtextvalidation=/^([a-zA-Z0-9\.\,\#\-\'\@\$\%\*\^\(\)\{\}\\\[\]\_\;\:\"\<\>\?\/\`\|\!\+\n ])+$/
               var creditcardname =jQuery.trim(jQuery(".txtNameOnCard").val());
               var nameonaccount =jQuery.trim(jQuery(".txtNameOnAccount").val());
               var reg_cardtype =/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})+$/;
               fn=$.trim(fn);
               $(".FirstName").attr('value',fn);
               if(fn!="" && ( regnewvalidation.test(fn)==true || !fn.indexOf(' ',0)))
               {
                  t=t+1;
                  alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                  $(".FirstName").closest('tr').find('label').closest('.control-group').addClass('error');
                  $(".FirstName").closest('.control-group').addClass('error');
                  $(".FirstName").focus();
                  return false;
               }
               else if(fn!="" && ( firstnamevalidation.test(fn)==false || !fn.indexOf(' ',0)))
               {
                  t=t+1;
                  alert("First Name Should have atleast one Alphanumeric character");
                  $(".FirstName").closest('tr').find('label').closest('.control-group').addClass('error');
                  $(".FirstName").closest('.control-group').addClass('error');
                  $(".FirstName").focus();
                  return false;
               }
               else if(fn!="" && fn.length >40){
                       t=t+1;
                      alert("First Name Should not exceed 40 characters");
                      $(".FirstName").closest('tr').find('label').closest('.control-group').addClass('error');
                      $(".FirstName").closest('.control-group').addClass('error');
                      $(".FirstName").focus();
                      return false;
               
               }else{
                     
                         $(".FirstName").closest('tr').find('label').closest('.control-group').removeClass('error');
                         $(".FirstName").closest('.control-group').removeClass('error');
                     }  
               ln=$.trim(ln);
               $(".LastName").attr('value',ln); 
               if(ln!="" && ( regnewvalidation.test(ln)==true || !ln.indexOf(' ',0))){
                  t=t+1;
                  alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                  $(".LastName").closest('tr').find('label').closest('.control-group').addClass('error');
                  $(".LastName").closest('.control-group').addClass('error');
                  $(".LastName").focus();
                  return false;
               }else if(ln!="" && ln.length >39){
                       t=t+1;
                      alert("Last Name Should not exceed 39 characters");
                      $(".LastName").closest('tr').find('label').closest('.control-group').addClass('error');
                      $(".LastName").closest('.control-group').addClass('error');
                      $(".LastName").focus();
                      return false;
               
               } else{                    
                         $(".LastName").closest('tr').find('label').closest('.control-group').removeClass('error');
                         $(".LastName").closest('.control-group').removeClass('error');
                     }         
               if(email!="" && email!=undefined){       
               if(email!="" &&  reg_email.test(email)==false && email!=undefined)
               {
                   t=t+1;
                   alert("Please enter a valid Email");
                   $(".Email").closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".Email").closest('.control-group').addClass('error');
                   $(".Email").focus();
                   return false;
               }else if(email!="" && email.length >=50){
                       t=t+1;
                      alert("Email Should not exceed 50 characters");
                      $(".Email").closest('tr').find('label').closest('.control-group').addClass('error');
                      $(".Email").closest('.control-group').addClass('error');
                      $(".Email").focus();
                      return false;
               
               }else{                    
                         $(".Email").closest('tr').find('label').closest('.control-group').removeClass('error');
                         $(".Email").closest('.control-group').removeClass('error');
                     }  
               }
             
             /*  if(dob!="" && reg_dob.test(dob)==false && dob!=undefined)
               {                  
                    alert("Please enter the valid date ");
                    $(".Birthdate").focus();
                    return false;
               }   */
              if(phone!="" && phone!=undefined){            
              if(  reg_Phone.test(phone)==false || !phone.indexOf(' ',0)){
                   t=t+1;
                   alert("Please enter a valid phone number");
                    $(".Phone").closest('tr').find('label').closest('.control-group').addClass('error');
                    $(".Phone").closest('.control-group').addClass('error');
                   $(".Phone").focus();
                   return false;
               }else{                    
                         $(".Phone").closest('tr').find('label').closest('.control-group').removeClass('error');
                         $(".Phone").closest('.control-group').removeClass('error');
                     }  
                if(phone.length<6 || phone.length>20){
                       t=t+1;
                       alert("Phone should be 6 to 20 characters only");
                       $(".Phone").closest('tr').find('label').closest('.control-group').addClass('error');
                       $(".Phone").closest('.control-group').addClass('error');
                       $(".Phone").focus();
                       return false;
                  }else{                    
                         $(".Phone").closest('tr').find('label').closest('.control-group').removeClass('error');
                         $(".Phone").closest('.control-group').removeClass('error');
                     } 
              }
                          
               if(an!="" && an!=undefined && (regnewvalidation.test(an)==true || !an.indexOf(' ',0))){
                  t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".AssistantName").closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".AssistantName").closest('.control-group').addClass('error');
                   $(".AssistantName").focus();
                   return false;
               }else{                    
                         $(".AssistantName").closest('tr').find('label').closest('.control-group').removeClass('error');
                         $(".AssistantName").closest('.control-group').removeClass('error');
               } 
                
              if(ap!="" && ap!=undefined  && ( reg_Phone.test(ap)==false || !ap.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid phone number");
                   $(".AssistantPhone").closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".AssistantPhone").closest('.control-group').addClass('error');
                   $(".AssistantPhone").focus();
                   return false;
               }else{                    
                   $(".AssistantPhone").closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".AssistantPhone").closest('.control-group').removeClass('error');
               }   
               
               if(fax!="" && fax!=undefined  && ( reg_num.test(fax)==false || !fax.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid fax number");
                   $(".Fax").closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".Fax").closest('.control-group').addClass('error');
                   $(".Fax").focus();
                   return false;
               }else{                    
                   $(".Fax").closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".Fax").closest('.control-group').removeClass('error');
               }   
                             
              if(dp!="" && dp!=undefined  && (regnewvalidation.test(dp)==true || !dp.indexOf(' ',0))){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".Department").closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".Department").closest('.control-group').addClass('error');
                   $(".Department").focus();
                   return false;
               }else{                    
                   $(".Department").closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".Department").closest('.control-group').removeClass('error');
               }
               
               if(dis!="" && dis!=undefined  && (regnewvalidation.test(dis)==true|| !dis.indexOf(' ',0))){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".Description").closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".Description").closest('.control-group').addClass('error');
                   $(".Description").focus();
                   return false;
               }else{                    
                   $(".Description").closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".Description").closest('.control-group').removeClass('error');
               }
               
              if(HomePhone!="" && HomePhone!=undefined && ( reg_billingphone.test(HomePhone)==false || !HomePhone.indexOf(' ',0))){
                  t=t+1;
                   alert("Please enter a valid number");
                   $(".HomePhone").closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".HomePhone").closest('.control-group').addClass('error');
                   $(".HomePhone").focus();
                   return false;
               }else{                    
                   $(".HomePhone").closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".HomePhone").closest('.control-group').removeClass('error');
               }    
            
             if(MailingCity!="" && MailingCity!=undefined ){
                  
                  if(regnewvalidation.test(MailingCity)==true || !MailingCity.indexOf(' ',0)){
                       t=t+1;
                       alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                       $(".MailingCity").closest('tr').find('label').closest('.control-group').addClass('error');
                       $(".MailingCity").closest('.control-group').addClass('error');
                       $(".MailingCity").focus();
                       return false;
                  }else{                    
                       $(".MailingCity").closest('tr').find('label').closest('.control-group').removeClass('error');
                       $(".MailingCity").closest('.control-group').removeClass('error');
                  }
                  if(MailingCity.length<2 || MailingCity.length>40){
                       t=t+1;
                       alert("City should be 2 to 40 characters only");
                       $(".MailingCity").closest('tr').find('label').closest('.control-group').addClass('error');
                       $(".MailingCity").closest('.control-group').addClass('error');
                       $(".MailingCity").focus();
                       return false;
                  }else{                    
                       $(".MailingCity").closest('tr').find('label').closest('.control-group').removeClass('error');
                       $(".MailingCity").closest('.control-group').removeClass('error');
                  }
             
              }
               
             
                 
               if(MailingCountry!="" && MailingCountry!=undefined && (regnewvalidation.test(MailingCountry)==true || !MailingCountry.indexOf(' ',0))){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".MailingCountry").closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".MailingCountry").closest('.control-group').addClass('error');
                   $(".MailingCountry").focus();
                   return false;
               }else{                    
                       $(".MailingCountry").closest('tr').find('label').closest('.control-group').removeClass('error');
                       $(".MailingCountry").closest('.control-group').removeClass('error');
                  }
                 if(MailingState!="" && MailingState!=undefined){ 
                 var mst=$.trim(MailingState);
                    
                  $(".MailingState").attr('value',mst);
               if((regnewvalidation.test(MailingState)==true || !MailingState.indexOf(' ',0))){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".MailingState").closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".MailingState").closest('.control-group').addClass('error');
                   $(".MailingState").focus();
                   return false;
               }else{                    
                       $(".MailingState").closest('tr').find('label').closest('.control-group').removeClass('error');
                       $(".MailingState").closest('.control-group').removeClass('error');
                  }
                 
                  if(MailingState.length<2 || MailingState.length>50){
              
                            t=t+1;
                            alert("State should be 2 to 50 characters only");
                            $(".MailingState").closest('tr').find('label').closest('.control-group').addClass('error');
                            $(".MailingState").closest('.control-group').addClass('error');
                            $(".MailingState").focus();
                            return false;
                    }else{                    
                       $(".MailingState").closest('tr').find('label').closest('.control-group').removeClass('error');
                       $(".MailingState").closest('.control-group').removeClass('error');
                    }
                 
                 
                 }
               
               if(MailingStreet!="" && MailingStreet!=undefined){
                  var ms=$.trim(MailingStreet);
                    
                     $(".MailingStreet").attr('value',ms);
                   if(regnewvalidation.test(MailingStreet)==true || !MailingStreet.indexOf(' ',0)){
                           t=t+1;
                           alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                           $(".MailingStreet").closest('tr').find('label').closest('.control-group').addClass('error');
                           $(".MailingStreet").closest('.control-group').addClass('error');
                           $(".MailingStreet").focus();
                           return false;
                   }else{                    
                       $(".MailingStreet").closest('tr').find('label').closest('.control-group').removeClass('error');
                       $(".MailingStreet").closest('.control-group').removeClass('error');
                  }
                    if(MailingStreet.length<2 || MailingStreet.length>100){
              
                            t=t+1;
                            alert("Address should be 2 to 100 characters only");
                            $(".MailingStreet").closest('tr').find('label').closest('.control-group').addClass('error');
                            $(".MailingStreet").closest('.control-group').addClass('error');
                            $(".MailingStreet").focus();
                            return false;
                    }else{                    
                       $(".MailingStreet").closest('tr').find('label').closest('.control-group').removeClass('error');
                       $(".MailingStreet").closest('.control-group').removeClass('error');
                    }            
               }     
             
              if(MailingPostalCode!="" && MailingPostalCode!=undefined ){
                  
                  if(regnewvalidation.test(MailingPostalCode)==true || !MailingPostalCode.indexOf(' ',0)){
                  
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".MailingPostalCode").closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".MailingPostalCode").closest('.control-group').addClass('error');
                   $(".MailingPostalCode").focus();
                   return false;
                  }else{                    
                       $(".MailingPostalCode").closest('tr').find('label').closest('.control-group').removeClass('error');
                       $(".MailingPostalCode").closest('.control-group').removeClass('error');
                    }
                  if(MailingPostalCode.length<2 || MailingPostalCode.length>20){
                       t=t+1;
                       alert("ZIP code should be 2 to 20 characters only");
                       $(".MailingPostalCode").closest('tr').find('label').closest('.control-group').addClass('error');
                       $(".MailingPostalCode").closest('.control-group').addClass('error');
                       $(".MailingPostalCode").focus();
                       return false;
                  }else{                    
                       $(".MailingPostalCode").closest('tr').find('label').closest('.control-group').removeClass('error');
                       $(".MailingPostalCode").closest('.control-group').removeClass('error');
                    }
               
               
               }
               
               
                 
              if(MobilePhone!="" && MobilePhone!=undefined && (reg_billingphone.test(MobilePhone)==false || !MobilePhone.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid phone number");
                   $(".MobilePhone").closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".MobilePhone").closest('.control-group').addClass('error');
                   $(".MobilePhone").focus();
                   return false;
               }else{                    
                   $(".MobilePhone").closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".MobilePhone").closest('.control-group').removeClass('error');
               }
               if(OtherCity!="" && OtherCity!=undefined && (regnewvalidation.test(OtherCity)==true || !OtherCity.indexOf(' ',0))){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".OtherCity").closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".OtherCity").closest('.control-group').addClass('error');
                   $(".OtherCity").focus();
                   return false;
               }else{                    
                   $(".OtherCity").closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".OtherCity").closest('.control-group').removeClass('error');
               }
              
               if(OtherCountry!="" && OtherCountry!=undefined  && (regnewvalidation.test(OtherCountry)==true || !OtherCountry.indexOf(' ',0))){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".OtherCountry").closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".OtherCountry").closest('.control-group').addClass('error');
                   $(".OtherCountry").focus();
                   return false;
               }else{                    
                   $(".OtherCountry").closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".OtherCountry").closest('.control-group').removeClass('error');
               }
             if(OtherPhone!="" && OtherPhone!=undefined  && (reg_billingphone.test(OtherPhone)==false || !OtherPhone.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid phone number");
                   $(".OtherPhone").closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".OtherPhone").closest('.control-group').addClass('error');
                   $(".OtherPhone").focus();
                   return false;
             }else{                    
                   $(".OtherPhone").closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".OtherPhone").closest('.control-group').removeClass('error');
             }
              if(CnP_PaaS__Other_Province__c!="" && CnP_PaaS__Other_Province__c!=undefined && (regnewvalidation.test(CnP_PaaS__Other_Province__c)==true || !CnP_PaaS__Other_Province__c.indexOf(' ',0))){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".CnP_PaaS__Other_Province__c").closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".CnP_PaaS__Other_Province__c").closest('.control-group').addClass('error');
                   $(".CnP_PaaS__Other_Province__c").focus();
                   return false;
               }else{                    
                   $(".CnP_PaaS__Other_Province__c").closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".CnP_PaaS__Other_Province__c").closest('.control-group').removeClass('error');
               }
               if(OtherState!="" && OtherState!=undefined && (regnewvalidation.test(OtherState)==true || !OtherState.indexOf(' ',0))){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".OtherState").closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".OtherState").closest('.control-group').addClass('error');
                   $(".OtherState").focus();
                   return false;
               }else{                    
                   $(".OtherState").closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".OtherState").closest('.control-group').removeClass('error');
               }
               if(OtherStreet!="" && OtherStreet!=undefined && (regnewvalidation.test(OtherStreet)==true || !OtherStreet.indexOf(' ',0))){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".OtherStreet").closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".OtherStreet").closest('.control-group').addClass('error');
                   $(".OtherStreet").focus();
                   return false;
               }else{                    
                   $(".OtherStreet").closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".OtherStreet").closest('.control-group').removeClass('error');
               }
              /* if(OtherPostalCode!="" && OtherPostalCode!=undefined && (reg_billingpostalcode.test(OtherPostalCode)==false || !OtherPostalCode.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".OtherPostalCode").focus();
                   return false;
               } */
               if(OtherPostalCode!="" && OtherPostalCode!=undefined ){
                  
                  if(regnewvalidation.test(OtherPostalCode)==true || !OtherPostalCode.indexOf(' ',0)){
                  
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".OtherPostalCode").closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".OtherPostalCode").closest('.control-group').addClass('error');
                   $(".OtherPostalCode").focus();
                   return false;
                  }else{                    
                   $(".OtherPostalCode").closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".OtherPostalCode").closest('.control-group').removeClass('error');
                  }
                  if(OtherPostalCode.length<2 || OtherPostalCode.length>20){
                       t=t+1;
                       alert("ZIP code should be 2 to 20 characters only");
                       $(".OtherPostalCode").closest('tr').find('label').closest('.control-group').addClass('error');
                       $(".OtherPostalCode").closest('.control-group').addClass('error');
                       $(".OtherPostalCode").focus();
                       return false;
                  }else{                    
                   $(".OtherPostalCode").closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".OtherPostalCode").closest('.control-group').removeClass('error');
                  }
               
               
               }
                                         
               if(Title_1!="" && Title_1!=undefined && (regnewvalidation.test(Title_1)==true || !Title_1.indexOf(' ',0))){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".Title").closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".Title").closest('.control-group').addClass('error');
                   $(".Title").focus();
                   return false;
               }else{                    
                   $(".Title").closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".Title").closest('.control-group').removeClass('error');
               }
            /*   if(DateField!="" && DateField!=undefined && (reg_dob.test(DateField)==false || !DateField.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".DATE").focus();
                   return false;
               }
           
              if(DateTimeField!="" && DateTimeField!=undefined ){
       
               var parts = DateTimeField.split(" ");
                
              if(parts.length == 3){
                 var date = parts[0];
                 var time = parts[1];
                 var ampm = parts[2].trim();
               
                 if(ampm.length == 2 && (ampm.toLowerCase() == "am" || ampm.toLowerCase() == "pm")){
                
                     if (reg_dob.test(date)){
                        
                            if (validformattime.test(time) ==false)  {                     
                           
                               t=t+1;
                               alert("Please enter a valid data");
                               $(".DATETIME").focus();
                               return false;
                            }
                    }else{
                           t=t+1;
                           alert("Please enter a valid data");
                           $(".DATETIME").focus();
                           return false;
                    
                    }
                 }else{
                       t=t+1;
                       alert("Please enter a valid data");
                       $(".DATETIME").focus();
                       return false;
             
                 }
             }else{
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".DATETIME").focus();
                   return false;
          
          
             }
             } */
            /*  $('.DOUBLE').each( function(){
                     var NumberField=$.trim($(this).val()); 
                    
                     $(this).attr('value',NumberField);
                    if(NumberField!="" && NumberField!=undefined && (numvalidation.test(NumberField)==false || !NumberField.indexOf(' ',0))){
                          t=t+1;
                          alert("Please enter valid number");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{                    
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
               }) 
               $('.PHONE').each( function(){
                     var PhoneField =$.trim($(this).val()); 
                    
                     $(this).attr('value',PhoneField);
                    if(PhoneField !="" && PhoneField !=undefined && ( reg_Phone.test(PhoneField)==false || !PhoneField.indexOf(' ',0))){
                          t=t+1;
                          alert("Please enter a valid phone number");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{                    
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
               })   
               $('.EMAIL').each( function(){
                     var EmailField=$.trim($(this).val()); 
                   
                     $(this).attr('value',EmailField);
                    if(EmailField!="" &&  reg_email.test(EmailField)==false && EmailField!=undefined){
                          t=t+1;
                          alert("Please enter a valid Email");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{                    
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
               })
               $('.URL').each( function(){
                     var UrlField=$.trim($(this).val()); 
                   
                     $(this).attr('value',UrlField);
                    if(UrlField!="" && UrlField!=undefined && (pattern.test(UrlField)==false || !UrlField.indexOf(' ',0))){
                          t=t+1;
                          alert("Please enter a valid url");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{                    
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
               })
            
           if(NumberField!="" && NumberField!=undefined && (numvalidation.test(NumberField)==false || !NumberField.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".DOUBLE").focus();
                   return false;
            }
             if(PhoneField !="" && PhoneField !=undefined && ( reg_Phone.test(PhoneField)==false || !PhoneField.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid phone number");
                   $(".PHONE").focus();
                   return false;
             }
             if(EmailField!="" &&  reg_email.test(EmailField)==false && EmailField!=undefined)
               {
                   t=t+1;
                   alert("Please enter a valid Email");
                   $(".EMAIL").focus();
                   return false;
               }
             
               
             if(UrlField!="" && UrlField!=undefined && (pattern.test(UrlField)==false || !UrlField.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".URL").focus();
                   return false;
            }
            
            if(PercentageField!="" && PercentageField!=undefined && (validatepercentage.test(PercentageField)==false || !PercentageField.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".PERCENT").focus();
                   return false;
            } */
        }
        if(t==0){
         $('.DOUBLE').each( function(){
                     var NumberField=$.trim($(this).val()); 
                     
                     $(this).attr('value',NumberField);
                    if(NumberField!="" && NumberField!=undefined && (numvalidation.test(NumberField)==false || !NumberField.indexOf(' ',0))){
                          t=t+1;
                          alert("Please enter valid number");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{   
                                            
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
               }) 
              
        }
      
                if(t==0){
               $('.PHONE').each( function(){
                     var PhoneField =$.trim($(this).val()); 
                    
                     $(this).attr('value',PhoneField);
                    if(PhoneField !="" && PhoneField !=undefined && ( reg_Phone.test(PhoneField)==false || !PhoneField.indexOf(' ',0))){
                          t=t+1;
                          alert("Please enter a valid phone number");
                           $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{                    
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
               })  
               }
                if(t==0){ 
               $('.EMAIL').each( function(){
                     var EmailField=$.trim($(this).val()); 
                   
                     $(this).attr('value',EmailField);
                    if(EmailField!="" &&  reg_email.test(EmailField)==false && EmailField!=undefined){
                          t=t+1;
                          alert("Please enter a valid Email");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{                    
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
               })
               }
                if(t==0){
               $('.URL').each( function(){
                     var UrlField=$.trim($(this).val()); 
                   
                     $(this).attr('value',UrlField);
                    if(UrlField!="" && UrlField!=undefined && (pattern.test(UrlField)==false || !UrlField.indexOf(' ',0))){
                          t=t+1;
                          alert("Please enter a valid url");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{                    
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
               })
               }
              if(t==0){
         $('.STRING').each( function(){
          
                     var ct1=$.trim($(this).val()); 
                    
                     $(this).attr('value',ct1);
                    
                    if(ct1!="" && (regnewvalidation.test(ct1)) ){
                          t=t+1;
                          alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{                    
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
                     if(ct1!="" && ct1.length>255 ){
                          t=t+1;
                          alert("Data should be 255 characters only");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{                    
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
                     
               }); 
               }
               if(t==0){
               
               $('.TEXTAREA').each( function(){
                     var r1=$.trim($(this).val());
                    
                     $(this).attr('value',r1);
                     if(r1!="" && (regnewvalidation.test(r1))){
                          t=t+1;
                          alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{                    
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
                      if(r1!="" && r1.length>500){
                       t=t+1;
                       alert("Data should be 500 characters only");
                       $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                       $(this).closest('.control-group').addClass('error');
                       $(this).focus();
                       return false;
                      }else{                    
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                      }
               }); 
            
          }
                if(t==0){
         $('.textbox').each( function(){
          
                     var t1=$.trim($(this).val()); 
                    
                     $(this).attr('value',t1);
                    
                    if(t1!="" && (regnewvalidation.test(t1)) ){
                          t=t+1;
                          alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{                    
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
                     if(t1!="" && t1.length>255 ){
                          t=t+1;
                          alert("Data should be 255 characters only");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{                    
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
                     
               }); 
               }
                if(t==0){
               
               $('.textarea').each( function(){
                     var r1=$.trim($(this).val());
                    
                     $(this).attr('value',r1);
                     if(r1!="" && (regnewvalidation.test(r1))){
                          t=t+1;
                          alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{                    
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
                      if(r1!="" && r1.length>500){
                       t=t+1;
                       alert("Data should be 500 characters only");
                       $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                       $(this).closest('.control-group').addClass('error');
                       $(this).focus();
                       return false;
                      }else{                    
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                      }
               }); 
            
          }
           
           
          
          if(t==0)
               {
           
                var ro = $(".rowvalues").val();
              
                  for(var i=0;i<ro;i++)
                  {
                       var ch=0;
                       var re=0;  
                                         
                       $(".checkbox"+i+" input:checkbox").each(function(){
                            re=1;  
                            
                            if($(this).is(':checked')==true)
                            {       
                                              
                                 ch=1;                                
                            }                   
                       });
                       
                       if(ch==0 && re==1)
                       {
                           alert("Please select at least one checkbox");
                           $(".checkbox"+i+" input:checkbox").closest('tr').find('label').closest('.control-group').addClass('error');
                           $(".checkbox"+i+" input:checkbox").closest('.control-group').addClass('error');
                           $(".checkbox"+i+" input:checkbox")[0].focus();
                           return false;
                       }else{                    
                           $(".checkbox"+i+" input:checkbox").closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(".checkbox"+i+" input:checkbox").closest('.control-group').removeClass('error');
                      }
                       var ra=0;
                       var cr=0;
                       $(".radiobox"+i+" input:radio").each(function(){
                            cr=1;        
                            if($(this).is(':checked')==true)
                            {
                                ra=1;
                            }
                       
                       })
                       
                       if(ra==0 && cr==1)
                       {
                               alert("Please select at least one radiobox");
                               $(".radiobox"+i+" input:radio").closest('tr').find('label').closest('.control-group').addClass('error');
                               $(".radiobox"+i+" input:radio").closest('.control-group').addClass('error');
                               $(".radiobox"+i+" input:radio")[0].focus();
                               return false;
                       } else{                    
                           $(".radiobox"+i+" input:radio").closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(".radiobox"+i+" input:radio").closest('.control-group').removeClass('error');
                       }                      
                       
                  }
            if(disppaymenttype=='CreditCard'){
               

                    if(creditcardname =="" || creditcardname ==null){
                       t=t+1;
                       alert("Name on Card must be defined");
                       $(".txtNameOnCard").closest('tr').find('label').closest('.control-group').addClass('error');
                       $(".txtNameOnCard").closest('.control-group').addClass('error');
                       $(".txtNameOnCard").focus();     
                       return false;
                        
                    }else if(!reg_cardname.test(creditcardname)){
                            t=t+1;
                          alert("Please enter only alphanumeric and space for Name on Card");
                          $(".txtNameOnCard").closest('tr').find('label').closest('.control-group').addClass('error');
                          $(".txtNameOnCard").closest('.control-group').addClass('error');
                          $(".txtNameOnCard").focus();
                          return false;
                    }else if(creditcardname.length <2){
                            t=t+1;
                           alert("Name on Card must be 2 Characters");
                           $(".txtNameOnCard").closest('tr').find('label').closest('.control-group').addClass('error');
                           $(".txtNameOnCard").closest('.control-group').addClass('error');
                           $(".txtNameOnCard").focus();     
                           return false;   
                    }else{                    
                           $(".txtNameOnCard").closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(".txtNameOnCard").closest('.control-group').removeClass('error');
                    }  
                    
                    if($(".txtCardNumber").val()=="" || $(".txtCardNumber").val()==null ){
                        t=t+1;
                        alert("Credit Card Number Must be defined");
                        $(".txtCardNumber").closest('tr').find('label').closest('.control-group').addClass('error');
                        $(".txtCardNumber").closest('.control-group').addClass('error');
                        $(".txtCardNumber").focus();
                          return false;    
                    
                    }else if(!reg_cardtype.test($(".txtCardNumber").val())){
                            t=t+1;
                          alert("Credit Card Number Must be Valid Number");
                          $(".txtCardNumber").closest('tr').find('label').closest('.control-group').addClass('error');
                          $(".txtCardNumber").closest('.control-group').addClass('error');
                          $(".txtCardNumber").focus();
                          return false;
                    }else if("{!EventId.Registration_Type__c}"=='Active'){
                            if($(".txtCardNumber").val()!="" || $(".txtCardNumber").val()!=null){
                    
                             var a = [];
                             if($(".txtCardNumber").hasClass('cnpmastercard')==true ){
                                a.push('mastercard');
                             }
                             if($(".txtCardNumber").hasClass('cnpvisa')==true ){
                                a.push('visa');
                             }
                             if($(".txtCardNumber").hasClass('cnpdiscover')==true ){
                                a.push('discover');
                             }
                             if($(".txtCardNumber").hasClass('cnpamex')==true ){
                                a.push('amex');
                             }
                             if($(".txtCardNumber").hasClass('cnpjcb')==true ){
                                a.push('jcb');
                             }
                             var checknum =0;
                          
                            $('.txtCardNumber').validateCreditCard(function(result)
                            {
                            
                              //   alert('type'+result.card_type);
                               //  alert('sss'+a.length);
                               checknum =0;
                                 if(a.length >0){
                               
                             
                                 
                                    if(result.length_valid ==false){
                                           
                                     checknum =checknum+1;
                                    }
                              
                                }
                            
                            },{ accept: a });
                           // alert('dddd'+checknum);
                            if(checknum >0){
                             t=t+1;
                             alert("Credit Card Type Number Must be Valid Number"); 
                             $(".txtCardNumber").closest('tr').find('label').closest('.control-group').addClass('error');
                             $(".txtCardNumber").closest('.control-group').addClass('error');
                                            $(".txtCardNumber").focus(); 
                                            return false;  
                            
                            }else{                    
                               $(".txtCardNumber").closest('tr').find('label').closest('.control-group').removeClass('error');
                               $(".txtCardNumber").closest('.control-group').removeClass('error');
                            }
                               
                          
                         
                        
                    }
                    }else{                    
                               $(".txtCardNumber").closest('tr').find('label').closest('.control-group').removeClass('error');
                               $(".txtCardNumber").closest('.control-group').removeClass('error');
                            }
                     var cardoption= jQuery.trim(jQuery(".cardoption").val());
                     if("{!registrationtype}"!='manual'){
                     if(cardoption!='CardReader'){
                     if($(".txtCvv").val()=="" || $(".txtCvv").val()==null ){
                         t=t+1;
                        alert("Card Verification (CVV) must be defined");
                        $(".txtCvv").closest('tr').find('label').closest('.control-group').addClass('error');
                        $(".txtCvv").closest('.control-group').addClass('error');
                        $(".txtCvv").focus();
                          return false;    
                    
                    }else if($(".txtCvv").val()!="" && $(".txtCvv").val().length<3) {
                               t=t+1;
                            alert("Please Enter a Number atleast 3 digits in Card Verification (CVV)");
                            $(".txtCvv").closest('tr').find('label').closest('.control-group').addClass('error');
                            $(".txtCvv").closest('.control-group').addClass('error');
                            jQuery(".txtCvv").focus();
                            return false;
                        }else{                    
                               $(".txtCvv").closest('tr').find('label').closest('.control-group').removeClass('error');
                               $(".txtCvv").closest('.control-group').removeClass('error');
                            } 
                    }
                    }
                    
                     if(mo =="--Select--"){
                            t=t+1;
                         alert("Expiration Date must be defined");
                         $(".select_ExpirationMonth").closest('tr').find('label').closest('.control-group').addClass('error');
                         $(".select_ExpirationMonth").closest('.control-group').addClass('error');
                         $(".select_ExpirationMonth").focus();
                         return false;
                        
                    }else if(c_ye >= yr && c_mo > mo){
                            t=t+1;
                           alert("Expiration Date must be Valid ");
                           $(".select_ExpirationMonth").closest('tr').find('label').closest('.control-group').addClass('error');
                           $(".select_ExpirationMonth").closest('.control-group').addClass('error');
                           $(".select_ExpirationMonth").focus();
                           return false;   
                    }else{                    
                               $(".select_ExpirationMonth").closest('tr').find('label').closest('.control-group').removeClass('error');
                               $(".select_ExpirationMonth").closest('.control-group').removeClass('error');
                    } 
      
 
              }
              
             if(disppaymenttype=='ReferenceTransaction'){
             
                if($(".txtOrderNumber").val()==""){
                    t=t+1;
                    alert("Please Enter Order Number !");
                    $(".txtOrderNumber").closest('tr').find('label').closest('.control-group').addClass('error');
                    $(".txtOrderNumber").closest('.control-group').addClass('error');
                   $(".txtOrderNumber").focus();    
                   return false;
                
                }else{                    
                               $(".txtOrderNumber").closest('tr').find('label').closest('.control-group').removeClass('error');
                               $(".txtOrderNumber").closest('.control-group').removeClass('error');
                } 
                
                if($(".txtVaultguid").val()==""){
                    t=t+1;
                    alert("Please Enter Valid GUID !");
                    $(".txtVaultguid").closest('tr').find('label').closest('.control-group').addClass('error');
                    $(".txtVaultguid").closest('.control-group').addClass('error');
                    $(".txtVaultguid").focus();  


                   return false;
                
                }else{                    
                               $(".txtVaultguid").closest('tr').find('label').closest('.control-group').removeClass('error');
                               $(".txtVaultguid").closest('.control-group').removeClass('error');
                } 
                
                
             
             }
              if(disppaymenttype=='Check'){
             
                if($(".txtRoutingNumber").val()==""){
                     t=t+1;
                    alert("Routing Number Must be defined");
                    $(".txtRoutingNumber").closest('tr').find('label').closest('.control-group').addClass('error');
                    $(".txtRoutingNumber").closest('.control-group').addClass('error');
                   $(".txtRoutingNumber").focus();  
                   return false;
                
                } else if($(".txtRoutingNumber").val()!="")
                {
                      if(!numvalidation.test($(".txtRoutingNumber").val()))
                      {
                              t=t+1;
                                          alert("Routing Number Must contain numerics only");
                                          $(".txtRoutingNumber").closest('tr').find('label').closest('.control-group').addClass('error');
                                          $(".txtRoutingNumber").closest('.control-group').addClass('error');
                                          jQuery(".txtRoutingNumber").focus();
                                          return false;
                      }
                      else if(($(".txtRoutingNumber").val()).length<9)
                      {
                              t=t+1;
                                          alert("Routing Number Must contain 9 digits");
                                          $(".txtRoutingNumber").closest('tr').find('label').closest('.control-group').addClass('error');
                                          $(".txtRoutingNumber").closest('.control-group').addClass('error');
                                          jQuery(".txtRoutingNumber").focus();
                                          return false;
                      }else{                    
                               $(".txtRoutingNumber").closest('tr').find('label').closest('.control-group').removeClass('error');
                               $(".txtRoutingNumber").closest('.control-group').removeClass('error');
                      } 
                 }else{                    
                               $(".txtRoutingNumber").closest('tr').find('label').closest('.control-group').removeClass('error');
                               $(".txtRoutingNumber").closest('.control-group').removeClass('error');
                 } 
                 if($(".txtCheckNumber").val()=="" || $(".txtCheckNumber").val()==null)
                  {
                           t=t+1;
                                      alert("Check Number Must be defined");
                                      $(".txtCheckNumber").closest('tr').find('label').closest('.control-group').addClass('error');
                                      $(".txtCheckNumber").closest('.control-group').addClass('error');
                                      $(".txtCheckNumber").focus();
                                      return false;
                  }
                  else if($(".txtCheckNumber").val()!="" && !numvalidation.test($(".txtCheckNumber").val()))
                  {
                            t=t+1;
                                      alert("Check Number Must contain numerics only");
                                      $(".txtCheckNumber").closest('tr').find('label').closest('.control-group').addClass('error');
                                      $(".txtCheckNumber").closest('.control-group').addClass('error');
                                      $(".txtCheckNumber").focus();
                                      return false;

                  }else{                    
                               $(".txtCheckNumber").closest('tr').find('label').closest('.control-group').removeClass('error');
                               $(".txtCheckNumber").closest('.control-group').removeClass('error');
                 } 
                  
                  if($(".txtAccountNumber").val()=="" || $(".txtAccountNumber").val()==null)
                  {
                           t=t+1;
                                      alert("Account Number Must be defined");
                                      $(".txtAccountNumber").closest('tr').find('label').closest('.control-group').addClass('error');
                                      $(".txtAccountNumber").closest('.control-group').addClass('error');
                                      $(".txtAccountNumber").focus();  
                                      return false;
                  }
                  else if($(".txtAccountNumber").val()!="" && !numvalidation.test($(".txtAccountNumber").val()))
                  {
                           t=t+1;
                                      alert("Account Number Must contain numerics only");
                                      $(".txtAccountNumber").closest('tr').find('label').closest('.control-group').addClass('error');
                                      $(".txtAccountNumber").closest('.control-group').addClass('error');
                                      $(".txtAccountNumber").focus();  
                                      return false;
                  }else{                    
                               $(".txtAccountNumber").closest('tr').find('label').closest('.control-group').removeClass('error');
                               $(".txtAccountNumber").closest('.control-group').removeClass('error');
                 }
                  
                  if($(".txtAccountNumber2").val()=="" || $(".txtAccountNumber2").val()==null)
                  {
                           t=t+1;
                                      alert("Repeat Account Number Must be defined");
                                      $(".txtAccountNumber2").closest('tr').find('label').closest('.control-group').addClass('error');
                                      $(".txtAccountNumber2").closest('.control-group').addClass('error');
                                      $(".txtAccountNumber2").focus();
                                      return false;
                  }
                  else if($(".txtAccountNumber2").val()!="" && (!numvalidation.test($(".txtAccountNumber2").val())))
                  {
                           t=t+1;
                                      alert("Repeat Account Number Must contain numerics only");
                                      $(".txtAccountNumber2").closest('tr').find('label').closest('.control-group').addClass('error');
                                      $(".txtAccountNumber2").closest('.control-group').addClass('error');
                                      $(".txtAccountNumber2").focus();
                                      return false;
                  
                  }else   if($(".txtAccountNumber").val()!=$(".txtAccountNumber2").val()){
                              t=t+1;                 
                                      alert("Repeat Account Number should match with Account Number !");
                                      $(".txtAccountNumber2").closest('tr').find('label').closest('.control-group').addClass('error');
                                      $(".txtAccountNumber2").closest('.control-group').addClass('error');
                                      $(".txtAccountNumber2").focus(); 
                                      return false;
                
                  }else{                    
                               $(".txtAccountNumber2").closest('tr').find('label').closest('.control-group').removeClass('error');
                               $(".txtAccountNumber2").closest('.control-group').removeClass('error');
                 }
                  
                  if(nameonaccount =="" || nameonaccount ==null)
                  {
                           t=t+1;
                                      alert("Name on Account Must be defined");
                                      $(".txtNameOnAccount").closest('tr').find('label').closest('.control-group').addClass('error');
                                      $(".txtNameOnAccount").closest('.control-group').addClass('error');
                                      $(".txtNameOnAccount").focus();
                                      return false;
                  }
                  else if(nameonaccount !="" &&!stringnumsvalidation.test(nameonaccount ))
                  {
                           t=t+1;
                                      alert("Please Enter valid data in Name on Account");
                                      $(".txtNameOnAccount").closest('tr').find('label').closest('.control-group').addClass('error');
                                      $(".txtNameOnAccount").closest('.control-group').addClass('error');
                                      $(".txtNameOnAccount").focus();
                                      return false;
                  }else if(nameonaccount.length <2){
                           t=t+1;
                                      alert(" Name on Account Must be 2 Characters");
                                      $(".txtNameOnAccount").closest('tr').find('label').closest('.control-group').addClass('error');
                                      $(".txtNameOnAccount").closest('.control-group').addClass('error');
                                      $(".txtNameOnAccount").focus();
                                      return false;
                  
                  
                  }else{                    
                               $(".txtNameOnAccount").closest('tr').find('label').closest('.control-group').removeClass('error');
                               $(".txtNameOnAccount").closest('.control-group').removeClass('error');
                 }
                  
                   
            
              
              
             }
             
             if(disppaymenttype=='PurchaseOrder'){   
                if($(".txtPOAccount").val()=="" || !numvalidation.test($(".txtPOAccount").val())){
                t=t+1;
                 alert("Purchase Order Number must be a valid number");
                 $(".txtPOAccount").closest('tr').find('label').closest('.control-group').addClass('error');
                  $(".txtPOAccount").closest('.control-group').addClass('error');
                 $(".txtPOAccount").focus(); 
                                      return false;
                }else{                    
                               $(".txtPOAccount").closest('tr').find('label').closest('.control-group').removeClass('error');
                               $(".txtPOAccount").closest('.control-group').removeClass('error');
                 }
             
             }
             if("{!registrationtype}"=='manual'){
             if(disppaymenttype=='Invoice'){
             if($(".txtInvoiceAccount").val()!="" && !numvalidation.test($(".txtInvoiceAccount").val())){
                t=t+1;
                 alert("Invoice Check Number must be a valid number");
                 $(".txtInvoiceAccount").closest('tr').find('label').closest('.control-group').addClass('error');
                  $(".txtInvoiceAccount").closest('.control-group').addClass('error');
                 $(".txtInvoiceAccount").focus(); 
                                      return false;
                } else{                    
                               $(".txtInvoiceAccount").closest('tr').find('label').closest('.control-group').removeClass('error');
                               $(".txtInvoiceAccount").closest('.control-group').removeClass('error');
                 }   
                
             
             }
             if(disppaymenttype=='CustomPaymentType'){
               
                 if($(".txtCustomPaymentName").val() ==""){
                          t=t+1;
                                      alert("Name Must be defined");
                                       $(".txtCustomPaymentName").closest('tr').find('label').closest('.control-group').addClass('error');
                                      $(".txtCustomPaymentName").closest('.control-group').addClass('error');
                                      $(".txtCustomPaymentName").focus();
                                      return false;
                 
                 }else{                    
                               $(".txtCustomPaymentName").closest('tr').find('label').closest('.control-group').removeClass('error');
                               $(".txtCustomPaymentName").closest('.control-group').removeClass('error');
                 } 
             
                 if($(".txtCustompaymentnumber").val()!=undefined && $(".txtCustompaymentnumber").val()!="" && !numvalidation.test($(".txtCustompaymentnumber").val())){
                    t=t+1;
                     alert("Reference Number must be a valid number");
                     $(".txtCustompaymentnumber").closest('tr').find('label').closest('.control-group').addClass('error');
                     $(".txtCustompaymentnumber").closest('.control-group').addClass('error');
                     $(".txtCustompaymentnumber").focus(); 
                     return false;
                    }else{                    
                               $(".txtCustompaymentnumber").closest('tr').find('label').closest('.control-group').removeClass('error');
                               $(".txtCustompaymentnumber").closest('.control-group').removeClass('error');
                   }    
                
             
             }
          
           }
                       
              
              
          }
  
  if(t!=0)
  {
       return false; 
  }else
       return true;
  
  
  
  
  
  
  }



  function AttendeeFormValidation(index)
   {        
            $(":focus").each(function() {
                $(this).blur();
             });   

                var t=0;
             
           
                $(".required_add"+index).each(function(){                    
                     var required_fields=$.trim($(this).val()); 
                     $(this).attr('value',required_fields);
                     if($(this).hasClass('Hiddenstate')==false){
                     if(required_fields=="")                      
                     {    t=t+1;
                          alert("Please enter required fields");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false;   
                     }else{
                     $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                     $(this).closest('.control-group').removeClass('error');
                     }  
                     }                
               });  
             
              if(t==0){     
               var fn = $(".FirstName_add"+index).val();
                 
               var ln = $(".LastName_add"+index).val();
               
               var email = $(".Email_add"+index).val();
               var dob = $(".Birthdate_add"+index).val();
               var phone = $(".Phone_add"+index).val();               
               var an = $(".AssistantName_add"+index).val();
               var ap = $(".AssistantPhone_add"+index).val();
               var fax = $(".Fax_add"+index).val();               
               var dp = $(".Department_add"+index).val();
               var dis = $(".Description_add"+index).val();
               var HomePhone = $(".HomePhone_add"+index).val();
               var LeadSource = $(".LeadSource_add"+index).val();
               var MailingCity = $(".MailingCity_add"+index).val();
               var MailingCountry = $(".MailingCountry_add"+index).val();
               var MailingState = $(".MailingState_add"+index).val();
               var MailingStateSelect = $(".MailingState_selectadd"+index).val();
               //alert(MailingState);
               var MailingStreet = $(".MailingStreet_add"+index).val();
               var MailingPostalCode = $(".MailingPostalCode_add"+index).val();
               var MobilePhone = $(".MobilePhone_add"+index).val();
               var OtherCity = $(".OtherCity_add"+index).val();
               var OtherCountry = $(".OtherCountry_add"+index).val();
               var OtherPhone = $(".OtherPhone_add"+index).val();
               var CnP_PaaS__Other_Province__c = $(".CnP_PaaS__Other_Province__c_add"+index).val();
               var OtherState = $(".OtherState_add"+index).val();
               var OtherStreet = $(".OtherStreet_add"+index).val();
               var OtherPostalCode = $(".OtherPostalCode_add"+index).val();
               var Salutation = $(".Salutation_add"+index).val();
               var Title_1 = $(".Title_add"+index).val();
               var DateField=$(".DATE_add"+index).val();
               var PhoneField =$(".PHONE_add"+index).val();
               var EmailField=$(".EMAIL_add"+index).val();
               var DateTimeField=$(".DATETIME_add"+index).val();
              
               var UrlField =$(".URL_add"+index).val();
               var PercentageField=$(".PERCENT_add"+index).val(); 
               var NumberField= $(".DOUBLE_add"+index).val();
               
               var Textareafield= $(".TEXTAREA_add"+index).val(); 
               
              
               var Checkbox =$(".BOOLEAN_add"+index).attr('checked');
               
               
              
               
               
               
               
               
             
               
               
               
               
                
                
               
               
               

               
               
               var regnewvalidation =/[=\"\<\>\&\\\{\}]/;
               var firstnamevalidation=/^(?=.*[a-zA-Z0-9]).+$/;
               var reg = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
               var reg_fname=/^([a-zA-Z0-9\.\,\#\&\-\'\ ])+$/;
               
               var reg_billingcity=/^([a-zA-Z0-9\.\,\&\-\'\ ])+$/;
               
               
               var reg_billingprovince=/^([a-zA-Z0-9\.\,\&\-\'\[\]\(\)\ ])+$/;
               var reg_billingpostalcode=/^([a-zA-Z0-9\.\-\ ]{2,20})+$/;
               
               var reg_billingphone=/^([0-9\.\-\(\)\+\ ])+$/;
               
               var reg_billingaddress1=/^([a-zA-Z0-9\.\,\#\&\-\'\ ])+$/;
               
               
               var reg_email = /^([A-Za-z0-9_\-\+\&\.\!\#\$\%\'\*\/\:\?\^\`\{\|\}\~])+\@([A-Za-z0-9\-\.])+\.([A-Za-z]{2,4})$/;
               var reg_text=/^([a-zA-Z0-9\.\,\#\&\-\'\ ])+$/;
               
               var reg_num=/^([0-9\.\-\(\)\ ])+$/;
               var reg_zip=/^([A-Za-z0-9\.\-\ ])+$/;
               var reg_Phone=/^([0-9\.\-\+\(\)\ ])+$/;
               var reg_dob=/^\d{1,2}\/\d{1,2}\/\d{4}$/;
               var reg_textarea=/^([a-zA-Z0-9 \n\r\.\,\#\&\-\'])+$/;
               var validformattime = /^\d{1,2}:\d{2}$/;
              //var reg_customtextvalidation=/^([a-zA-Z0-9\'\,\.\-\@\/\$\:\ ])+$/;
               var reg_customtextvalidation=/^([a-zA-Z0-9\.\,\#\-\'\@\$\%\*\^\(\)\{\}\\\[\]\_\;\:\"\<\>\?\/\`\|\!\+\n ])+$/
               var pattern = /(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;
               var validatepercentage =/^(100(?:\.0{1,2})?|0*?\.\d{1,2}|\d{1,2}(?:\.\d{1,2})?)$/;
               var check=new Date();
               var c_mo=(check.getMonth()+1);
               var c_ye=check.getFullYear();
               c_ye =c_ye.toString().slice(2);
               var mo = $(".select_ExpirationMonth").val();
               var yr = $(".select_ExpirationYear").val();
               c_mo += '';
                
               if(c_mo.length==1){
                   c_mo = '0'+c_mo;
               }
               
               var  numvalidation =/^([0-9])+$/;
               var  stringnumsvalidation=/^([a-zA-Z0-9\.\,\#\&\-\'\ ])+$/;
               fn=$.trim(fn);
               $(".FirstName_add"+index).attr('value',fn);
               if(fn!="" && (regnewvalidation.test(fn)==true ))
               {
                  t=t+1;
                  alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                  $(".FirstName_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                  $(".FirstName_add"+index).closest('.control-group').addClass('error');
                  $(".FirstName_add"+index).focus();
                  return false;
               }else if(fn!="" && ( firstnamevalidation.test(fn)==false))
               {
                  t=t+1;
                  alert("First Name Should have atleast one Alphanumeric character");
                  $(".FirstName_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                  $(".FirstName_add"+index).closest('.control-group').addClass('error');
                  $(".FirstName_add"+index).focus();
                  return false;
               }else if(fn!="" && fn.length >40){
                       t=t+1;
                      alert("First Name Should not exceed 40 characters");
                      $(".FirstName_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                      $(".FirstName_add"+index).closest('.control-group').addClass('error');
                      $(".FirstName_add"+index).focus();
                      return false;
               
               }else{
                   $(".FirstName_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".FirstName_add"+index).closest('.control-group').removeClass('error');
               }
              ln=$.trim(ln);
               $(".LastName_add"+index).attr('value',ln);
               if(ln!="" && ( regnewvalidation.test(ln)==true )){
                  t=t+1;
                  alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                  $(".LastName_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                  $(".LastName_add"+index).closest('.control-group').addClass('error');
                  $(".LastName_add"+index).focus();
                  return false;
               }else if(ln!="" && ln.length >39){
                       t=t+1;
                      alert("Last Name Should not exceed 39 characters");
                      $(".LastName_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                      $(".LastName_add"+index).closest('.control-group').addClass('error');
                      $(".LastName_add"+index).focus();
                      return false;
               
               }else{
                   $(".LastName_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".LastName_add"+index).closest('.control-group').removeClass('error');
               }               
               if(email!="" &&  reg_email.test(email)==false && email!=undefined)
               {
                   t=t+1;
                   alert("Please enter a valid Email");
                   $(".Email_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".Email_add"+index).closest('.control-group').addClass('error');
                   $(".Email_add"+index).focus();
                   return false;
               }else{
                   $(".Email_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".Email_add"+index).closest('.control-group').removeClass('error');
               }            
                 reg_dob = /^(\d{1,2})\/(\d{1,2})\/(\d{4})$/;
                
             /*  if(dob!="" && reg_dob.test(dob)==false && dob!=undefined)
               {                  
                    alert("Please enter the valid date ");
                    $(".Birthdate_add"+index).focus();
                    return false;
               }   */            
               if(phone!="" && phone!=undefined && ( reg_Phone.test(phone)==false)){
                   t=t+1;
                   alert("Please enter a valid phone number");
                   $(".Phone_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".Phone_add"+index).closest('.control-group').addClass('error');
                   $(".Phone_add"+index).focus();
                   return false;
               }else{
                   $(".Phone_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".Phone_add"+index).closest('.control-group').removeClass('error');
               }   
                         
               if(an!="" && an!=undefined && (regnewvalidation.test(an)==true )){
                  t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".AssistantName_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".AssistantName_add"+index).closest('.control-group').addClass('error');
                   $(".AssistantName_add"+index).focus();
                   return false;
               }else{
                   $(".AssistantName_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".AssistantName_add"+index).closest('.control-group').removeClass('error');
               } 
               
               if(ap!="" && ap!=undefined  && ( reg_Phone.test(ap)==false)){
                   t=t+1;
                   alert("Please enter a valid phone number");
                   $(".AssistantPhone_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".AssistantPhone_add"+index).closest('.control-group').addClass('error');
                   $(".AssistantPhone_add"+index).focus();
                   return false;
               }else{
                   $(".AssistantPhone_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".AssistantPhone_add"+index).closest('.control-group').removeClass('error');
               }     
               if(fax!="" && fax!=undefined  && ( reg_num.test(fax)==false)){
                   t=t+1;
                   alert("Please enter a valid fax number");
                   $(".Fax_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".Fax_add"+index).closest('.control-group').addClass('error');
                   $(".Fax_add"+index).focus();
                   return false;
               }else{
                   $(".Fax_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".Fax_add"+index).closest('.control-group').removeClass('error');
               }                  
               if(dp!="" && dp!=undefined  && (regnewvalidation.test(dp)==true )){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".Department_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".Department_add"+index).closest('.control-group').addClass('error');
                   $(".Department_add"+index).focus();
                   return false;
               }else{
                   $(".Department_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".Department_add"+index).closest('.control-group').removeClass('error');
               }
               if(dis!="" && dis!=undefined  && (regnewvalidation.test(dis)==true )){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".Description_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".Description_add"+index).closest('.control-group').addClass('error');
                   $(".Description_add"+index).focus();
                   return false;
               }else{
                   $(".Description_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".Description_add"+index).closest('.control-group').removeClass('error');
               }
              if(HomePhone!="" && HomePhone!=undefined && ( reg_billingphone.test(HomePhone)==false )){
                  t=t+1;
                   alert("Please enter a valid phone number");
                   $(".HomePhone_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".HomePhone_add"+index).closest('.control-group').addClass('error');
                   $(".HomePhone_add"+index).focus();
                   return false;
               }else{
                   $(".HomePhone_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".HomePhone_add"+index).closest('.control-group').removeClass('error');
               }    
               
               if(MailingCity!="" && MailingCity!=undefined  && (regnewvalidation.test(MailingCity)==true )){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".MailingCity_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".MailingCity_add"+index).closest('.control-group').addClass('error');
                   $(".MailingCity_add"+index).focus();
                   return false;
               }else{
                   $(".MailingCity_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".MailingCity_add"+index).closest('.control-group').removeClass('error');
               }  
              if(MailingCountry!="" && MailingCountry!=undefined && (regnewvalidation.test(MailingCountry)==true )){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".MailingCountry_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".MailingCountry_add"+index).closest('.control-group').addClass('error');
                   $(".MailingCountry_add"+index).focus();
                   return false;
               }else{
                   $(".MailingCountry_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".MailingCountry_add"+index).closest('.control-group').removeClass('error');
               }
               if(MailingState!="" && MailingState!=undefined && (regnewvalidation.test(MailingState)==true )){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".MailingState_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".MailingState_add"+index).closest('.control-group').addClass('error');
                   $(".MailingState_add"+index).focus();
                   return false;
               }else{
                   $(".MailingState_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".MailingState_add"+index).closest('.control-group').removeClass('error');
               }
               if(MailingStreet!="" && MailingStreet!=undefined){
               var ams=$.trim(MailingStreet);
                    
                $(".MailingStreet_add"+index).attr('value',ams);
                   if(regnewvalidation.test(MailingStreet)==true){
                       t=t+1;
                       alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                       $(".MailingStreet_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                       $(".MailingStreet_add"+index).closest('.control-group').addClass('error');
                       $(".MailingStreet_add"+index).focus();
                       return false;
                   }else{
                   $(".MailingStreet_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".MailingStreet_add"+index).closest('.control-group').removeClass('error');
                   }
               }
             /* if(MailingPostalCode!="" && MailingPostalCode!=undefined && (reg_billingpostalcode.test(MailingPostalCode)==false )){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".MailingPostalCode_add"+index).focus();
                   return false;
               } */
               if(MailingPostalCode!="" && MailingPostalCode!=undefined ){
                  
                  if(regnewvalidation.test(MailingPostalCode)==true || !MailingPostalCode.indexOf(' ',0)){
                  
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".MailingPostalCode_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".MailingPostalCode_add"+index).closest('.control-group').addClass('error');
                   $(".MailingPostalCode_add"+index).focus();
                   return false;
                  }else{
                   $(".MailingPostalCode_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".MailingPostalCode_add"+index).closest('.control-group').removeClass('error');
                   }
                  if(MailingPostalCode.length<2 || MailingPostalCode.length>20){
                       t=t+1;
                       alert("ZIP code should be 2 to 20 characters only");
                       $(".MailingPostalCode_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                       $(".MailingPostalCode_add"+index).closest('.control-group').addClass('error');
                       $(".MailingPostalCode_add"+index).focus();
                       return false;
                  }else{
                   $(".MailingPostalCode_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".MailingPostalCode_add"+index).closest('.control-group').removeClass('error');
                   }
               
               
               }
              if(MobilePhone!="" && MobilePhone!=undefined && (reg_billingphone.test(MobilePhone)==false)){
                   t=t+1;
                   alert("Please enter a valid phone number");
                   $(".MobilePhone_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".MobilePhone_add"+index).closest('.control-group').addClass('error');
                   $(".MobilePhone_add"+index).focus();
                   return false;
               }else{
                   $(".MobilePhone_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".MobilePhone_add"+index).closest('.control-group').removeClass('error');
               }
               if(OtherCity!="" && OtherCity!=undefined && (regnewvalidation.test(OtherCity)==true)){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".OtherCity_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".OtherCity_add"+index).closest('.control-group').addClass('error');
                   $(".OtherCity_add"+index).focus();
                   return false;
               }else{
                   $(".OtherCity_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".OtherCity_add"+index).closest('.control-group').removeClass('error');
               }
              if(OtherCountry!="" && OtherCountry!=undefined  && (regnewvalidation.test(OtherCountry)==true)){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".OtherCountry_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".OtherCountry_add"+index).closest('.control-group').addClass('error');
                   $(".OtherCountry_add"+index).focus();
                   return false;
               }else{
                   $(".OtherCountry_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".OtherCountry_add"+index).closest('.control-group').removeClass('error');
               }
              if(OtherPhone!="" && OtherPhone!=undefined  && (reg_billingphone.test(OtherPhone)==false )){
                   t=t+1;
                   alert("Please enter a valid phone number");
                   $(".OtherPhone_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".OtherPhone_add"+index).closest('.control-group').addClass('error');
                   $(".OtherPhone_add"+index).focus();
                   return false;
               }else{
                   $(".OtherPhone_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".OtherPhone_add"+index).closest('.control-group').removeClass('error');
               }
               if(CnP_PaaS__Other_Province__c!="" && CnP_PaaS__Other_Province__c!=undefined && (regnewvalidation.test(CnP_PaaS__Other_Province__c)==true)){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".CnP_PaaS__Other_Province__c_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".CnP_PaaS__Other_Province__c_add"+index).closest('.control-group').addClass('error');
                   $(".CnP_PaaS__Other_Province__c_add"+index).focus();
                   return false;
               }else{
                   $(".CnP_PaaS__Other_Province__c_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".CnP_PaaS__Other_Province__c_add"+index).closest('.control-group').removeClass('error');
               }
               if(OtherState!="" && OtherState!=undefined && (regnewvalidation.test(OtherState)==true)){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".OtherState_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".OtherState_add"+index).closest('.control-group').addClass('error');
                   $(".OtherState_add"+index).focus();
                   return false;
               }else{
                   $(".OtherState_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".OtherState_add"+index).closest('.control-group').removeClass('error');
               }
              if(OtherStreet!="" && OtherStreet!=undefined && (regnewvalidation.test(OtherStreet)==true)){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".OtherStreet_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".OtherStreet_add"+index).closest('.control-group').addClass('error');
                   $(".OtherStreet_add"+index).focus();
                   return false;
               }else{
                   $(".OtherStreet_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".OtherStreet_add"+index).closest('.control-group').removeClass('error');
               }
               /*if(OtherPostalCode!="" && OtherPostalCode!=undefined && (reg_billingpostalcode.test(OtherPostalCode)==false )){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".OtherPostalCode_add"+index).focus();
                   return false;
               }  */
               if(OtherPostalCode!="" && OtherPostalCode!=undefined ){
                  
                  if(regnewvalidation.test(OtherPostalCode)==true || !OtherPostalCode.indexOf(' ',0)){
                  
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                    $(".OtherPostalCode_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".OtherPostalCode_add"+index).closest('.control-group').addClass('error');
                   $(".OtherPostalCode_add"+index).focus();
                   return false;
                  }else{
                   $(".OtherPostalCode_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".OtherPostalCode_add"+index).closest('.control-group').removeClass('error');
                  }
                  if(OtherPostalCode.length<2 || OtherPostalCode.length>20){
                       t=t+1;
                       alert("ZIP code should be 2 to 20 characters only");
                       $(".OtherPostalCode_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                       $(".OtherPostalCode_add"+index).closest('.control-group').addClass('error');
                       $(".OtherPostalCode_add"+index).focus();
                       return false;
                  }else{
                   $(".OtherPostalCode_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".OtherPostalCode_add"+index).closest('.control-group').removeClass('error');
                  }
               
               
               }                                         
               if(Title_1!="" && Title_1!=undefined && (regnewvalidation.test(Title_1)==true )){
                   t=t+1;
                   alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                   $(".Title_add"+index).closest('tr').find('label').closest('.control-group').addClass('error');
                   $(".Title_add"+index).closest('.control-group').addClass('error');
                   $(".Title_add"+index).focus();
                   return false;
               }else{
                   $(".Title_add"+index).closest('tr').find('label').closest('.control-group').removeClass('error');
                   $(".Title_add"+index).closest('.control-group').removeClass('error');
                  }
            /*   if(DateField!="" && DateField!=undefined && (reg_dob.test(DateField)==false || !DateField.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".DATE_add"+index).focus();
                   return false;
               }
           
              if(DateTimeField!="" && DateTimeField!=undefined ){
       
               var parts = DateTimeField.split(" ");
                
              if(parts.length == 3){
                 var date = parts[0];
                 var time = parts[1];
                 var ampm = parts[2].trim();
               
                 if(ampm.length == 2 && (ampm.toLowerCase() == "am" || ampm.toLowerCase() == "pm")){
                
                     if (reg_dob.test(date)){
                        
                            if (validformattime.test(time) ==false)  {                     
                           
                               t=t+1;
                               alert("Please enter a valid data");
                               
                               $(".DATETIME_add"+index).focus();
                               return false;
                            }
                    }else{
                           t=t+1;
                           alert("Please enter a valid data");
                           $(".DATETIME_add"+index).focus();
                           return false;
                    
                    }
                 }else{
                       t=t+1;
                       alert("Please enter a valid data");
                       $(".DATETIME_add"+index).focus();
                       return false;
             
                 } 
             }else{
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".DATETIME_add"+index).focus();
                   return false;
          
          
             }
            
             } */
            
               
               
            
            /*if(NumberField!="" && NumberField!=undefined && (numvalidation.test(NumberField)==false || !NumberField.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".DOUBLE_add"+index).focus();
                   return false;
            }
           
             if(PhoneField !="" && PhoneField !=undefined && ( reg_Phone.test(PhoneField)==false || !PhoneField.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid phone number");
                   
                   $(".PHONE_add"+index).focus();
                   return false;
             }
             if(EmailField!="" &&  reg_email.test(EmailField)==false && EmailField!=undefined)
               {
                   t=t+1;
                   alert("Please enter a valid Email");
                   
                   $(".EMAIL_add"+index).focus();
                   return false;
               }
             
               
             if(UrlField!="" && UrlField!=undefined && (pattern.test(UrlField)==false || !UrlField.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".URL_add"+index).focus();
                   return false;
            }
            
            if(PercentageField!="" && PercentageField!=undefined && (validatepercentage.test(PercentageField)==false || !PercentageField.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".PERCENT_add"+index).focus();
                   return false;
            } */
        
            
            
           // if(Checkbox ==false){
                  // t=t+1;
                  // alert("Please Check the box");
                 
                   //$(".BOOLEAN").focus();
                  // return false;
           // }
              }
              if(t==0){
               $('.DOUBLE_add'+index).each( function(){
                     var NumberField=$.trim($(this).val()); 
                    
                   // return false;
                     $(this).attr('value',NumberField);
                    if(NumberField!="" && NumberField!=undefined && (numvalidation.test(NumberField)==false || !NumberField.indexOf(' ',0))){
                          t=t+1;
                          alert("Please enter valid number");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          
                          return false; 
                     }else{
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
                     
               });
               } 
               if(t==0){
               $('.PHONE_add'+index).each( function(){
                     var PhoneField =$.trim($(this).val()); 
                    
                     $(this).attr('value',PhoneField );
                    if(PhoneField !="" && PhoneField !=undefined && ( reg_Phone.test(PhoneField)==false || !PhoneField.indexOf(' ',0))){
                          t=t+1;
                          alert("Please enter a valid phone number");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }
                     else{
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
               }); 
               }
               if(t==0){  
               $('.EMAIL_add'+index).each( function(){
                     var EmailField=$.trim($(this).val()); 
                   
                     $(this).attr('value',EmailField);
                    if(EmailField!="" &&  reg_email.test(EmailField)==false && EmailField!=undefined){
                          t=t+1;
                          alert("Please enter a valid Email");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
               });
               }
               if(t==0){
               $('.URL_add'+index).each( function(){
                     var UrlField=$.trim($(this).val()); 
                   
                     $(this).attr('value',UrlField);
                    if(UrlField!="" && typeof $(this).val()!='undefined' && (pattern.test(UrlField)==false || !UrlField.indexOf(' ',0))){
                          t=t+1;
                          alert("Please enter a valid url");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
               })
               }
               if(t==0){
         $('.STRING_add'+index).each( function(){
          
                     var ct1=$.trim($(this).val()); 
                    
                     $(this).attr('value',ct1);
                    
                    if(ct1!="" && (regnewvalidation.test(ct1)) ){
                          t=t+1;
                          alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{                    
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
                     if(ct1!="" && ct1.length>255 ){
                          t=t+1;
                          alert("Data should be 255 characters only");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{                    
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
                     
               }); 
               }
               if(t==0){
               
               $('.TEXTAREA_add'+index).each( function(){
                     var r1=$.trim($(this).val());
                    
                     $(this).attr('value',r1);
                     if(r1!="" && (regnewvalidation.test(r1))){
                          t=t+1;
                          alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{                    
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
                      if(r1!="" && r1.length>500){
                       t=t+1;
                       alert("Data should be 500 characters only");
                       $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                       $(this).closest('.control-group').addClass('error');
                       $(this).focus();
                       return false;
                      }else{                    
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                      }
               }); 
            
          }
               if(t==0){ 
               $('.textbox_add'+index).each( function(){
                     var t1=$.trim($(this).val()); 
                    
                     $(this).attr('value',t1);
                    if(t1!="" && (regnewvalidation.test(t1)) ){
                          t=t+1;
                          alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
                      if(t1!="" && t1.length>255 ){
                          t=t+1;
                          alert("Data should be 255 characters only");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
               })  
               
              }
              if(t==0){ 
               $('.textarea_add'+index).each( function(){
                     var r1=$.trim($(this).val());
                   
                     $(this).attr('value',r1);
                     if(r1!="" && (regnewvalidation.test(r1))){
                          t=t+1;
                          alert("The value entered in the highlighted field has invalid characters.  The following characters are not allowed {}=\"&<>\\ Please remove any of the listed characters and try again.");
                          $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                          $(this).closest('.control-group').addClass('error');
                          $(this).focus();
                          return false; 
                     }else{
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
                     if(r1!="" && r1.length>500){
                       t=t+1;
                       alert("Data should be 500 characters only");
                       $(this).closest('tr').find('label').closest('.control-group').addClass('error');
                       $(this).closest('.control-group').addClass('error');
                       $(this).focus();
                       return false;
                      } else{
                           $(this).closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(this).closest('.control-group').removeClass('error');
                     }
               }) 
             }
              
               if(t==0)
               {  var ro = $(".Attend_numvalues").val();
               
                  for(var i=0;i<ro;i++)
                  {
                       var ch=0;
                       var re=0;                       
                       $(".checkbox_add"+index+"_"+i+" input:checkbox").each(function(){
                            re=1;    
                            if($(this).is(':checked')==true)
                            {                           
                                 ch=1;                                
                            }                   
                       });
                       
                       if(ch==0 && re==1)
                       {
                           alert("Please select at least one checkbox");
                           $(".checkbox_add"+index+"_"+i+" input:checkbox").closest('tr').find('label').closest('.control-group').addClass('error');
                           $(".checkbox_add"+index+"_"+i+" input:checkbox").closest('.control-group').addClass('error');
                           $(".checkbox_add"+index+"_"+i+" input:checkbox")[0].focus();
                           return false;
                       }else{
                           $(".checkbox_add"+index+"_"+i+" input:checkbox").closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(".checkbox_add"+index+"_"+i+" input:checkbox").closest('.control-group').removeClass('error');
                     }
                       var ra=0;
                       var cr=0;
                       $(".radiobox_add"+index+"_"+i+" input:radio").each(function(){
                            cr=1;        
                            if($(this).is(':checked')==true)
                            {
                                ra=1;
                            }
                       
                       })
                       
                       if(ra==0 && cr==1)
                       {
                               alert("Please select at least one radiobox");
                               $(".radiobox_add"+index+"_"+i+" input:radio").closest('tr').find('label').closest('.control-group').addClass('error');
                               $(".radiobox_add"+index+"_"+i+" input:radio").closest('.control-group').addClass('error');
                               $(".radiobox_add"+index+"_"+i+" input:radio")[0].focus();
                               return false;
                       } else{
                           $(".radiobox_add"+index+"_"+i+" input:radio").closest('tr').find('label').closest('.control-group').removeClass('error');
                           $(".radiobox_add"+index+"_"+i+" input:radio").closest('.control-group').removeClass('error');
                       }                      
                       
                  }
               }
              
               if(t==0)
               {
                  // StateChange('');
                   return true; 
                   
               }else{
                   return false;
               }        
              
   } 
  
   
  
  

  function MaxAmountValidation(){
         var anyomdonationamount = $(".Anony_MaxAmount").val();
          var registerdonationamount = $(".Register_MaxAmount").val();
          var validatenum =/^[0-9]*\.?[0-9]+$/;
         // var validatenum= /[^0-9.]/g;
         
          
     if(anyomdonationamount >99999999.99 && anyomdonationamount!=undefined){
     alert("Additional donation must be less than 99999999.99");
     $(".Anony_MaxAmount").focus();
     return false;
     }else if(anyomdonationamount !='' && anyomdonationamount!=undefined && validatenum.test(anyomdonationamount)==false){
     alert("Additional donation is not a valid data");
     $(".Anony_MaxAmount").focus();
     return false;
     }else 
      if(registerdonationamount >99999999.99 && registerdonationamount!=undefined){
     alert("Additional donation must be less than 99999999.99");
     $(".Register_MaxAmount").focus();
     return false;
     }else if( registerdonationamount !='' && registerdonationamount!=undefined && validatenum.test(registerdonationamount)==false){
     alert("Additional donation is not a valid data");
     $(".Register_MaxAmount").focus();
     return false;
     }else return true;

 }
 
 function checkqunt(EventAvailable,Availableinvent,changelevelid,Quntityadded,Quntityenter){
 
 var EveInt =  EventAvailable;
 var Ain =Availableinvent;
 var  numvalidation =/^([0-9])+$/;

 if(Quntityenter ==''){
 Quntityenter =0;
 
 }
  if(Quntityadded==0){
 Quntityadded='';
 
 }
 
 if( Quntityenter !=''  && numvalidation.test(Quntityenter)==false){
     alert("Please enter valid data");
     $("#lid"+changelevelid).val(Quntityadded);
     $("#lid"+changelevelid).focus();
     
     return false;
 }
 
 var Qe =parseInt(Quntityenter);

     quntitychange(changelevelid,Qe);
         
      
  /* if((EveInt!=null && EveInt >0) || EveInt==null){
         if(Availableinvent !=null && Availableinvent > 0){
             if(Quntityenter > Availableinvent){
                 alert("Available Quntity "+Availableinvent+" for this Level"); 
                  $("#lid"+changelevelid).val(Quntityadded);         
                 $("#lid"+changelevelid).focus();
                 
                 return false;
             }else if(EveInt < Quntityenter ){
                 alert("Available Event Quntity "+EveInt);
                  $("#lid"+changelevelid).val(Quntityadded);         
                 $("#lid"+changelevelid).focus();
                 return false;
             
             }
         
         }else if(Availableinvent == null && EveInt>0){
                 if(Quntityenter > EveInt){
                      alert("Available Event Quntity "+EveInt);
                      $("#lid"+changelevelid).val(Quntityadded);         
                     $("#lid"+changelevelid).focus();
                     return false;
                 }
                
         
         }
     
     
     }else if(EveInt <=0){
         alert("Available Event Quntity "+EveInt);                 
         return false;
     
     }
     */
  return true;
 }
  function updatesessionsinvenotry(){
  
  
  updateadminsessionsinvenotry();
  }
 /* function inventorycheckuptimeUser(){
  
  inventorycheckuptime();
  }*/
  $(document).ready( function () {
  
var numItems = $('.event-block').length;

for(var i=1;i<=numItems;i++){
$('#event-tabs'+i+' a:first').tab('show');
    $('#event-tabs'+i+' a').click(function (e) {
    e.preventDefault();
    $(this).tab('show');
    });
}
 
});

    </script>   
  
     

<style>
#cnp {
 
            line-height:25px;
            color:#CCC;
            font-family:Arial, Helvetica, sans-serif;
            font-size:11px;
            max-width:700px;
            text-align:center;
            margin:0 auto;
    
    } 

#MainContent_divContent{
    border-radius: 10px;
    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);
    -moz-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);
    -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);


}
/* diveVTPage CSS */

.datepick-month-header, .datepick-month-header select, .datepick-month-header input {
    height: 1.5em;
    background-color: #444;
    color: #fff;
    font-weight: bold;
     padding: 0px 0px;
}

input[type="text"], textarea, select,input[type="password"] {
    display:inline;
    -webkit-border-radius: 3px;
    -khtml-border-radius: 3px;  
    -moz-border-radius: 3px;
    border-radius: 3px;
    background: none repeat scroll 0 0 #FFFFFF;
    border: 1px solid #AFCFD9;
    box-shadow: 0 0 3px #DDDDDD inset;
    color: #444444;
    font: 12px Arial,Helvetica,sans-serif;
    margin: 0;
    padding: 5px 6px;

}
#poblock ,  #invoiceblock ,  #custompayment, #TransactionBlock {
   margin:0px;

}
#poblock .paymenttbl td , #invoiceblock .paymenttbl td, #custompayment .paymenttbl td, #TransactionBlock .paymenttbl td {

   width:37%;
}

.msgsuc {
  border-radius:10px;
    -moz-border-radius: 10px;
    -webkit-border-radius: 10px;
     background-color:#D6F8D7;
     color:#000;
     font-size:12px;
     font-weight:bold;
     text-align:center;
     width:595px;
     border:solid 1px #009966;    
     margin:5px 0px;
     clear: both;
     line-height: 25px;
         display: block;
}
.msgerr {
  background-color: #FF5155;
    border: 1px solid #993300;
    border-radius: 10px 10px 10px 10px;
    clear: both;
    color: #FFFFFF;
    display: block;
    font-size: 12px;
    font-weight: bold;
    line-height: 25px;
    margin: 5px 0;
    text-align: center;
    width: 595px;
}
.clr{

clear:both;
}

.req{
color: #CC0000;

}

.pbSubsection .requiredBlock {
    background-color: transparent;
    bottom: 1px;
    height: 27px;
    left: -4px;
    position: absolute;
    top: 4px;
    width: 3px;
    color: #CC0000;
}


/* diveVTPage CSS END */



.dateFormat {
    display:none;
}

.Valid {
    color: #090;
    display: block;
   // float:right;
  //  font-size:11px;
  //  font-weight:normal;
}
.Invalid {
    color: #FF0000;
    display: block;
  //  font-weight:normal;
   // float:right;
  //  font-size:11px;
}
.ui-front{

     z-index:999999!important;

}
.loadclass{
    padding:4px 6px!important;
    float:none!important;
}
.modal.fade.in {
    top: 300px;
}
</style>

  <apex:outputpanel rendered="{!if(Sitevalidation==false && registrationtype!='manual',true,false)}">
  <apex:messages />
  </apex:outputpanel>
  

<apex:pageBlock id="externaleve"> 

 <apex:outputpanel id="EventTemplatestyle" styleClass="CPEF">
 <apex:outputtext value="{!themecontent[0]}"  escape="false" rendered="{!if(registrationtype !='manual',true,false)}" />
 
 <apex:outputPanel rendered="{!if(tc==true,true,false)}"> 
                       <div style="display:{!if(timeout==true,'block','none')}">
                                <div class="eventend">
                                     <apex:outputtext value="{!EventId.CnP_PaaS_EVT__Event_Ended__c}" escape="false"/> 
                                </div></div> 
                                <div style="display:{!if(eventsoldout==true,'block','none')}">
                                <div class="soldout">
                                      <apex:outputtext value="{!EventId.CnP_PaaS_EVT__Sold_Out__c}" escape="false" /> 
                                </div> </div> 
                  <apex:pageMessages escape="false"/>               
             <!--<apex:messages escape="false" /> -->
  </apex:outputPanel> 
          
 <apex:form id="ExternalEventfun1" styleClass="ExternalEventfun" rendered="{!if(Regvalidation==true && tc==true,true,false)}">
 
 <script>
 $(document).ready( function () {
   var anyomdonationamount = $(".Anony_MaxAmount").val();
          var quantitytotal =0;
          $('.quntitytextenable').each(function(d) {
                var $this = $(this);
                var boxqunt = $this.val();
                
              
                 
              
                if($this.val() !=0 || $this.val() !=''){
               
                 
                 quantitytotal  = parseInt(quantitytotal) + parseInt($this.val());
                }
                
          
              
            });
         
           if(parseInt(quantitytotal) ==0 && ( anyomdonationamount =='' || anyomdonationamount <=0)){
          
         
           // $('.Anonymous_Confirmbutton').attr('disabled','true');
            $('.Anonymous_Confirmbutton').hide();
            $('.Anonymous_Confirmbuttondummy').show();
            
           
           }else{
           $('.Anonymous_Confirmbutton').show();
            $('.Anonymous_Confirmbuttondummy').hide();
           
           
           }
     var registerdonationamount = $(".Register_MaxAmount").val();
        
          var regquantitytotal =0;
          $('.regquntitytextenable').each(function() {
                var $this = $(this);
               
                if($this.val() !=0 || $this.val() !=''){
                 regquantitytotal = parseInt(regquantitytotal ) + parseInt($this.val());
                }
              
            });
         
           if(parseInt(regquantitytotal ) ==0 && ( registerdonationamount =='' || registerdonationamount <=0)){
          
         
            //$('.Register_Confirmbutton').attr('disabled','true');
            $('.Register_Confirmbutton').hide();
            $('.Register_Confirmbuttondummy').show();
           
           }else{
                $('.Register_Confirmbutton').show();
            $('.Register_Confirmbuttondummy').hide();
           
           } 
    
  //   function countdownfunction(){
              
          var itimer =parseInt(0);
          itimer = {!RegistrationTimeout} /60000 ;
          itimer= itimer/4;
          itimer=itimer.toFixed();
            
         $('.countdown.simple').countdown({
        
          date: +(new Date) + {!RegistrationTimeout},
         
          render: function(data) {
              
            $(this.el).html("<div class='text_align_center'><i class='icon-time'></i> <span>Session will expire in </span><span class='timecount'><span class='strikeline'></span>" + this.leadingZeros(data.hours, 2) + ":</span><span class='timecount'><span class='strikeline'></span>" + this.leadingZeros(data.min, 2) + ":</span><span class='timecount'><span class='strikeline'></span>" + this.leadingZeros(data.sec, 2) + "</span></div>");
            if(this.leadingZeros(data.min, 2)== itimer){
           // alert("your Basket Session expire in :"+itimer);
                //inventorycheckuptimeUser();
               //  if(itimer==0){
                //    itimer =60;
               //  }
                
              //  itimer = itimer - 15 ;
               
                //alert(itimer);
            }
            
            
            },
          onEnd: function() {
            $(this.el).addClass('ended');
            updatesessionsinvenotry();
            alert("Your Basket Inventory Session expired !");
            
           location.reload();
            
          }
        })
    
    // }
 $(window).keydown(function(event){
    $("input:text").keypress(function(event) {
            if (event.keyCode == 13) {
                event.preventDefault();
                return false;
            }
        });
        $('input[type="checkbox"]').keypress(function(event) {
                  if (event.keyCode == 13) {
                event.preventDefault();
                return false;
            }
        });
        $('input[type="radio"]').keypress(function(event) {
                  if (event.keyCode == 13) {
                event.preventDefault();
                return false;
            }
        });
  });

 


   //alert('ssss'+navigator.userAgent); 
      
});
 
 
 </script>
 
   <apex:actionStatus id="quantitychange_status"  onstart="showLoadingDiv()" onstop="submitprocess();"/>
    <apex:actionFunction status="quantitychange_status" rerender="Anonymous_levelinfo,anonymous_totalsummary,alertmessage" name="quntitychange" action="{!enablequntitytext}" >
    <apex:param assignTo="{!basketid}" name="changelevelid" value=""/> 
    <apex:param assignTo="{!pbasketqunt}" name="Quntinbasket" value=""/>                   
    </apex:actionFunction>
    
    
    
    <apex:actionFunction rerender="resulttransactionsucess" name="updateadminsessionsinvenotry" action="{!updateadminsessionsinvenotry}" >                
    </apex:actionFunction>                                        
                    
   <!--<apex:actionFunction rerender="Anonymous_levelinfo,anonymous_totalsummary" name="inventorycheckuptime" action="{!inventorycheckuptime}" >                
    </apex:actionFunction> -->
    
    <apex:actionStatus id="Register_Paymentpro_status" onstart="showLoadingDiv();" onstop="RegistrantPaymentButt()" /> 
    <apex:actionFunction status="Register_Paymentpro_status" rerender="resulttransactionsucess,resulttransactionsucessREG,resulttransactionfail123,resulttransactionfailanonymous" name="CallWebService_JS1" action="{!PaymentAPIMethod}" >                
    </apex:actionFunction> 
    
  <apex:actionFunction action="{!ShowStateaction}" name="StateData" reRender="MailingStateid">
    <apex:param name="Statevalueattendee"  value="" assignTo="{!PayeeCountry}" /> 
    </apex:actionFunction>
    
   
        <apex:actionFunction action="{!ShowStateactionReg}" name="StateDataReg" reRender="staterefresh,Register_staterefresh">
    <apex:param name="Statevalue"  value="" assignTo="{!PayeeCountry}" />
    </apex:actionFunction>
    
<apex:actionRegion >
    <apex:actionFunction rerender="Register_PayeeInformation,Anonymous_PayeeInformation"  name="loadcontactfunctionreg1" action="{!load}" oncomplete="change_patron();">
     <apex:param name="contactid1"  value="" assignTo="{!contactid}" />                
    </apex:actionFunction> 
   
</apex:actionRegion> 

<!--Basket information details starts here -->
     
   <apex:outputpanel styleClass="row-fluid" id="CP_Ent_Fnt" >  
   
<div class="countdown simple alert" ></div> 

       <!-- Anonymous registration starts here rendered="{!if(timeout==false,true,false)}" -->
       
       <apex:outputPanel id="baskinfodetails1" rendered="{!if(annonymous==true,'true','false')}">      
       <apex:outputPanel id="baskinfodetails" >
    
     <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/frontend-html/js/main.js')}"></script>
        <div class="fade in carousel slide Anonymosslide" id="Anonymous">     
         <div class="carousel-inner">
         <div class="active item1" id="Anony1">  
         
         <div class="text_align_right padding_8">
         <apex:outputpanel rendered="{!if(AccountInfo.size >1,true,false)}">
         {!EventId.Organization__c} &nbsp;  
         <apex:selectList value="{!SelectedAccount}" size="1" style="max-width:180px" >
<apex:actionStatus id="AnonymousAccountinfo_status" onstart="showLoadingDiv();" onstop="submitprocess();"/>
<apex:actionsupport status="AnonymousAccountinfo_status" event="onchange" action="{!ChangeAccountDetails}" rerender="baskinfodetails1"/>
<apex:selectOptions value="{!AccountInfo}"></apex:selectOptions>
</apex:selectList>  
</apex:outputpanel>   
          </div>

             <apex:pageBlockTable id="Anonymous_levelinfo" value="{!ticketinfoshowlist}" var="field" styleClass="table table-bordered table-hover">           
                
                <apex:column headerValue=" Level Name" headerClass="align-left" styleClass="align-left" style="width:100%">                   
                 <strong><apex:OutputText value="{!ticketinfoshow[field].ReglevelInfo}" /></strong>
                  <apex:outputPanel rendered="{!if(ticketinfoshow[field].ReglevelSoldoutmsg!=null,true,false)}">
                      <strong >                  
                      <a href="#AnonyLevel_soldoutmsg{!field}" role="button" title="{!ticketinfoshow[field].ReglevelInfo}"  data-original-title="{!ticketinfoshow[field].ReglevelInfo}" data-toggle="modal">
                      <span class="small_text text-error pull-right">                                            
                          {!if(ticketinfoshow[field].AvailableInventory != 0 || ticketinfoshow[field].AvailableInventory==null,"",'Sold Out')}
                      </span>
                      </a>
                       </strong>
                        </apex:outputPanel>
                        
                         <apex:outputPanel rendered="{!if(ticketinfoshow[field].ReglevelSoldoutmsg==null,true,false)}">
                          <strong >
                           <span class="small_text text-error pull-right">                       
                              {!if(ticketinfoshow[field].AvailableInventory != 0 || ticketinfoshow[field].AvailableInventory==null,"",'Sold Out')}
                          </span>
                          </strong>
                         </apex:outputPanel>
                         <script>
                         $(document).ready( function () {
                          $('#AnonyLevel_soldoutmsg{!field}').draggable(
                              {
                               handle: ".modal-footer,.modal-header"
                              } 
                          );
                          });
                         </script>
                        <div id="AnonyLevel_soldoutmsg{!field}"  class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                      
                        <div class="modal-header">
                            <button type="button" class="close modal_close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h3 id="myModalLabel">{!ticketinfoshow[field].ReglevelInfo}</h3>
                          </div>
                          <div class="modal-body">
                          <apex:outputText value="{!ticketinfoshow[field].ReglevelSoldoutmsg}" escape="false" />
                            
                            
                          </div>
                          <div class="modal-footer">
                            <button class="btn btn-success" data-dismiss="modal" aria-hidden="true">Cancel</button>
                           
                          </div>          
                          
                        </div>    
                 <!--<strong><span class="small_text text-error pull-right">{!if(ticketinfoshow[field].AvailableInventory != 0 || ticketinfoshow[field].AvailableInventory==null,"",'Sold Out')} </span></strong> -->
                
                  <!--  <a href="#" data-toggle="popover" title="" data-content="{!ticketinfoshow[field].ReglevelDesc}" data-original-title="{!ticketinfoshow[field].ReglevelInfo}">Click to view full</a> -->
                   <apex:outputPanel rendered="{!if(ticketinfoshow[field].ReglevelDesc!=null,true,false)}">
                    <div class="small_text read_more">
                    <a href="#AnonyLevel_description{!field}" role="button" title="{!ticketinfoshow[field].ReglevelInfo}"  data-original-title="{!ticketinfoshow[field].ReglevelInfo}" data-toggle="modal">Read More</a>
                    </div>  
                    </apex:outputPanel>
                     <script>
                         $(document).ready( function () {
                          $('#AnonyLevel_description{!field}').draggable(
                              {
                               handle: ".modal-footer,.modal-header"
                              } 
                          );
                          });
                         </script>
                    <div id="AnonyLevel_description{!field}"  class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                      
                        <div class="modal-header">
                            <button type="button" class="close modal_close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h3 id="myModalLabel">{!ticketinfoshow[field].ReglevelInfo}</h3>
                          </div>
                          <div class="modal-body">
                          <apex:outputText value="{!if(ticketinfoshow[field].ReglevelDesc !=null,ticketinfoshow[field].ReglevelDesc,'No Description')}" escape="false" />
                            
                            
                          </div>
                          <div class="modal-footer">
                            <button class="btn btn-success" data-dismiss="modal" aria-hidden="true">Cancel</button>
                           
                          </div>          
                          
                   </div>   
                    
                                                 
                </apex:column>
      
                <apex:column headerValue=" Price" styleClass="align-right" headerClass="align-right" rendered="{!if(EventId.CnP_PaaS_EVT__Price__c=='Show' || EventId.CnP_PaaS_EVT__Price__c==null,'true','false')}" >
                
                                 
                      <apex:outputtext value="{0,number,{!currencycode}###,###,##0.00}">
                      <apex:param value="{!ticketinfoshow[field].PriceInfo}" /></apex:outputText>
               
                </apex:column>
        
                <apex:column headerValue=" +Fee"    styleClass="align-right" headerClass="align-right" rendered="{!if(EventId.CnP_PaaS_EVT__Additional_Fee__c=='Show' || EventId.CnP_PaaS_EVT__Additional_Fee__c==null,'true','false')}">
                <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}" >
                <apex:param value="{!ticketinfoshow[field].FeeInfo}" /></apex:outputText>
                </apex:column>
                <apex:column headerValue="Registrations Incl."    styleClass="align-center" headerClass="align-center" rendered="{!if(EventId.CnP_PaaS_EVT__Registrations_Included__c=='Show' || EventId.CnP_PaaS_EVT__Registrations_Included__c==null,'true','false')}">
                <apex:outputText value="{!ticketinfoshow[field].TicketIncluded}" >
                </apex:outputText>
                </apex:column>                

                <apex:column headerValue="Qty."  styleClass="align-center" headerClass="align-center" >         
               
                      <input type="Text" placeholder='0' Class="align-center quntitytextenable" onblur="if(!checkqunt({!if(ticketinfoshow[field].EventAvailableInventory==null,'null',ticketinfoshow[field].EventAvailableInventory)},{!if(ticketinfoshow[field].AvailableInventory==null,'null',ticketinfoshow[field].AvailableInventory)},'{!ticketinfoshow[field].Reglevelid}',{!ticketinfoshow[field].QuantityInfo},this.value)){return false;}" id="lid{!ticketinfoshow[field].Reglevelid}" style="display:{!if(ticketinfoshow[field].AvailableInventory ==null,'block',if(ticketinfoshow[field].AvailableInventory >0,'block','none'))};width:20px;"  value="{!if(ticketinfoshow[field].QuantityInfo==0,'',ticketinfoshow[field].QuantityInfo)}"  maxlength="3" size="3" onkeyup="javascript:this.value=this.value.replace(/[^0-9]/g, '');" >
                    </input> 
                    
                   <!--  <input type="Text" placeholder='0' Class="align-center quntitytextenable" onchange="if(!checkqunt({!if(ticketinfoshow[field].EventAvailableInventory==null,'null',ticketinfoshow[field].EventAvailableInventory)},{!if(ticketinfoshow[field].AvailableInventory==null,'null',ticketinfoshow[field].AvailableInventory)},'{!ticketinfoshow[field].Reglevelid}',{!ticketinfoshow[field].QuantityInfo},this.value)){return false;}" id="lid{!ticketinfoshow[field].Reglevelid}" style="display:{!if(ticketinfoshow[field].AvailableInventory ==null,'block',if(ticketinfoshow[field].AvailableInventory >0,'block','none'))};width:20px;"  value="{!if(ticketinfoshow[field].QuantityInfo==0,'',ticketinfoshow[field].QuantityInfo)}"  maxlength="3" size="3" >
                    </input>-->
                    
                     <!-- showLoadingDiv quntitychange('{!ticketinfoshow[field].Reglevelid}',this.value,{!ticketinfoshow[field].QuantityInfo});  disabled="{!if(ticketinfoshow[field].AvailableInventory != 0 ||ticketinfoshow[field].AvailableInventory ==null,false,true)}"-->
                  <!--  <apex:actionStatus id="quantitychange_status"  onstart="if(!checkqunt()){alert('ss');return false;}" onstop="submitprocess();"/>
                    <apex:inputText StyleClass="align-center quntitytextenable" style="display:{!if(ticketinfoshow[field].AvailableInventory != 0 ||ticketinfoshow[field].AvailableInventory ==null,'block','none')};width:20px;"  value="{!ticketinfoshow[field].QuantityInfo}"  maxlength="3" size="3" onkeyup="javascript:this.value=this.value.replace(/[^0-9]/g, '');" >
                     
                     <apex:actionSupport event="onchange"  action="{!enablequntitytext}" status="quantitychange_status" reRender="Anonymous_levelinfo,anonymous_totalsummary">
                     <apex:param assignTo="{!basketid}" name="rid" value="{!ticketinfoshow[field].Reglevelid}"/> 
                      <apex:param assignTo="{!pbasketqunt}" name="pqut" value="{!ticketinfoshow[field].QuantityInfo}"/>                             
                     </apex:actionSupport>
                     </apex:inputText>   -->
                     <input type="text" disabled="disabled" class="align-center dummyquntytextbox" value="{!ticketinfoshow[field].QuantityInfo}" style="display:{!if(ticketinfoshow[field].AvailableInventory ==null,'none',if(ticketinfoshow[field].AvailableInventory <=0,'block','none'))};width:20px;" maxlength="3" size="3" onkeyup="javascript:this.value=this.value.replace(/[^0-9]/g, '');"/>
                </apex:column>  
                 
                <apex:column headerValue="Total" styleClass="align-right" headerClass="align-right" rendered="{!if(EventId.CnP_PaaS_EVT__Total__c=='Show' || EventId.CnP_PaaS_EVT__Total__c==null,'true','false')}">
                  <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}" styleClass="Totalprice{!ticketinfoshow[field].Reglevelid}">
                  <apex:param value="{!ticketinfoshow[field].TotalPriceinfo}" />
                  </apex:outputText>                       
                </apex:column>  
        
               
       </apex:pageBlockTable>
       <input type="hidden" class="baskettotal" id="baskettotal" value="0"/>
      
          <apex:outputpanel id="anonymous_totalsummary">
          
          
        
           <script>   
         $(document).ready( function () {
        
             var anyomdonationamount = $(".Anony_MaxAmount").val();
             var quantitytotal =0;
             $('.quntitytextenable').each(function() {
                var $this = $(this);
               
                if($this.val() !=0 || $this.val() !=''){
                    
                 quantitytotal  = parseInt(quantitytotal) + parseInt($this.val());
                }
              
            });
         
           if(parseInt(quantitytotal) ==0 && ( anyomdonationamount =='' || anyomdonationamount <=0)){
          
         
            //$('.Anonymous_Confirmbutton').attr('disabled','true');
            $('.Anonymous_Confirmbutton').hide();
            $('.Anonymous_Confirmbuttondummy').show();
           
           }else{
           $('.Anonymous_Confirmbutton').show();
            $('.Anonymous_Confirmbuttondummy').hide();
           
           }
         
         });
 </script>
            <table class="table table-bordered table-hover">
                    <tr style="display:{!if(DGrossAmount>0,'table-row;vertical-align: inherit;','none')}">
                      <td width="100%">&nbsp;</td>
                      <td class="align-right" style="white-space:nowrap">Gross Total</td>
                      <td class="align-right"><strong>
                     <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                     <apex:param value="{!DGrossAmount}" />
                     </apex:outputText> 
                      </strong></td>
                    </tr>
                    
                   
                    <tr style="display:{!if(DTotalTax>0,'table-row;vertical-align: inherit;','none')}">
                 
                      <td>&nbsp;</td>
                      <td class="align-right"> Tax</td>
                      <td class="align-right"> <strong> 
                      <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                     <apex:param value="{!DTotalTax}" />
                     </apex:outputText>
                      </strong></td>
                       
                      </tr>
                    
                     <tr style="display:{!if(DTotalDiscount>0 ||CouponsListMethod.size >0,'table-row;vertical-align: inherit;','none')}">
                      <td>
                      <div style="padding-top:5px;"></div>
                      <apex:actionRegion >
                      <div> 
                      <apex:outputpanel rendered="{!if(CouponsListMethod.size >0,true,false)}">
                        <apex:dataTable columns="2" value="{!CouponsListMethod}" var="var" style="width:100%;" styleClass="subtable coupontable">
                         <apex:column ><apex:outputLabel value="{!var.CouponName}" /> </apex:column>
                         <apex:column style="white-space:nowrap"><apex:inputtext value="{!var.Couponval}" style="color: #888888; width: 60px;font-size: 11px;" />

                         <apex:outputtext value="{!var.CouponError}" styleclass="{!If(var.CouponError=='Coupon code applied','Valid','Invalid')}"/>
                         <apex:inputhidden value="{!var.Levelid}" />
                         </apex:column>
                        </apex:dataTable>
                        </apex:outputpanel>
                      </div>
                      
                     <div>
                        
                         <apex:outputpanel >
                         
                             <apex:actionStatus id="mySaveStatus2">
                                 <apex:facet name="stop">
                                 <apex:commandLink value="Apply Coupon"  styleClass="btn btn-mini btn-primary" reRender="Anonymous_levelinfo,anonymous_totalsummary" action="{!calculateamounts}" status="mySaveStatus2" rendered="{!IF(CouponsListMethod.Size>0,true,false)}"/>
                                 </apex:facet>
                                 <apex:facet name="start">
                                     <apex:outputPanel >
                                     <apex:commandlink value="Processing..." styleClass="btn btn-mini btn-primary" status="mySaveStatus2"/>
                                     <apex:image value="/img/loading32.gif"   style="height: 15px;float:right;clear:both;margin-right:10px;margin-top:5px;"/>
                                     </apex:outputPanel>
                                 </apex:facet>

                             </apex:actionStatus>
                             
                         </apex:outputpanel>
                        
                      </div>
                      </apex:actionRegion>
                      </td>
                        
                      <td class="align-right">Discount</td>
                      <td class="align-right"><strong>
                         <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                         <apex:param value="{!DTotalDiscount}" />
                         </apex:outputText> 
                          </strong>
                      </td>
                    </tr>                        
                         
                                
                                
                      
                        
                     
                   
                    <tr style="display:{!if(eventid.Additional_Donation__c==true,'table-row;vertical-align: inherit;','none')}">
                      <td colspan="2" class="align-right" width="100%">
                          <apex:outputLabel value="{!Eventid.CnP_PaaS_EVT__Label_for_additional_donation__c}" style="font-weight: bold;"></apex:outputLabel>
                      </td>
                      <td class="align-right" style="white-space:nowrap">
                          <apex:outputpanel >
                           <strong>{!currencycode}&nbsp;</strong>
                           <apex:actionStatus id="donactionchange_status" onstart="showLoadingDiv();" onstop="submitprocess();"/> <!--onkeyup="this.value=this.value.replace(/[^0-9.]/g, '')" -->
                           <apex:inputtext html-placeholder="0.00"   value="{!AdditionalDonation}" styleClass="Anony_MaxAmount" id="Anony_MaxAmount" maxlength="11"  style="width:50px;" onkeyup="this.value=this.value.replace(/[^0-9.]/g, '')">
                          
                                <apex:actionsupport status="donactionchange_status" event="onblur" rerender="Anonymous_levelinfo,anonymous_totalsummary" action="{!AddingDonation}" ></apex:actionsupport> 
                           </apex:inputtext> 
                          
            
                           </apex:outputpanel>
                      
                      </td>
                      </tr>
                    <tr>
                      <td colspan="3"><div class="row-fluid">
                        <!-- <div class="span6" style="padding-top:15px;"> </div> --> 
                        <div class="span12 text_align_right" style="padding-top:10px;"> <strong>Net Total :</strong> <strong class="nettotal greentext">
                       <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                     <apex:param value="{!DTotalAmount}" />
                     </apex:outputText> 
                        </strong> </div>
                        </div></td>
                    </tr>
                     <tr style="display:{!if(TotalTaxDeductible>0,'table-row;vertical-align: inherit;','none')}">
                 
                     <td colspan="3"><div class="row-fluid">
                        <!-- <div class="span6" style="padding-top:15px;"> </div> -->
                        <div class="span12 text_align_right" style="padding-top:10px;"> <strong>Total Tax Deductible :</strong>
                         <strong class="nettotal ">
                     
                      <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                     <apex:param value="{!TotalTaxDeductible}" />
                     </apex:outputText>
                     
                      
                     </strong> </div>
                        </div></td>
                       
                      </tr>
                    <tr>
                      <td colspan="3" align="right">
                      <div class="row-fluid">
                      
                            <!-- <div class="span4 text_align_left"><a href="#Anonymous" class="btn" data-slide="prev"><i class="icon icon-chevron-left"></i></a> </div> -->
                            <!--<div class="span6 text_align_center"> </div>-->                     
                            <div class="span12 text_align_right">
                           
                          <!--  <a href="#Anonymous" class="btn btn-success greytext" onclick="confirmvalidation()"><strong>Confirmation Details</strong> <i class="icon icon-chevron-right"></i></a> -->
                           <input type="button" value="Continue" Class="btn btn-success greytext Anonymous_Confirmbuttondummy" />
                           <apex:actionStatus id="AnonymousConfirm_status"   onstart="showLoadingDiv();" onstop="confirmvalidation()"> 
                           <apex:facet name="stop">
                           <apex:commandButton status="AnonymousConfirm_status" action="{!ticketinfopage}" onclick="if(!MaxAmountValidation()){return false;}" value="Continue"  styleClass="btn btn-success greytext Anonymous_Confirmbutton"  reRender="Anonymous_levelinfo,anonymous_totalsummary,anonymous_orderdetails,Anonymous_paymentblock,Anonymous_PaymentSection,Anonymous_FinalTotalSummary"  id="Anonymous_Confirmbutton">
                      
                             </apex:commandButton> 
                            
                           </apex:facet>
                           <apex:facet name="start">
                               <apex:image value="/img/loading32.gif" style="height: 15px;"/>
                               <apex:commandbutton value="Processing..." status="AnonymousConfirm_status" disabled="true" styleClass="btn btn-success greytext" />
                           </apex:facet>
                       </apex:actionStatus>
                           </div>
                        </div>
                      </td>
                    </tr>
                  </table>
                </apex:outputpanel>
            </div>
           
               <div class="item2" id="Anony2">
               <apex:outputpanel id="anonymous_orderdetails" >
               <apex:outputPanel rendered="{!Registrantpage}"> 
              <script type="text/javascript">
               $(document).ready( function () {
                // $("#diveVTPage #topinfo table").removeAttr("class");
                $("#diveVTPage #topinfo table").addClass("table table-bordered table-hover");
               });
               </script>
               
                     
               <apex:pageBlockTable value="{!existingMapkeylist}" rendered="{!if(testsampleforsize.size >0,true,false)}"  var="field" styleClass="table table-bordered table-hover" >
               <apex:column headerValue="Level Name" styleClass="align-left" headerClass="align-left" style="width:100%">              
                    
                 <strong> <apex:OutputText value="{!existingMap[field].ReglevelInfo}" /></strong> 
                    <br/><br/>
                     <apex:outputPanel rendered="{!if(existingMap[field].ReglevelDesc!=null,true,false)}">
                    <div class="small_text read_more">
                    <a href="#AnonyLevel_edescription{!field}" role="button" title="{!existingMap[field].ReglevelInfo}"  data-original-title="{!existingMap[field].ReglevelInfo}" data-toggle="modal">Read More</a>
                    </div>  
                    </apex:outputPanel>
                   <!-- <div class="small_text read_more">
                    <a href="#AnonyLevel_edescription{!field}" role="button" title="{!existingMap[field].ReglevelInfo}"  data-original-title="{!existingMap[field].ReglevelInfo}" data-toggle="modal"><strong>Read More</strong></a>
                    </div>  -->                    
                    <script>
                         $(document).ready( function () {
                          $('#AnonyLevel_edescription{!field}').draggable(
                              {
                               handle: ".modal-footer,.modal-header"
                              } 
                          );
                          });
                         </script>
                   
                   
                    <div id="AnonyLevel_edescription{!field}"  class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                      
                        <div class="modal-header">
                            <button type="button" class="close modal_close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h3 id="myModalLabel">{!existingMap[field].ReglevelInfo}</h3>
                          </div>
                          <div class="modal-body">
                          <apex:outputText value="{!if(existingMap[field].ReglevelDesc !=null,existingMap[field].ReglevelDesc,'No Description')}" escape="false" />
                            
                            
                          </div>
                          <div class="modal-footer">
                            <button class="btn btn-success" data-dismiss="modal" aria-hidden="true">Cancel</button>
                           
                          </div>          
                          
                   </div>    
                    
                    
                                               
                </apex:column>
                <apex:column headerValue="Price" styleClass="align-right" headerClass="align-right" rendered="{!if(EventId.CnP_PaaS_EVT__Price__c=='Show' || EventId.CnP_PaaS_EVT__Price__c==null,'true','false')}">
               <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                <apex:param value="{!existingMap[field].PriceInfo}" /></apex:outputText>
                </apex:column>
                <apex:column headerValue=" +Fee" styleClass="align-right" headerClass="align-right" rendered="{!if(EventId.CnP_PaaS_EVT__Additional_Fee__c=='Show' || EventId.CnP_PaaS_EVT__Additional_Fee__c==null,'true','false')}">
                <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                <apex:param value="{!existingMap[field].FeeInfo}" /></apex:outputText>
                </apex:column>
                <apex:column headerValue="Registrations Incl." styleClass="align-center" headerClass="align-center" rendered="{!if(EventId.CnP_PaaS_EVT__Registrations_Included__c=='Show' || EventId.CnP_PaaS_EVT__Registrations_Included__c==null,'true','false')}">
                <apex:outputText value="{!existingMap[field].TicketIncluded}" >
                </apex:outputText>
                </apex:column>
                   <apex:column headerValue="Qty." styleClass="align-center" headerClass="align-center" rendered="{!if(EventId.CnP_PaaS_EVT__Quantity__c=='Show' || EventId.CnP_PaaS_EVT__Quantity__c==null,'true','false')}">
                  <apex:outputText value="{0, number,0}">
                 <apex:param value="{!existingMap[field].QuantityInfo}" />
                 </apex:outputText>  
                    
                  </apex:column>
                   <apex:column headerValue="Total" styleClass="align-right" headerClass="align-right" rendered="{!if(EventId.CnP_PaaS_EVT__Total__c=='Show' || EventId.CnP_PaaS_EVT__Total__c==null,'true','false')}">
                 <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                 <apex:param value="{!existingMap[field].TotalPriceinfo}" /></apex:outputText>  
                    
                  </apex:column>
             
               </apex:pageBlockTable>              

     </apex:outputpanel>
     </apex:outputpanel>           
               <!--Payment Form Start Here  -->    

    
                      
    <apex:outputpanel id="Anonymous_paymentblock">
    <apex:outputPanel rendered="{!Registrantpage}"> 
      
 <div id="diveVTPage" >
    <div id="topinfo">
    <div id="divInformationArea">                     
       
      
            <apex:outputpanel id="Anonymous_PayeeInformation" styleClass="PaymentMethod"> 
             
             
             <apex:outputpanel id="Anonymous_ContactFields">
             <script type="text/javascript">
               $(document).ready( function () {
                // $("#diveVTPage #topinfo table").removeAttr("class");
                $("#diveVTPage #topinfo table").addClass("table table-bordered table-hover");
                
                                
               });
               </script>  
                  <script type="text/javascript">
                   $(document).ready( function () {
                            
            $( ".Birthdate" ).datepicker({
                     dateFormat:"{!date_format}",
                     defaultDate: "+1w",
                     
                     changeMonth: true,
                     changeYear: true,
                    yearRange: '1920:c+0',
                    maxDate:-0,
                    numberOfMonths: 1,
                    buttonImageOnly:true,
                    buttonText:'',
                   buttonImage: '{!URLFOR($Resource.CnP_PaaS_EVT__datepicker, "datepicker/calendar.gif")}',
                    showOn: "both",
           });
          $( ".DATE" ).datepicker({
                      dateFormat:"{!date_format}",
                     defaultDate: "+1w",
                     
                     changeMonth: true,
                     changeYear: true,
                    yearRange: 'c-20:c+20',
                   
                    numberOfMonths: 1,
                    buttonImageOnly:true,
                    buttonText:'',
                   buttonImage: '{!URLFOR($Resource.CnP_PaaS_EVT__datepicker, "datepicker/calendar.gif")}',
                    showOn: "both",
           });
                    
                   
           $('.DATETIME').datetimepicker({
                   
                    language: 'en',
                    pick12HourFormat: true, 
                    format:"{!datetime_format}",    
                    //format: 'mm/dd/yyyy H:ii P',
                    pickerPosition: "bottom-left",              
                    todayBtn:  1,              
                    autoclose: 1,                    
                    timeFormat: 'hh:mm tt',         
                  
                   showMeridian: 1,
                  
                });
            $(".DATE").removeAttr('onfocus'); 
            $(".DATETIME").removeAttr('onfocus');
            $(".Birthdate").removeAttr('onfocus');
           //   $(".DATE").attr('readonly', true);
          //  $(".DATETIME").attr('readonly', true);
            
            $(".DATETIME").after( "<img class='DATETIME' src='{!URLFOR($Resource.CnP_PaaS_EVT__datepicker, 'datepicker/calendar.gif')}' />" );
         //   $(".Birthdate").attr('readonly', true);     
         
          });
                 </script> 
                       <apex:outputPanel styleClass="cp_billing"> 
                         <apex:pageBlockSection columns="1" collapsible="false" showHeader="true"> 
                       <apex:facet name="header">
                         <apex:outputPanel id="Anonymous_contact_header" >
                         <div class="well well-small" style="margin-bottom:-3px;">
                          <h3>{!IF(DTotalAmount==0,'Additional Information','Billing Information')}</h3>
                          </div>
                         </apex:outputPanel>
                         </apex:facet> 
                          <!-- contact lookup for manual Starts here-->
                           <apex:pageBlockSectionItem rendered="{!if(registrationtype =='manual',true,false)}">
                           
                                  <apex:outputLabel style="text-align:center; padding:0px;margin-bottom:initial;" value="Search by first name, last name, or email" ></apex:outputLabel>
                                  
                       </apex:pageBlockSectionItem>
                         <apex:pageblockSectionItem rendered="{!if(registrationtype =='manual',true,false)}">
                              <apex:outputPanel style="text-align:center;display:block;">
                               <apex:outputLabel style="line-height:initial;display:inline-block;padding:initial;padding-right:4px;" value="Existing Patron" ></apex:outputLabel>
                              
                                
                              <apex:inputText size="50" id="accountany" styleClass="contactfiled" style="width:200px;float:none;">                 
                                     
                               <c:autocomplete objectname="Contact" additionalfield="Email" autocomplete_textbox="{!$Component.accountany}" autocomplete_hidden="contactidany" /> 
                              </apex:inputText> 
                                <input type="hidden" value="{!contactid}" id="contactidany" />
                                  <input type="button"  onclick="loadcontactfunctionreg()" style="visibility:hidden;" Class="loadclass btn btn-warning" value="Load" />  
                                 
                                  <script>
                                     function loadcontactfunctionreg(){
                                     var cont= $('#contactidany').val();
                                    
                                     loadcontactfunctionreg1(cont);
                                     
                                     }
                                     
                                     </script>         
                   
                      
 
                               </apex:outputPanel> 
                              </apex:pageblockSectionItem>
                          <!-- contact lookup for manual Ends here-->
                           </apex:pageBlockSection>
                              </apex:outputPanel>
                        <apex:pageBlockSection columns="1" id="Anonymous_ContactInfo" collapsible="false" >
                         
                         
                         
                        
                          <apex:repeat value="{!availableContactFields}" var="Regfield" > 
                          
                          <apex:pageBlockSectionItem rendered="{!IF(Regfield.visable1==true && Regfield.Field1!='MailingCountry' && Regfield.Field1!='MailingState' && Regfield.Field1!='FirstName'&& Regfield.Field1!='LastName'&& Regfield.Field1!='Email',true,false)}">                                
                                                               
                                 <apex:outputPanel styleClass="control-group">
                                 <label><apex:outputText value="{!Regfield.Label1}"> </apex:outputText>
                                 <apex:outputtext value="*" rendered="{!IF(Regfield.req1==true,true,false)}" styleclass="{!IF(Regfield.req1==true,'req','')}"></apex:outputText>
                                 </label>
                                 </apex:outputPanel>
                                  <apex:outputpanel styleClass="control-group">
                                  <div class="controls">
                                 <apex:inputField value="{!acc1[Regfield.Field1]}"  onblur="trimvalue(this.value,'{!IF(Regfield.req1==true ,Regfield.Field1,Regfield.Field1)}');" styleClass="{!IF(Regfield.req1==true ,IF($ObjectType.Contact.fields[Regfield.Field1].Custom==false,Regfield.Field1&' any_required',Regfield.FieldType1&' any_required'),if($ObjectType.Contact.fields[Regfield.Field1].Custom==false,Regfield.Field1,Regfield.Fieldtype1))}" />  
                                 </div>
                                 </apex:outputpanel>
                                
                           </apex:pageBlockSectionItem>
                            <apex:pageBlockSectionItem rendered="{!IF(Regfield.visable1==true && Regfield.Field1=='FirstName',true,false)}">                                
                                                               
                                 <apex:outputPanel styleClass="control-group">
                                 <label><apex:outputText value="{!Regfield.Label1}"> </apex:outputText>
                                 <apex:outputtext value="*" rendered="{!IF(Regfield.req1==true,true,false)}" styleclass="{!IF(Regfield.req1==true,'req','')}"></apex:outputText>
                                 </label>
                                 </apex:outputPanel>
                                  <apex:outputpanel styleClass="control-group">
                                  <div class="controls">
                                 <apex:inputText value="{!acc1[Regfield.Field1]}" disabled="{!disablefields}"  onblur="trimvalue(this.value,'{!IF(Regfield.req1==true ,Regfield.Field1,Regfield.Field1)}');" styleClass="{!IF(Regfield.req1==true ,IF($ObjectType.Contact.fields[Regfield.Field1].Custom==false,Regfield.Field1&' any_required',Regfield.FieldType1&' any_required'),if($ObjectType.Contact.fields[Regfield.Field1].Custom==false,Regfield.Field1,Regfield.Fieldtype1))}" />  
                                 <input type="hidden" value="{!acc1['id']}"  id="contactidAnyReg" /> 
                                 </div>
                                 </apex:outputpanel>
                                
                           </apex:pageBlockSectionItem>
                           <apex:pageBlockSectionItem rendered="{!IF(Regfield.visable1==true && Regfield.Field1=='LastName',true,false)}">                                
                                                               
                                 <apex:outputPanel styleClass="control-group">
                                 <label><apex:outputText value="{!Regfield.Label1}"> </apex:outputText>
                                 <apex:outputtext value="*" rendered="{!IF(Regfield.req1==true,true,false)}" styleclass="{!IF(Regfield.req1==true,'req','')}"></apex:outputText>
                                 </label>
                                 </apex:outputPanel>
                                  <apex:outputpanel styleClass="control-group">
                                  <div class="controls">
                                 <apex:inputText value="{!acc1[Regfield.Field1]}" disabled="{!disablefields}"  onblur="trimvalue(this.value,'{!IF(Regfield.req1==true ,Regfield.Field1,Regfield.Field1)}');" styleClass="{!IF(Regfield.req1==true ,IF($ObjectType.Contact.fields[Regfield.Field1].Custom==false,Regfield.Field1&' any_required',Regfield.FieldType1&' any_required'),if($ObjectType.Contact.fields[Regfield.Field1].Custom==false,Regfield.Field1,Regfield.Fieldtype1))}" />  
                                 </div>
                                 </apex:outputpanel>
                                
                           </apex:pageBlockSectionItem>
                           <apex:pageBlockSectionItem rendered="{!IF(Regfield.visable1==true && Regfield.Field1=='Email',true,false)}">                                
                                                               
                                 <apex:outputPanel styleClass="control-group">
                                 <label><apex:outputText value="{!Regfield.Label1}"> </apex:outputText>
                                 <apex:outputtext value="*" rendered="{!IF(Regfield.req1==true,true,false)}" styleclass="{!IF(Regfield.req1==true,'req','')}"></apex:outputText>
                                 </label>
                                 </apex:outputPanel>
                                  <apex:outputpanel styleClass="control-group">
                                  <div class="controls">
                                 <apex:inputText value="{!acc1[Regfield.Field1]}" disabled="{!disablefields}"  onblur="trimvalue(this.value,'{!IF(Regfield.req1==true ,Regfield.Field1,Regfield.Field1)}');" styleClass="{!IF(Regfield.req1==true ,IF($ObjectType.Contact.fields[Regfield.Field1].Custom==false,Regfield.Field1&' any_required',Regfield.FieldType1&' any_required'),if($ObjectType.Contact.fields[Regfield.Field1].Custom==false,Regfield.Field1,Regfield.Fieldtype1))}" />  
                                 </div>
                                 </apex:outputpanel>
                                
                           </apex:pageBlockSectionItem>
                                  
                           <apex:pageBlockSectionItem rendered="{!IF(Regfield.visable1==true && Regfield.Field1=='MailingCountry',true,false)}">
                                  <apex:outputPanel styleClass="control-group">
                               <label><apex:OutputText value="{!Regfield.Label1}{!IF(Regfield.req1==true,'<span class=req>*</span>','')}"  escape="false" />
                                </label>
                                </apex:outputPanel>
                                <apex:outputPanel styleClass="control-group">
                                <div class="controls">
                               <apex:selectlist value="{!acc1[Regfield.Field1]}" size="1" styleClass="{!IF(Regfield.req1==true,Regfield.Field1&' any_required' ,Regfield.Field1)}" onchange="StateChangeReg(this.value);">
                                          <apex:selectOption itemLabel="Select" itemValue=""/>
                                          <apex:selectOptions value="{!showcountries}"  rendered="{!IF(showcountries.size>0,true,false)}"/>             
                                          <apex:selectOptions value="{!xmlstring.CountryCodes}" rendered="{!IF(showcountries.size>0,false,true)}"/>                                 
                               </apex:selectlist>
                               </div>
                               </apex:outputPanel>

                          </apex:pageBlockSectionItem>                     
                                  
                          <apex:pageBlockSectionItem rendered="{!IF(Regfield.visable1==true && Regfield.Field1=='MailingState' ,true,false)}">            
                              <apex:outputPanel styleClass="control-group"> 
                              <label>        
                              <apex:OutputText value="{!Regfield.Label1}"/>
                              <apex:outputtext value="*" rendered="{!IF(Regfield.req1==true,true,false)}" styleclass="{!IF(Regfield.req1==true,'req','')}"></apex:outputText>
                              </label>
                              </apex:outputpanel>
                              <apex:outputPanel id="staterefresh" styleClass="control-group">
                               <div class="controls">
                              <apex:selectlist value="{!acc1[Regfield.Field1]}" size="1" rendered="{!IF(showStatesReg.size>0,true,false)}" styleClass="{!IF(Regfield.req1==true,Regfield.Field1&' any_required' ,Regfield.Field1)}">
                                  <apex:selectOptions value="{!showStatesReg}"  />             
              
                              </apex:selectlist>
                               <apex:inputfield value="{!acc1[Regfield.Field1]}" onblur="trimvalue(this.value,'{!IF(Regfield.req1==true ,Regfield.Field1,Regfield.Field1)}');" rendered="{!IF(showStatesReg.size>0,false,true)}" styleClass="{!IF(Regfield.req1==true,Regfield.Field1&' any_required' ,Regfield.Field1)}"/>
                               </div>
                               </apex:outputPanel>
                          </apex:pageBlockSectionItem>               
                          
                          </apex:repeat>
                        </apex:pageblocksection>
                   </apex:outputpanel>     
                <apex:outputpanel id="Anonymous_CustomFields">
                 <apex:variable value="0" var="checkNum"/>
                     
                     
                     <apex:repeat value="{!RegistrantCustomFields}" var="anonyCfield1">
                     <apex:outputPanel rendered="{!IF(anonyCfield1.SectionName!=null,true,false)}">
                     <div class="well well-small" style="margin-bottom:-3px;margin-top:20px;" >               
                     <h3><apex:outputText value="{!anonyCfield1.SectionName}"></apex:outputText></h3>
                     </div>
                     </apex:outputPanel>
                     <apex:outputpanel rendered="{!anonyCfield1.visible}">
                         <table class="table table-bordered" style="margin-bottom:-3px;">                        
                          <tr>
                          <td class="small_text form-horizontal">  

                             <div class="control-group">     
                                <label class="control-label" for="inputFieldtName">
                                <apex:outputText value="{!anonyCfield1.label}" ></apex:outputText>
                                   <apex:outputtext value="{!IF(anonyCfield1.req==true,'<span class=req>*</span>','')}"  escape="false"></apex:outputText>
                                </label>
                                <div class="controls">
                               
                                <apex:inputText value="{!anonyCfield1.DefaultValue}" rendered="{!IF(anonyCfield1.FieldType=='Text box',true,false)}" styleClass="pull-left span12 {!IF(anonyCfield1.req==true,'textbox any_required','textbox')}"></apex:inputText>
                                
                                <apex:inputTextarea value="{!anonyCfield1.DefaultValue}" rendered="{!IF(anonyCfield1.FieldType=='Text area',true,false)}" styleClass="span12 {!IF(anonyCfield1.req==true,'textarea any_required','textarea')}">&nbsp;&nbsp;&nbsp;</apex:inputTextarea>
                                
                                <apex:selectRadio value="{!anonyCfield1.DefaultValue}"  layout="pageDirection" rendered="{!IF(anonyCfield1.FieldType=='Radio button',true,false)}"  styleClass="{!IF(anonyCfield1.req==true,'radiobox'+checkNum,'noclasstest')}">
                                <apex:selectOptions value="{!anonyCfield1.Fieldvalues}"/>
                                </apex:selectRadio>
                                
                                <apex:selectList value="{!anonyCfield1.DefaultValue}"  size="1" rendered="{!IF(anonyCfield1.FieldType=='Select list',true,false)}" styleClass="span12 {!IF(anonyCfield1.req==true,'selectbox'+checkNum,'noclasstest')}">
                                   <apex:selectOptions value="{!anonyCfield1.Fieldvalues}"/>
                                </apex:selectList>
                                
                                
                                <apex:selectCheckboxes value="{!anonyCfield1.checkedboxValues}" layout="pageDirection" rendered="{!IF(anonyCfield1.FieldType=='Check box',true,false)}" styleClass="{!IF(anonyCfield1.req==true && anonyCfield1.FieldType=='Check box','checkbox'+checkNum,'noclasstest')}" >
                                 <apex:selectOptions value="{!anonyCfield1.Fieldvalues}" />
                                </apex:selectCheckboxes> 
                                
                                <apex:inputhidden value="{!anonyCfield1.QuestionId}"/>
                                <apex:inputhidden value="{!anonyCfield1.SectionNamehidden}"/> 
                                
                                <apex:outputpanel rendered="{!(anonyCfield1.visible==false)}">
                                <apex:inputHidden value="{!anonyCfield1.DefaultValue}"/>
                                <apex:inputhidden value="{!anonyCfield1.QuestionId}"/>
                                <apex:inputhidden value="{!anonyCfield1.SectionNamehidden}"/> 
                                </apex:outputpanel>
                               
                                </div>
                                </div>
                           
                            </td>
                           </tr>
                          </table>
                          </apex:outputPanel>
                          <apex:variable var="checkNum" value="{!VALUE(checkNum) + 1}"/>
                     </apex:repeat>
                     
                         <input type="hidden" value="{!checkNum}" class="rowvalues" name="checkNum"/>
            </apex:outputpanel>
        </apex:outputpanel>


        <apex:outputpanel id="Anonymous_PaymentSection">
        <apex:outputpanel id="Anonymous_PaymentSelection1" rendered="{!IF(DTotalAmount > 0.0,if(EventAccountInfo.CnP_PaaS_EVT__Credit_Card__c==true && EventAccountInfo.CnP_PaaS_EVT__eCheck__c ==false && EventAccountInfo.CnP_PaaS_EVT__Invoice__c ==false && EventAccountInfo.CnP_PaaS_EVT__Purchase_Order__c==false && EventAccountInfo.CnP_PaaS_EVT__Custom_Payment_Check__c==false,false,if(EventAccountInfo.CnP_PaaS_EVT__Credit_Card__c==false && EventAccountInfo.CnP_PaaS_EVT__eCheck__c ==true && EventAccountInfo.CnP_PaaS_EVT__Invoice__c ==false && EventAccountInfo.CnP_PaaS_EVT__Purchase_Order__c==false && EventAccountInfo.CnP_PaaS_EVT__Custom_Payment_Check__c==false,false,if(EventAccountInfo.CnP_PaaS_EVT__Credit_Card__c==false && EventAccountInfo.CnP_PaaS_EVT__eCheck__c ==false && EventAccountInfo.CnP_PaaS_EVT__Invoice__c ==true && EventAccountInfo.CnP_PaaS_EVT__Purchase_Order__c==false && EventAccountInfo.CnP_PaaS_EVT__Custom_Payment_Check__c==false,false,if(EventAccountInfo.CnP_PaaS_EVT__Credit_Card__c==false && EventAccountInfo.CnP_PaaS_EVT__eCheck__c ==false && EventAccountInfo.CnP_PaaS_EVT__Invoice__c ==false && EventAccountInfo.CnP_PaaS_EVT__Purchase_Order__c==true && EventAccountInfo.CnP_PaaS_EVT__Custom_Payment_Check__c==false,false,if(EventAccountInfo.CnP_PaaS_EVT__Credit_Card__c==false && EventAccountInfo.CnP_PaaS_EVT__eCheck__c ==false && EventAccountInfo.CnP_PaaS_EVT__Invoice__c ==false && EventAccountInfo.CnP_PaaS_EVT__Purchase_Order__c==false && (EventAccountInfo.CnP_PaaS_EVT__Custom_Payment_Check__c==true && custompaymentoption.size <= 1),false,true))))),false)}" >            
     
              <!--  <h3>Payment Method</h3> -->
        
                <apex:outputpanel id="RefreshType" styleClass="form-horizontal" >
                <apex:actionRegion >
                <div class="well well-small" style="margin-bottom:-3px;margin-top:20px;">
                <h3>Payment Information: &nbsp;
                      <apex:selectlist value="{!xmlPaymentMethod.PaymentType}" rendered="{!if(registrationtype !='manual',true,false)}" styleClass="paymenttype" size="1" >   
                      <apex:actionsupport event="onchange"   rerender="Anonymous_PaymentMethod,Anonymous_Paymentbutton,resulttransactionfailanonymous"/>          
                        <apex:selectOption rendered="{!IF(EventAccountInfo.CnP_PaaS_EVT__Credit_Card__c==true && (EventId.CnP_PaaS_EVT__Registration_Type__c=='Test' || EventId.CnP_PaaS_EVT__Registration_Type__c=='Active'),true,false)}"  itemValue="CreditCard" itemLabel="Credit Card"/>
                        <apex:selectOption rendered="{!IF(EventAccountInfo.CnP_PaaS_EVT__eCheck__c ==true && EventId.CnP_PaaS_EVT__Registration_Type__c=='Active',true,false)}" itemValue="Check" itemLabel="eCheck" /> 
                        <apex:selectOption rendered="{!IF(EventAccountInfo.CnP_PaaS_EVT__Invoice__c ==true && EventId.CnP_PaaS_EVT__Registration_Type__c=='Active',true,false)}" itemValue="Invoice" itemLabel="Invoice"/> 
                        <apex:selectOption rendered="{!IF(EventAccountInfo.CnP_PaaS_EVT__Purchase_Order__c==true && EventId.CnP_PaaS_EVT__Registration_Type__c=='Active',true,false)}" itemValue="PurchaseOrder" itemLabel="Purchase Order"/>
                        <!--<apex:selectOption rendered="{!IF(EventAccountInfo.CnP_PaaS_EVT__Custom_Payment_Check__c==true && EventId.CnP_PaaS_EVT__Registration_Type__c=='Active',true,false)}" itemValue="CustomPaymentType">                           
                        </apex:selectOption>  -->
                        <apex:selectOptions rendered="{!IF(EventAccountInfo.CnP_PaaS_EVT__Custom_Payment_Check__c==true && EventId.CnP_PaaS_EVT__Registration_Type__c=='Active',true,false)}" value="{!custompaymentoption}"></apex:selectOptions>                      
                      </apex:selectlist>
                 </h3>
                </div>            
                </apex:actionRegion>
               
                </apex:outputpanel>

        </apex:outputPanel>
        
         <apex:outputpanel id="Anonymous_PaymentSelection1manual" rendered="{!IF(DTotalAmount > 0.0 && registrationtype=='manual',true,false)}">            
               <apex:outputpanel id="RefreshTypemanual" styleClass="form-horizontal" >
               <apex:actionRegion >
               
                      <apex:selectRadio value="{!xmlPaymentMethod.PaymentType}" rendered="{!if(registrationtype =='manual',true,false)}" styleClass="paymenttype"  >   
                        <apex:actionsupport event="onchange"   rerender="Anonymous_PaymentMethod,Anonymous_Paymentbutton,resulttransactionfailanonymous"/>                              
                        <apex:selectOption rendered="{!creditcardpayment}"  itemValue="CreditCard" itemLabel="Credit Card"/>
                        <apex:selectOption rendered="{!echeckpayment}" itemValue="Check" itemLabel="eCheck" /> 
                        <apex:selectOption rendered="{!invoicepayment}" itemValue="Invoice" itemLabel="Invoice"/> 
                        <apex:selectOption rendered="{!popayment}" itemValue="PurchaseOrder" itemLabel="Purchase Order"/>
                        <apex:selectOption rendered="{!custompayment}" itemValue="CustomPaymentType" itemLabel="Custom Payment Type"/>
                      </apex:selectRadio>
                  
               </apex:actionRegion>  
               </apex:outputpanel>

        </apex:outputPanel>

     <apex:outputpanel id="Anonymous_PaymentMethod" rendered="{!IF(DTotalAmount> 0.0,true,false)}"  styleClass="">
            
            <apex:outputpanel rendered="{!xmlPaymentMethod.PaymentType=='CreditCard'}" styleClass="detailList">   
                <script>
                     $(document).ready( function () {
                     applycreditcarttype1()
                    
                     
                     
                     });
                     
                       function applycreditcarttype1(){
 
                     
                     if({!EventAccountInfo.CnP_PaaS_EVT__Visa__c}==true){
                     
                         $('.txtCardNumber').addClass("cnpvisa");
                     }
                     if({!EventAccountInfo.CnP_PaaS_EVT__Master_Card__c}==true){                    
                    
                         $('.txtCardNumber').addClass("cnpmastercard");
                     }
                     if({!EventAccountInfo.CnP_PaaS_EVT__Discover__c}==true){                    
                    
                         $('.txtCardNumber').addClass("cnpdiscover");
                     }
                     if({!EventAccountInfo.CnP_PaaS_EVT__American_Express__c}==true){                    
                    
                         $('.txtCardNumber').addClass("cnpamex");
                     }
                     if({!EventAccountInfo.CnP_PaaS_EVT__JCB__c}==true){                    
                    
                         $('.txtCardNumber').addClass("cnpjcb");
                     }
                     
                     
                     
                     }
                     
                    </script>
                <apex:pageblocksection columns="1"> 
                       
                    <apex:pageBlockSectionItem rendered="{!if(registrationtype !='manual',true,false)}" dataStyleClass="text_align_right payment_icon"> 
                    <img style="display:{!IF(EventAccountInfo.Visa__c==true,'inline','none')}" src="{!URLFOR($Resource.Payment_Event, 'images/visa.jpg')}" alt="visa" width="30" id="imgVisa" /> <img style="display:{!IF(EventAccountInfo.master_card__c==true,'inline','none')}" src="{!URLFOR($Resource.Payment_Event, 'images/mastercard.gif')}" alt="mastercard" width="30" id="imgMasterCard" /> <img style="display:{!IF(EventAccountInfo.Discover__c==true,'inline','none')}" src="{!URLFOR($Resource.Payment_Event, 'images/discover.jpg')}" alt="discover" width="30" id="imgDiscover"/> <img style="display:{!IF(EventAccountInfo.American_express__c==true,'inline','none')}" src="{!URLFOR($Resource.Payment_Event, 'images/amex.jpg')}" alt="amex" width="20" id="imgAmex"  /> <img style="display:{!IF(EventAccountInfo.JCB__c==true,'inline','none')}" src="{!URLFOR($Resource.Payment_Event, 'images/jcb_card.gif')}" alt="jcb" width="30" id="imgJCB" />    
                    </apex:pageBlockSectionItem>
                    
                  <apex:pageBlockSectionItem rendered="{!if(registrationtype =='manual',true,false)}">           
                     <!--<apex:outputLabel value="Entry Mode" />-->
                     <apex:outputpanel styleClass="control-group">
                          <label class="EntryMode">Entry Mode<span class="req">*</span></label>
                     </apex:outputpanel>
                          <apex:outputpanel styleClass="control-group">
                          <div class="controls">         
                          <apex:selectList size="1" value="{!selecttype}" styleClass="cardoption" onchange="focuscard();" >
                            <apex:selectOption itemLabel="Manual" itemValue="Manual" ></apex:selectOption>
                            <apex:selectOption itemLabel="Card Reader" itemValue="CardReader"></apex:selectOption>
                           </apex:selectList>
                          </div>
                          </apex:outputpanel>                  
                    </apex:pageBlockSectionItem>
                    
                    <apex:pageBlockSectionItem rendered="{!if(registrationtype =='manual',true,false)}">
                    <apex:outputpanel styleClass="control-group">  
                          <apex:outputLabel styleClass="cardlabel"  style="display:none;">Place the mouse pointer here and swipe the credit card<span class="req">*</span></apex:outputLabel>
                    </apex:outputpanel>
                           <apex:outputPanel styleClass="cardreaderrow control-group" style="display:none;">
                             <div class="controls">
                              <apex:inputSecret value="{!xmlpaymentMethod.TrackData}" styleClass="cardreader" onchange="cardReaderTexChange();"  />
                               </div>
                           </apex:outputPanel>                            
                    </apex:pageBlockSectionItem>     
             
                    <apex:pageBlockSectionItem >
                    <apex:outputpanel styleClass="control-group">
                             <label for="txtNameOnCard1" class="firstlabel">Name on Card <span class="req">*</span></label>
                    </apex:outputpanel>
                    <apex:outputpanel styleClass="control-group">
                    <div class="controls">
                             <apex:inputText value="{!xmlPaymentMethod.NameOnCard}" disabled="{!IF(EventId.CnP_PaaS_EVT__Registration_Type__c=='Test' && registrationtype!='manual',true,false)}" id="txtNameOnCard" styleClass="txtNameOnCard" maxlength="50" />
                    </div>
                    </apex:outputPanel>
                    </apex:pageBlockSectionItem>               
                    
                     <apex:pageBlockSectionItem >
                      <apex:outputpanel styleClass="control-group">
                         <label for="txtCardNumber">Credit Card Number <span class="req">*</span></label>
                      </apex:outputpanel>
                         <apex:outputPanel styleClass="control-group">
                         <div class="controls">
                         <apex:inputText value="{!xmlPaymentMethod.CardNumber}" disabled="{!IF(EventId.CnP_PaaS_EVT__Registration_Type__c=='Test' && registrationtype!='manual',true,false)}" id="txtCardNumber" styleClass="txtCardNumber " maxlength="16" onkeyup="javascript:this.value=this.value.replace(/[^0-9]/g, '');"/>
                            <input type="text" class="dummycardnumber" style="display:none"/>
                           </div>
                     </apex:outputPanel> 
                </apex:pageBlockSectionItem>
                   
                    <apex:pageBlockSectionItem >
                     <apex:outputpanel styleClass="control-group">
                           <apex:outputLabel id="lblCvv" styleClass="cvvlabel">Card Verification (CVV)<span class="req" style="display:{!if(registrationtype !='manual','inline','none')}">*</span></apex:outputLabel>
                     </apex:outputpanel>
                     <apex:outputPanel styleClass="control-group">
                     <div class="controls">
                          <apex:inputText value="{!xmlPaymentMethod.Cvv2}" disabled="{!IF(EventId.CnP_PaaS_EVT__Registration_Type__c=='Test' && registrationtype!='manual',true,false)}" maxlength="4" id="txtCvv" styleClass="txtCvv" style="width:40px;" onkeyup="javascript:this.value=this.value.replace(/[^0-9]/g, '');"/>
                      </div>
                      </apex:outputPanel>    
                    </apex:pageBlockSectionItem>

                    <apex:pageBlockSectionItem >
                    <apex:outputPanel styleClass="control-group">
                            <label for="select_ExpirationMonth">Expiration Date <span class="req">*</span></label>
                     </apex:outputPanel>
                            <apex:outputPanel styleClass="control-group">
                            <div class="controls">
                               <apex:selectlist value="{!xmlPaymentMethod.ExpirationMonth}" disabled="{!IF(EventId.CnP_PaaS_EVT__Registration_Type__c=='Test' && registrationtype!='manual' ,true,false)}" id="select_ExpirationMonth" styleClass="select_ExpirationMonth" style="width:120px;" size="1">             
                                    <apex:selectOptions value="{!xmlstring.ExpireMonth}"/>
                               </apex:selectlist><span class="padding_5">/</span>                                    
                                <apex:selectlist value="{!xmlPaymentMethod.ExpirationYear}" disabled="{!IF(EventId.CnP_PaaS_EVT__Registration_Type__c=='Test' && registrationtype!='manual',true,false)}" id="select_ExpirationYear" styleClass="select_ExpirationYear" size="1" style="width:86px;">             
                                    <apex:selectOptions value="{!xmlstring.ExpireYear}"/>
                                </apex:selectlist>
                                </div>
                            </apex:outputPanel>
                    </apex:pageBlockSectionItem>
                    
                </apex:pageblocksection>   
            </apex:outputpanel>

            <apex:outputpanel rendered="{!xmlPaymentMethod.PaymentType=='ReferenceTransaction'}" styleClass="detailList">

          <apex:pageBlockSection columns="1">
          <apex:pageBlockSectionItem >
           <apex:outputPanel styleClass="control-group">
             <label for="lblOrder_number">Order Number</label>
           </apex:outputPanel>
           <apex:outputPanel styleClass="control-group">
           <div class="controls">
              <apex:inputText value="{!xmlPaymentMethod.OrderNumber}" id="Register_txtOrderNumber" styleClass="txtOrderNumber"/>
              </div>
           </apex:outputPanel>
          </apex:pageBlockSectionItem>

            <apex:pageBlockSectionItem >
            <apex:outputPanel styleClass="control-group">
             <label for="lblVaultguid">VaultGUID</label>
             </apex:outputPanel>
             <apex:outputPanel styleClass="control-group">
             <div class="controls">
             <apex:inputText value="{!xmlPaymentMethod.VaultGUID}" id="Register_txtVaultguid" styleClass="txtVaultguid"/>
             </div>
             </apex:outputPanel>
          </apex:pageBlockSectionItem>
          </apex:pageBlockSection>    

        </apex:outputpanel>
        
           <apex:outputpanel rendered="{!xmlPaymentMethod.PaymentType=='Check'}" styleClass="detailList"> 

            <apex:pageBlockSection columns="1" >
            <apex:pageBlockSectionItem dataStyleClass="text_align_right payment_icon">
              <!--  <img src="http://click-pledge.v-empower.com/web/SALESFORCE/Events2.0/Graphics/frontend-html/img/eCheck.png" alt="eCheck" width="49" height="29" id="img1"/> -->
                <img src="{!URLFOR($Resource.BootstrapFrontend,'BootstrapFrontend/frontend-html/img/eCheck.png')}" style="display:{!if(registrationtype !='manual','inline','none')}" alt="eCheck" width="49" height="29" id="img1"/>
                
            </apex:pageBlockSectionItem>
            
            <apex:pageBlockSectionItem >
            <apex:outputPanel styleClass="control-group">
                <label for="txtRoutingNumber">Routing Number <span class="req">*</span></label>
               </apex:outputPanel>
               <apex:outputPanel styleClass="control-group">
               <div class="controls">
                <apex:inputText maxlength="9" value="{!xmlPaymentMethod.RoutingNumber}" id="Register_txtRoutingNumber"  styleClass="txtRoutingNumber"/>
                </div></apex:outputPanel>
            </apex:pageBlockSectionItem>
            
            <apex:pageBlockSectionItem >
            <apex:outputPanel styleClass="control-group">
                    <label for="txtCheckNumber">Check Number <span class="req">*</span></label> 
            </apex:outputPanel>
            <apex:outputPanel styleClass="control-group">
            <div class="controls">
                    <apex:inputText value="{!xmlPaymentMethod.CheckNumber}" maxlength="10" id="Register_txtCheckNumber" styleClass="txtCheckNumber"/>
            </div>
            </apex:outputPanel>
            </apex:pageBlockSectionItem>
            
             <apex:pageBlockSectionItem >
                 <apex:outputPanel styleClass="control-group">
                    <label for="txtAccountNumber" class="firstlabel">Account Number <span class="req">*</span></label>
                 </apex:outputPanel>
                 <apex:outputPanel styleClass="control-group">
                 <div class="controls">
                    <apex:inputText value="{!xmlPaymentMethod.AccountNumber}" maxlength="17" id="Register_txtAccountNumber" styleClass="txtAccountNumber"/>
                </div>
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
            
             <apex:pageBlockSectionItem >
              <apex:outputPanel styleClass="control-group">
                <label for="txtAccountNumber2" class="firstlabel">Repeat Account Number <span class="req">*</span></label>
                </apex:outputPanel>
                <apex:outputPanel styleClass="control-group">
                <div class="controls">
                <apex:inputText value="{!xmlPaymentMethod.AccountNumber}" id="Register_txtAccountNumber2" styleClass="txtAccountNumber2" maxlength="17" />
                </div>
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
            
             <apex:pageBlockSectionItem >
             <apex:outputPanel styleClass="control-group">
             <label for="select_AccountType">Account Type</label>
             </apex:outputPanel>
             <apex:outputPanel styleClass="control-group">
             <div class="controls">
             <apex:selectlist value="{!xmlPaymentMethod.AccountType}" size="1">             
                 <apex:selectOptions value="{!xmlstring.AccountTypes}"/>
                 </apex:selectlist>
              </div>
              </apex:outputPanel>
            </apex:pageBlockSectionItem>
            
             <apex:pageBlockSectionItem >
              <apex:outputPanel styleClass="control-group">
                 <label for="select_CheckType">Check Type </label>
              </apex:outputPanel>
              <apex:outputPanel styleClass="control-group">
              <div class="controls">
                 <apex:selectlist value="{!xmlPaymentMethod.CheckType}" size="1">             
                 <apex:selectOptions value="{!xmlstring.CheckTypes}"/>
                 </apex:selectlist>
               </div>
               </apex:outputPanel>
            </apex:pageBlockSectionItem>
            
             <apex:pageBlockSectionItem >
             <apex:outputPanel styleClass="control-group">
             <label for="txtNameOnAccount">Name on Account <span class="req">*</span></label>
             </apex:outputPanel>
             <apex:outputPanel styleClass="control-group">
             <div class="controls">
             <apex:inputText value="{!xmlPaymentMethod.NameOnAccount}" maxlength="100" id="Register_txtNameOnAccount" styleClass="txtNameOnAccount"/> 
             </div>
             </apex:outputPanel>
            </apex:pageBlockSectionItem>
            
             <apex:pageBlockSectionItem >
             <apex:outputPanel styleClass="control-group">
             <label for="select_IdType">Type of ID </label>
             </apex:outputPanel>
             <apex:outputPanel styleClass="control-group">
             <div class="controls">
             <apex:selectlist value="{!xmlPaymentMethod.IdType}" size="1">             
                        <apex:selectOptions value="{!xmlstring.IdTypes}"/>
                        </apex:selectlist>
              </div>
              </apex:outputPanel>
            </apex:pageBlockSectionItem> 
          </apex:pageBlockSection>
             
        </apex:outputpanel>

    
               <apex:outputpanel rendered="{!xmlPaymentMethod.PaymentType=='PurchaseOrder'}" styleClass="detailList">

            <apex:pageBlockSection columns="1">
             <apex:pageBlockSectionItem >
             <apex:outputPanel styleClass="control-group">
                 <label for="txtPOAccount">Purchase Order Number<span class="req">*</span> </label>
             </apex:outputPanel>
             <apex:outputPanel styleClass="control-group">
             <div class="controls">
                  <apex:inputText value="{!xmlPaymentMethod.PurchaseOrderNumber}" maxlength="50" id="Register_txtPOAccount" styleClass="txtPOAccount"/>
             </div>
              </apex:outputPanel>
             </apex:pageBlockSectionItem> 
            </apex:pageBlockSection>

        </apex:outputpanel>

              <apex:outputpanel rendered="{!xmlPaymentMethod.PaymentType=='Invoice'}" styleClass="controls">
         <apex:pageBlockSection columns="1" rendered="{!if(registrationtype =='manual',true,false)}">
         
             <apex:pageBlockSectionItem >
              <apex:outputPanel styleClass="control-group">
                 <label for="txtInvoiceAccount">Check Number </label>
              </apex:outputPanel>
              <apex:outputPanel styleClass="control-group">
              <div class="controls">
                 <apex:inputText value="{!xmlPaymentMethod.InvoiceCheckNumber}" maxlength="50" id="txtInvoiceAccount" styleClass="txtInvoiceAccount"/>
              </div>
              </apex:outputPanel>
                 
             </apex:pageBlockSectionItem> 
             
             <apex:pageBlockSectionItem >
             </apex:pageBlockSectionItem>
         
         </apex:pageBlockSection>   
        </apex:outputpanel>

        <apex:outputpanel rendered="{!xmlPaymentMethod.PaymentType=='CustomPaymentType'}" styleClass="detailList">
          <apex:pageBlockSection columns="1" rendered="{!if(registrationtype =='manual',true,false)}">
        <apex:pageBlockSectionItem >
        <apex:outputPanel styleClass="control-group">
        <label for="Name">Name<span class="req">*</span></label>
        </apex:outputPanel>
        
        <apex:outputPanel styleClass="control-group">
        <apex:outputPanel styleClass="requiredInput" layout="block" >
        <apex:outputPanel styleClass="requiredBlock" layout="block"></apex:outputPanel>
         <div class="controls">
         <apex:outputPanel rendered="{!if(cusValue.size == 0,true,false) }">
        
                                     <apex:inputText value="{!xmlpaymentMethod.CustomPaymentName}" styleClass="required1 txtCustomPaymentName" maxlength="50"  id="txtCustomPaymentName" />
                                     
                                       </apex:outputpanel>  
                                       <apex:outputPanel rendered="{!if(cusValue.size >0,true,false) }">
                                     <apex:selectlist value="{!xmlpaymentMethod.CustomPaymentName}" size="1" styleClass="customname">
                                         <apex:selectoptions value="{!cusValue}"></apex:selectoptions>
                                     </apex:selectlist>
                                    </apex:outputPanel>
                                </div>
                                    </apex:outputPanel>
                                     </apex:outputpanel> 
        </apex:pageBlockSectionItem>
        <apex:pageBlockSectionItem >
        <apex:outputPanel styleClass="control-group">                 
                 <label for="txtCustompaymentnumber">Reference Number</label>
        </apex:outputPanel>
        <apex:outputPanel styleClass="control-group">
        <div class="controls">
                 <apex:inputText value="{!xmlPaymentMethod.CustomPaymentNumber}" maxlength="50" id="txtCustompaymentnumber" styleClass="txtCustompaymentnumber"/>
          </div>
          </apex:outputPanel>
             </apex:pageBlockSectionItem>
        </apex:pageBlockSection>
        </apex:outputpanel>
                
          <script>
        //  $("#diveVTPage #topinfo table").removeAttr("class");
        $("#diveVTPage #topinfo table").addClass("table table-bordered table-hover");
          </script>

      </apex:outputpanel>
      </apex:outputpanel>
        
</div></div>     
<apex:outputpanel id="Anonymous_FinalTotalSummary">
<div id="topInfo2">  

 <table class="table table-bordered table-hover">
                    <tr style="display:{!if(DGrossAmount>0,'table-row;vertical-align: inherit;','none')}">
                          <td width="100%">&nbsp;</td>
                          <td class="align-right" style="white-space:nowrap">Gross Total</td>
                          <td class="align-right"><strong>
                         <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                         <apex:param value="{!DGrossAmount}" />
                         </apex:outputText> 
                          </strong></td>
                    </tr>
                    
                    <tr style="display:{!if(DTotalTax>0,'table-row;vertical-align: inherit;','none')}">
                 
                      <td>&nbsp;</td>
                      <td class="align-right"> Tax</td>
                      <td class="align-right"> <strong> 
                      <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                     <apex:param value="{!DTotalTax}" />
                     </apex:outputText>
                      </strong></td>
                       
                    </tr>
                    
                    
                    <tr style="display:{!if(DTotalDiscount>0,'table-row;vertical-align: inherit;','none')}">
                      <td> </td>
                      <td class="align-right">Discount</td>
                      <td class="align-right"><strong>
                       <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                         <apex:param value="{!DTotalDiscount}" />
                         </apex:outputText>
                      </strong></td>
                      </tr>
                       <tr style="display:{!if(eventid.Additional_Donation__c==true && AdditionalDonation >0,'table-row;vertical-align: inherit;','none')}">
                      <td colspan="2" class="align-right" width="100%">
                          <apex:outputLabel value="{!Eventid.CnP_PaaS_EVT__Label_for_additional_donation__c}" style="font-weight: bold;"></apex:outputLabel>
                      </td>
                      <td class="align-right" style="white-space:nowrap">
                          <apex:outputpanel >
                          
                         <strong>
                       <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                         <apex:param value="{!AdditionalDonation}" />
                         </apex:outputText>
                      </strong>
                         
                         
                           </apex:outputpanel>
                      
                      </td>
                      </tr> 
                    <tr>
                      <td colspan="3">
                        <div class="row-fluid">
                          <!-- <div class="span6" style="padding-top:15px;"> </div> -->
                          <div class="span12 text_align_right" style="padding-top:10px;"> <strong>Net Total :</strong> <strong class="nettotal greentext">
                          <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                     <apex:param value="{!DTotalAmount}" />
                     </apex:outputText>
                          </strong> </div>
                        </div></td>
                      </tr>
                     <tr style="display:{!if(TotalTaxDeductible>0,'table-row;vertical-align: inherit;','none')}">
                 
                     <td colspan="3"><div class="row-fluid">
                        <!-- <div class="span6" style="padding-top:15px;"> </div> -->
                        <div class="span12 text_align_right" style="padding-top:10px;"> <strong>Total Tax Deductible :</strong>
                         <strong class="nettotal ">
                     
                      <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                     <apex:param value="{!TotalTaxDeductible}" />
                     </apex:outputText>
                     
                      
                     </strong> </div>
                        </div></td>
                       
                      </tr> 
                      
                      <tr style="display:{!IF(EventId.CnP_PaaS_EVT__Show_Terms_Conditions__c==true,'table-row;vertical-align: inherit;','none')}">
                      <td colspan="3">
                                
                           <table class="no_border notable">
                           <tr><td style="padding-right:10px!important;">                 
                           <apex:inputCheckbox id="Anonymous_term1" styleClass="term" onclick="return check1(this.checked);" style="display:{!IF(EventId.CnP_PaaS_EVT__Acknowledgement_Mandatory__c==true,'block','none')}"/>                            
                           </td><td style="width:100%;padding-top:5px!important;" class="term_text">
                           <apex:outputtext value="{!EventId.CnP_PaaS_EVT__Terms_Conditions__c}" escape="false"/>                
                           </td></tr>
                           </table>
                       
                        </td>
                      </tr>
                      <tr >
                        <td colspan="3">
                         <apex:outputPanel id="resulttransactionfailanonymous" >
                                     <apex:outputpanel rendered="{!IF(Resultdisply!='','true','false')}">
                                   <apex:outputText value="{!Resultdisply}" escape="false" />
                                     </apex:outputpanel>    
                                    </apex:outputPanel>
                       
                        </td>
                       </tr>
                    <tr style="display:'table-row;vertical-align: inherit;'">
                      <td colspan="3" align="right">
                        <div class="row-fluid">
                         <!-- <div class="span6 text_align_left"><a href="#Anonymous" class="btn" onclick="dataslideprev()"><i class="icon icon-chevron-left"></i></a></div> -->
                        <div class="span6 text_align_left">
                         <apex:actionregion >
                          <apex:actionstatus id="AnonymousPreviouspage" onstart="showLoadingDiv();" onstop="dataslideprev()" /> 
                          <apex:commandLink value="" status="AnonymousPreviouspage"   action="{!previousbutton}" styleClass="btn"  reRender="Anonymous_levelinfo,anonymous_totalsummary" id="Anonymous_previousbut">
                          <i class="icon icon-chevron-left"></i>  
                          </apex:commandLink>
                          </apex:actionregion>
                          </div>
                         <!-- <div class="span6 text_align_right"><a href="#Anonymous" class="btn btn-success greytext" onclick="Anonymouspayment()"><strong>Go for Payment</strong> <i class="icon icon-chevron-right"></i></a></div>   -->                   
                            <div style="display:{!IF(EventId.Acknowledgement_mandatory__c==true && EventId.Show_Terms_Conditions__c==true,'none','block')}" class="span6 text_align_right next1">
                                    <apex:actionStatus id="Anonymous_Paymentpro_status" > 
                                   <apex:facet name="stop">
                                   <apex:commandButton status="Anonymous_Paymentpro_status" value="Process" onclick="if(!AnonymousFormValidation('{!xmlPaymentMethod.PaymentType}')){return false;}"  oncomplete="CallWebService_JS();"  reRender="Register_Completeprocess" action="{!goforpayment}" styleClass="btn btn-success greytext" id="Anonymous_Paymentbutton"/> 
                                 <!--   <apex:commandButton status="Anonymous_Paymentpro_status" value="Process"   oncomplete="CallWebService_JS();"  reRender="Register_Completeprocess" action="{!goforpayment}" styleClass="btn btn-success greytext" id="Anonymous_Paymentbutton"/> -->
                                 </apex:facet>
                                   <apex:facet name="start">
                                   <apex:image value="/img/loading32.gif" style="height: 15px;"/>
                                   <apex:commandbutton value="Processing..." status="Anonymous_Paymentpro_status" styleClass="btn btn-success greytext" disabled="true"/>
                                   </apex:facet>
                                 </apex:actionStatus>
                            </div>
                        </div>
                        </td>
                      </tr>
                    </table>            

   

     
      



</div>
</apex:outputpanel>
</div>
</apex:outputPanel>
</apex:outputpanel>  
                       
                     <!--Payment Form End Here   -->
                  
                 
                   
                   
               
                </div>
                <!-- item 2 -->
                 <!-- item 3 -->
                <div class="item3" id="Anony3">
                 
              <apex:outputpanel id="resulttransactionsucess">
                <apex:outputpanel rendered="{!displayauthorizationstatus}" >
              <!--  <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/frontend-html/js/main.js')}"></script> -->
                      <script>
                     
                  
                      $(document).ready( function () {
                      if({!displayauthorizationstatus==true}){
                               $('.countdown.simple').countdown().data('countdown').stop();
                               $('#Anony1').hide('slide',{direction: 'left'}, 500);
                             $('#Anony2').hide('slide',{direction: 'left'}, 500);
                             $('#Anony3').show('slide',{direction: 'right'}, 500);
                             }
                      /*  $('#Anonymous').carousel({
                        slide:'next',
                       interval: false,
                        
                    });reRender="reloadpage"  */
                         
                        });
                        
                      </script>
                     <apex:outputText value="{!ShowMessageDetails}" escape="false" /><br/><br/>
                 <center><apex:commandLink target="_parent" value="New Registration" action="{!refreshpage}"  styleClass="btn btn-success greytext" reRender="reloadpage"/>  </center>
               
                </apex:outputpanel>
                </apex:outputpanel>
                </div>
                
               
              </div>
              <!-- carousel-inner -->

</div>   

 
</apex:outputPanel>
</apex:outputPanel> 

  <apex:outputpanel id="reloadpage">
                 
<apex:outputPanel rendered="{!refreshcheck}">
<script>
$(document).ready( function () {

window.location.reload()
});
</script>
</apex:outputPanel>
</apex:outputpanel>   

<!-- Anonymous Registration Ends here -->  
    
    <div id="loading-indicator1" class="loading-indicator1 modal-backdrop " style="display:none;z-index: 900000 !important;">
    <div style="position: fixed;left:50%;top:50%;">
       <!-- <apex:image value="{!URLFOR($Resource.CnP_PaaS__LoaderImage)}"/> 
       <img src="http://click-pledge.v-empower.com/web/SALESFORCE/Events2.0/Graphics/frontend-html/img/ajax-loader.gif"></img>-->
       <apex:image value="{!URLFOR($Resource.CnP_PaaS_EVT__BootstrapFrontend,'BootstrapFrontend/frontend-html/img/ajax-loader.gif')}"/>
       
    </div></div>
    
<!--Registered Attendees starts here -->
    <apex:outputPanel id="Registeredinformation" rendered="{!if(annonymous==false,'true','false')}">        
       <apex:outputPanel id="Registeredinfo">
        
         <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/frontend-html/js/main.js')}"></script>
     
    
     
              <div class="fade in carousel slide" id="Register">        
            
              <div class="carousel-inner">
                <div class="active item1" id="Regist1">
                
                <div class="text_align_right padding_8">
                <apex:outputPanel rendered="{!if(AccountInfo.size >1,true,false)}">
                {!EventId.Organization__c} &nbsp;
                <apex:selectList value="{!SelectedAccount}" size="1" style="max-width:180px">
                <apex:actionStatus id="RegistredAccountinfo_status" onstart="showLoadingDiv();" onstop="submitprocess();" />
                <apex:actionsupport status="RegistredAccountinfo_status" event="onchange" action="{!ChangeAccountDetails}"      rerender="Registeredinformation,Register_PaymentSelection" />
                <apex:selectOptions value="{!AccountInfo}"></apex:selectOptions>
                </apex:selectList>
                </apex:outputPanel>  
                </div>
              <apex:outputpanel id="Register_levelinformation">              
                  <table class="table table-bordered table-hover"><tr><th class="text-center"><span>&nbsp;</span></th><th width="100%" class="align-left">Level Name</th><th class="align-right" style="display:{!if(EventId.Price__c=='Show' || EventId.Price__c==null,'table-cell','none')}">Price</th><th class="align-right" style="display:{!if(EventId.Additional_Fee__c=='Show' || EventId.Additional_Fee__c==null,'table-cell','none')}">Fee</th><th class="align-center" style="display:{!if(EventId.Registrations_Included__c=='Show' || EventId.Registrations_Included__c==null,'table-cell','none')}">Registrations Incl.</th><th class="align-center" style="display:{!if(EventId.Quantity__c=='Show' || EventId.Quantity__c==null,'table-cell','none')}">Qty.</th><th class="align-right" style="display:{!if(EventId.Total__c=='Show' || EventId.Total__c==null,'table-cell','none')}">Total</th><th class="align-center">Register</th></tr>
                    <apex:repeat value="{!ticketinfoshowlist}" var="field">                     
                    <tr class="togglerow" id="togglerow{!ticketinfoshow[field].infoid}" > <!-- style="background-color:{!if(ticketinfoshow[field].AvailableInventory != 0 ||ticketinfoshow[field].AvailableInventory ==null,'#fcf8e3','')}" -->
                      <td class="align-center"><a href="javascript:;" class="showlink" title="" id="showlink{!ticketinfoshow[field].infoid}" style="display:{!if(ticketinfoshow[field].AvailableInventory != 0 ||ticketinfoshow[field].AvailableInventory ==null,'block','none')}"><i class="icon icon-chevron-right"></i></a>
                      <a href="javascript:;" class="hidelink" title="" id="hidelink{!ticketinfoshow[field].infoid}"><i class="icon icon-chevron-down"></i></a></td>
                      <td class="align-left"><strong>{!ticketinfoshow[field].ReglevelInfo}</strong><br/>
                      
                        
                        <apex:outputPanel rendered="{!if(ticketinfoshow[field].ReglevelDesc!=null,true,false)}">
                        <div class="small_text read_more">
                        <a href="#RegisterLevel_description{!field}" role="button" title="{!ticketinfoshow[field].ReglevelInfo}"  data-original-title="{!ticketinfoshow[field].ReglevelInfo}" data-toggle="modal">Read More</a>
                        </div>
                        </apex:outputPanel>
                        <script>
                         $(document).ready( function () {
                          $('#RegisterLevel_description{!field}').draggable(
                              {
                               handle: ".modal-footer,.modal-header"
                              } 
                          );
                          });
                         </script>
                         
                         <div id="RegisterLevel_description{!field}"  class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                      
                        <div class="modal-header">
                            <button type="button" class="close modal_close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h3 id="myModalLabel">{!ticketinfoshow[field].ReglevelInfo}</h3>
                          </div>
                          <div class="modal-body">
                          <apex:outputText value="{!if(ticketinfoshow[field].ReglevelDesc !=null,ticketinfoshow[field].ReglevelDesc,'No Description')}" escape="false" />
                            
                            
                          </div>
                          <div class="modal-footer">
                            <button class="btn btn-success" data-dismiss="modal" aria-hidden="true">Cancel</button>
                           
                          </div>          
                          
                        </div>
                           
                      </td>
                      <td class="align-right" style="display:{!if(EventId.Price__c=='Show' || EventId.Price__c==null,'table-cell','none')}">
                      <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}" style="display:block;">
                      <apex:param value="{!ticketinfoshow[field].PriceInfo}" /></apex:outputText>
                      </td>
                      <td class="align-right" style="display:{!if(EventId.CnP_PaaS_EVT__Additional_Fee__c=='Show' || EventId.CnP_PaaS_EVT__Additional_Fee__c==null,'table-cell','none')}">
                       <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}"  style="display:block;">
                       <apex:param value="{!ticketinfoshow[field].FeeInfo}" /></apex:outputText>
                      </td>
                       <td class="align-center" style="display:{!if(EventId.CnP_PaaS_EVT__Registrations_Included__c=='Show' || EventId.CnP_PaaS_EVT__Registrations_Included__c==null,'table-cell','none')}">
                      <apex:outputText value="{!ticketinfoshow[field].TicketIncluded}"  style="text-align:center;display:block;">
                     </apex:outputText>                    
                                         
                      </td>
                      <td class="align-center" style="display:{!if(EventId.CnP_PaaS_EVT__Quantity__c=='Show' || EventId.CnP_PaaS_EVT__Quantity__c==null,'table-cell','none')}">
                      <apex:outputText value="{!ticketinfoshow[field].QuantityInfo}"  style="text-align:center;display:block;">
                      </apex:outputText>
                      <input type="hidden" value="{!ticketinfoshow[field].QuantityInfo}" class="regquntitytextenable" />                     
                      </td>
                      <td class="align-right" style="display:{!if(EventId.Total__c=='Show'|| EventId.Total__c==null,'table-cell','none')}">
                      <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}"  style="display:block;" styleClass="Totalprice{!ticketinfoshow[field].Reglevelid}">
                      <apex:param value="{!ticketinfoshow[field].TotalPriceinfo}" /></apex:outputText>
                      </td>
                      <td class="align-center white_space_nowrap">
                            <!-- <a href="#addModal" class="headecattendee" id="headecattendee{!ticketinfoshow[field].Reglevelid}" onclick="addAttendee('{!ticketinfoshow[field].Reglevelid}')" >
                            <i class="icon icon-plus-sign"></i></a> -->
                            <apex:actionStatus id="popupattendee_status" onstart="showLoadingDiv();" onstop="completeprocess();"/>
                            <apex:commandLink status="popupattendee_status" styleClass="btn btn-small"  action="{!attendeeformpopup}" reRender="attendeepopup,alertmessage,actionregionforattendee,actionregionforattendee1" style="display:{!if(ticketinfoshow[field].AvailableInventory != 0 ||ticketinfoshow[field].AvailableInventory ==null,'block','none')}" >
                            <i class="icon icon-plus-sign"></i> Add
                            <apex:param name="lid" value="{!ticketinfoshow[field].Reglevelid}"  assignTo="{!regid4attendeepopup}" />
                            <apex:param name="aid" value=""  assignTo="{!editattid}" />
                            </apex:commandLink> 
                            <!--<div style="cursor: pointer;" role="button" data-trigger="hover" data-placement="bottom" data-toggle="popover" data-content="Register">click</div> -->
                       
                      <a href="#aaa" disabled="disabled" style="display:{!if(ticketinfoshow[field].AvailableInventory ==null,'none',if(ticketinfoshow[field].AvailableInventory >0,'none','inline'))};"><i class="icon icon-ban-circle"></i></a>
                        
                      <apex:outputPanel rendered="{!if(ticketinfoshow[field].ReglevelSoldoutmsg!=null,true,false)}" style="display:inline;">
                      <strong class="">                  
                      <a href="#RegisterLevel_soldoutmsg{!field}" role="button" title="{!ticketinfoshow[field].ReglevelInfo}"  data-original-title="{!ticketinfoshow[field].ReglevelInfo}" data-toggle="modal" style="display:inline;">
                      <span class="small_text text-error" style="display:inline;">                                            
                          {!if(ticketinfoshow[field].AvailableInventory != 0 || ticketinfoshow[field].AvailableInventory==null,"",'Sold Out')}
                      </span>
                      </a>
                       </strong>
                      </apex:outputPanel>
                        
                         <apex:outputPanel rendered="{!if(ticketinfoshow[field].ReglevelSoldoutmsg==null,true,false)}">
                          <strong class="">
                           <span class="small_text text-error pull-right">                       
                              {!if(ticketinfoshow[field].AvailableInventory != 0 || ticketinfoshow[field].AvailableInventory==null,"",'Sold Out')}
                          </span>
                          </strong>
                         </apex:outputPanel>
                          <script>
                         $(document).ready( function () {
                          $('#RegisterLevel_soldoutmsg{!field}').draggable(
                              {
                               handle: ".modal-footer,.modal-header"
                              } 
                          );
                          });
                         </script>
                        <div id="RegisterLevel_soldoutmsg{!field}"  class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                      
                        <div class="modal-header">
                            <button type="button" class="close modal_close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h3 id="myModalLabel">{!ticketinfoshow[field].ReglevelInfo}</h3>
                          </div>
                          <div class="modal-body">
                          <apex:outputText value="{!ticketinfoshow[field].ReglevelSoldoutmsg}" escape="false" />
                            
                            
                          </div>
                          <div class="modal-footer">
                            <button class="btn btn-success" data-dismiss="modal" aria-hidden="true">Cancel</button>
                           
                          </div>          
                          
                        </div>   
                        
                      </td>
                      </tr>
                    <tr class="display_none" id="{!ticketinfoshow[field].infoid}level_list">
                      <td colspan="8" class="padding_5">
                      
                        <div class="row-fluid">
                        
                        <div class="small_text padding_5 text_align_right">
                       <!-- <apex:messages /> -->
                          <ul class="inlineUL">
                            <li>
                               
                                <apex:actionStatus id="addpopupattendee_status" onstart="showLoadingDiv();" onstop="completeprocess();"/>
                                <apex:commandLink status="addpopupattendee_status"  action="{!attendeeformpopup}" reRender="attendeepopup,alertmessage" >
                                 Add New Group/Attendees
                                <apex:param name="lid" value="{!ticketinfoshow[field].Reglevelid}"  assignTo="{!regid4attendeepopup}" />
                                <apex:param name="aid" value=""  assignTo="{!editattid}" />
                                </apex:commandLink> 
                            </li>
                            <li> | </li>
                            <li>Total Group/Attendees: <span class="badge">{!ticketinfoshow[field].QuantityInfo}</span></li>
                            </ul>
                          </div>
                         <apex:outputpanel id="Register_levelrow">
                               <apex:outputpanel rendered="{!if(Groupcheck[ticketinfoshow[field].Reglevelid]==false,if(attendeecheck[ticketinfoshow[field].Reglevelid]==false,true,false),false)}" >
                                   <div class="scroll_level_list" id="" >
                                    <div class="alert alert-info">
                                      No Group/Attendee yet.
                                      </div>
                                   </div>
                               </apex:outputpanel>
                           <!-- ************Single Form Attendee Starts here ************** -->
                           
                           
                          <apex:outputpanel id="editattendeeformrefreshsingle" rendered="{!if(attendeecheck[ticketinfoshow[field].Reglevelid]==true,true,false)}" >    
                          <div class="scroll_level_list" id="" >
                          <table class="table table-bordered table-hover small_text" id="ComponentTable">
                            <tr>
                              <th class="text-center">First Name</th>
                              <th class="text-center">Last Name</th>
                              <th class="text-center">Email</th>
                              <th width="40" class="text-center">Action</th>
                            </tr>

                             <apex:repeat value="{!TableContactAttendeecontactlist}" var="Tablelevelidsingle">
                          <apex:outputpanel rendered="{!if(Tablelevelidsingle==ticketinfoshow[field].Reglevelid,true,false)}" layout="none">
                           
                             <apex:repeat value="{!TableContactAttendeecontactlist[Tablelevelidsingle]}" var="Tablelevelandindexnosingle">
                             <apex:repeat value="{!TableContactAttendeecontactlist[Tablelevelidsingle][Tablelevelandindexnosingle]}" var="Tablelevelandindexnoformnosingle">
                             <tr>
                             <apex:repeat value="{!TableContactAttendeecontactlist[Tablelevelidsingle][Tablelevelandindexnosingle][Tablelevelandindexnoformnosingle]}" var="dispattfieldsingle">                     
                          
                           <td>
                           <apex:actionStatus id="displaypopupattendee_statussingle" onstart="showLoadingDiv();" onstop="displaycompleteprocess();"/>
                              <apex:commandLink title="Display Attendee"  status="displaypopupattendee_statussingle" action="{!attendeeformpopup}" reRender="displayattendeepopup" >
                              <strong>{!dispattfieldsingle.FirstName}</strong>
                              <apex:param name="lid" value="{!Tablelevelidsingle}"  assignTo="{!regid4attendeepopup}" />
                             <apex:param name="Tid" value="{!Tablelevelandindexnosingle}"  assignTo="{!editattid}" />
                             <apex:param name="aid" value="{!Tablelevelandindexnoformnosingle}"  assignTo="{!EditAttendeeindexno}" />
                             </apex:commandLink>
                              
                            
                         
                         </td>
                          <td>{!dispattfieldsingle.LastName}</td>
                          <td>{!dispattfieldsingle.Email}</td>
                           </apex:repeat>
                            <td>
                              <apex:actionStatus id="editpopupattendee_statussingle" onstart="showLoadingDiv();" onstop="completeprocess();"/>
                              <apex:commandLink title="Edit Attendee" styleClass="icon icon-edit" status="editpopupattendee_statussingle"   action="{!attendeeformpopup}" reRender="attendeepopup" >
                              <apex:param name="lid" value="{!Tablelevelidsingle}"  assignTo="{!regid4attendeepopup}" />
                             <apex:param name="tid" value="{!Tablelevelandindexnosingle}"  assignTo="{!editattid}" />
                             <apex:param name="aid" value=""  assignTo="{!EditAttendeeindexno}" />
                             </apex:commandLink>
                         
                            <apex:actionStatus id="removepopupattendee_statussingle" onstart="showLoadingDiv();" onstop="removecompleteprocess();"/>
                              <apex:commandLink title="Remove Attendee" styleClass="icon icon-trash"   status="removepopupattendee_statussingle" action="{!removeattendeeformpopup}" reRender="removeattendeepopup" >
                              <apex:param name="rlid" value="{!Tablelevelidsingle}"  assignTo="{!regid4attendeepopup}" />
                             <apex:param name="rtid" value="{!Tablelevelandindexnosingle}"  assignTo="{!editattid}" />
                              <apex:param name="raid" value=""  assignTo="{!EditAttendeeindexno}" />
                             </apex:commandLink>
                            
                            </td>
                           </tr>
                            </apex:repeat>
                            </apex:repeat>
                          
                            </apex:outputpanel>
                             
                            </apex:repeat>                          
                            
                            
                           
                       
                           
                            </table>
                          </div>           
                          </apex:outputpanel> 
                          
                       <!-- ************Single Form Attendee End ************** -->
                       
                         <apex:outputpanel id="editattendeeformrefresh" rendered="{!if(Groupcheck[ticketinfoshow[field].Reglevelid]==true,true,false)}" >    
                          <div class="scroll_level_list" id="" >
                          <apex:repeat value="{!TableContactAttendeecontactlist}" var="Tablelevelid">
                          <apex:outputpanel rendered="{!if(Tablelevelid==ticketinfoshow[field].Reglevelid,true,false)}" layout="none">
                           <div class="container-fluid">  
                                    <div class="accordion" id="accordion{!Tablelevelid}"> 
                          <apex:repeat value="{!TableContactAttendeecontactlist[Tablelevelid]}" var="Tablelevelandindexno">  
                              
                                         <div class="accordion-group">  
                                              <div class="accordion-heading">  
                                                       <div>
                                                        <span style="float:left">
                                                        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion{!Tablelevelid}" href="#collapse{!Tablelevelid}{!Tablelevelandindexno}">  
                                                       
                                                            Click for Attendees in Group:{!Tablelevelandindexno}                                                              
                                                       
                                                        </a>
                                                        </span>  
                                                         <span style="float:right;padding:7px 13px;">                                                    
                                                           <apex:actionStatus id="editpopupattendee_status" onstart="showLoadingDiv();" onstop="completeprocess();"/>
                                                          <apex:commandLink title="Edit Attendee" styleClass="icon icon-edit" status="editpopupattendee_status"   action="{!attendeeformpopup}" reRender="attendeepopup" >
                                                              <apex:param name="lid" value="{!Tablelevelid}"  assignTo="{!regid4attendeepopup}" />
                                                             <apex:param name="tid" value="{!Tablelevelandindexno}"  assignTo="{!editattid}" />
                                                             <apex:param name="aid" value=""  assignTo="{!EditAttendeeindexno}" />
                                                         </apex:commandLink>
                                                     
                                                        <apex:actionStatus id="removepopupattendee_status" onstart="showLoadingDiv();" onstop="removecompleteprocess();"/>
                                                          <apex:commandLink title="Remove Attendee" styleClass="icon icon-trash"   status="removepopupattendee_status" action="{!removeattendeeformpopup}" reRender="removeattendeepopup" >
                                                              <apex:param name="rlid" value="{!Tablelevelid}"  assignTo="{!regid4attendeepopup}" />
                                                             <apex:param name="rtid" value="{!Tablelevelandindexno}"  assignTo="{!editattid}" />
                                                             <apex:param name="raid" value=""  assignTo="{!EditAttendeeindexno}" />
                                                         </apex:commandLink>
                                                         </span>
                                                         <div class="clearboth"></div> 
                                                        </div>
                                                        
                                               </div>  
                                               <div id="collapse{!Tablelevelid}{!Tablelevelandindexno}" class="accordion-body collapse" style="height: 0px;">  
                                                   <div class="accordion-inner">  
                                                        <table class="table table-bordered table-hover small_text" id="ComponentTable">
                                                        <tr>
                                                          <th class="text-center">First Name</th>
                                                          <th class="text-center">Last Name</th>
                                                          <th class="text-center">Email</th>
                                                          
                                                        </tr>
                            
                                                       
                                                       
                                                         <apex:repeat value="{!TableContactAttendeecontactlist[Tablelevelid][Tablelevelandindexno]}" var="Tablelevelandindexnoformno"> 
                                                         <tr>
                                                         <apex:repeat value="{!TableContactAttendeecontactlist[Tablelevelid][Tablelevelandindexno][Tablelevelandindexnoformno]}" var="dispattfield">                     
                                                      
                                                       <td>
                                                       <apex:actionStatus id="displaypopupattendee_status" onstart="showLoadingDiv();" onstop="displaycompleteprocess();"/>
                                                          <apex:commandLink title="Display Attendee"  status="displaypopupattendee_status" action="{!attendeeformpopup}" reRender="displayattendeepopup" >
                                                          <strong>{!dispattfield.FirstName}</strong>
                                                          <apex:param name="lid" value="{!Tablelevelid}"  assignTo="{!regid4attendeepopup}" />
                                                         <apex:param name="Tid" value="{!Tablelevelandindexno}"  assignTo="{!editattid}" />
                                                         <apex:param name="aid" value="{!Tablelevelandindexnoformno}"  assignTo="{!EditAttendeeindexno}" />
                                                         </apex:commandLink>
                                                          
                                                        
                                                     <!--  <a href="#displayModal1" role="button" title="Display Attendee" data-original-title="Display Attendee" data-toggle="modal"><strong>{!dispattfield.FieldValue}</strong></a> -->
                                                     </td>
                                                      <td>{!dispattfield.LastName}</td>
                                                      <td>{!dispattfield.Email}</td>
                                                       </apex:repeat>
                                                       
                                                       </tr>
                                                        </apex:repeat>
                                                       
                                                      
                                                                              
                                                        
                                                        
                                                       
                                                   
                                                       
                                                        </table>
                                                </div>  
                                                </div>  
                                          </div>  
                                                   
                                                    
                                 
                              </apex:repeat>
                               </div>  
                               </div>
                             </apex:outputPanel>
                            </apex:repeat>  

                       
                          </div>           
                          </apex:outputpanel> 
                        
                          </apex:outputpanel>
                          
                          
                          
                          
                          
                    
                          
                       </div>
                      
                        </td>
                      </tr>
                      
                      
                     </apex:repeat>

                  </table>
                  </apex:outputpanel>
                  
                  <apex:outputPanel id="Register_Totalsummary">
                  <script>   
         $(document).ready( function () {
         var registerdonationamount = $(".Register_MaxAmount").val();
        
          var regquantitytotal =0;
          $('.regquntitytextenable').each(function() {
                var $this = $(this);
               
                if($this.val() !=0 || $this.val() !=''){
                 regquantitytotal = parseInt(regquantitytotal ) + parseInt($this.val());
                }
              
            });
       
           if(parseInt(regquantitytotal ) ==0 && ( registerdonationamount =='' || registerdonationamount <=0)){
          
         
            //$('.Register_Confirmbutton').attr('disabled','true');
            $('.Register_Confirmbutton').hide();
            $('.Register_Confirmbuttondummy').show();
           
           }else{
           
               $('.Register_Confirmbutton').show();
            $('.Register_Confirmbuttondummy').hide();
           }     
         });
 </script>
                  <table class="table table-bordered table-hover">
                   <tr style="display:{!if(DGrossAmount>0,'table-row;vertical-align: inherit;','none')}">
                      <td width="100%">&nbsp;</td>
                      <td class="align-right" style="white-space:nowrap">Gross Total</td>
                      <td class="align-right"><strong>
                     <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                     <apex:param value="{!DGrossAmount}" />
                     </apex:outputText> 
                      </strong></td>
                    </tr>
                    
                   
                    <tr style="display:{!if(DTotalTax>0,'table-row;vertical-align: inherit;','none')}">
                 
                      <td>&nbsp;</td>
                      <td class="align-right"> Tax</td>
                      <td class="align-right"> <strong> 
                      <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                     <apex:param value="{!DTotalTax}" />
                     </apex:outputText>
                      </strong></td>
                       
                      </tr>
                      <tr style="display:{!if(DTotalDiscount>0 ||CouponsListMethod.size >0,'table-row;vertical-align: inherit;','none')}">
                      <td>
                      <div style="padding-top:5px;"></div>
                      <apex:actionRegion >
                      <div> 
                      <apex:outputpanel rendered="{!if(CouponsListMethod.size >0,true,false)}">
                        <apex:dataTable columns="2" value="{!CouponsListMethod}" var="var" style="width:100%;" styleClass="subtable coupontable">
                         <apex:column ><apex:outputLabel value="{!var.CouponName}" /> </apex:column>
                         <apex:column style="white-space:nowrap"><apex:inputtext value="{!var.Couponval}" style="color: #888888; width: 60px;font-size: 11px;" />
                         <div style="clear:both;"></div>
                         <apex:outputtext value="{!var.CouponError}" styleclass="{!If(var.CouponError=='Coupon code applied','Valid','Invalid')}"/>
                         <apex:inputhidden value="{!var.Levelid}" />
                         </apex:column>
                        </apex:dataTable>
                        </apex:outputpanel>
                      </div>
                      
                     <div>
                        
                         <apex:outputpanel >
                         
                             <apex:actionStatus id="mySaveStatus1">
                                 <apex:facet name="stop">
                                 <apex:commandLink value="Apply Coupon"  styleClass="btn btn-mini btn-primary" reRender="Register_levelinformation,Register_Totalsummary" action="{!calculateamounts}" status="mySaveStatus1" rendered="{!IF(CouponsListMethod.Size>0,true,false)}"/>
                                 </apex:facet>
                                 <apex:facet name="start">
                                     <apex:outputPanel >
                                     <apex:commandlink value="Processing..." styleClass="btn btn-mini btn-primary" status="mySaveStatus1"/>
                                     <apex:image value="/img/loading32.gif"   style="height: 15px;float:right;clear:both;margin-right:50px;margin-top:5px;"/>
                                     </apex:outputPanel>
                                 </apex:facet>

                             </apex:actionStatus>
                             
                         </apex:outputpanel>
                        
                      </div>
                      </apex:actionRegion>
                      </td>
                        
                      <td class="align-right">Discount</td>
                      <td class="align-right"><strong>
                         <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                         <apex:param value="{!DTotalDiscount}" />
                         </apex:outputText> 
                          </strong>
                      </td>
                    </tr>  
                      
                        
                     
                     <tr style="display:{!if(eventid.Additional_Donation__c==true,'table-row;vertical-align: inherit;','none')}">
                      <td colspan="2" class="align-right" width="100%">
                          <apex:outputLabel value="{!Eventid.CnP_PaaS_EVT__Label_for_additional_donation__c}" style="font-weight: bold;"></apex:outputLabel>
                      </td>
                      <td class="align-right" style="white-space:nowrap">
                          <apex:outputpanel >
                           <strong>{!currencycode}&nbsp;</strong>
                           <apex:actionRegion >
                           <apex:actionStatus id="Register_donactionchange_status" onstart="showLoadingDiv();" onstop="submitprocess();"/>
                           <apex:inputtext html-placeholder="0.00" value="{!AdditionalDonation }" maxlength="11" styleClass="Register_MaxAmount" onkeyup="javascript:this.value=this.value.replace(/[^0-9.]/g, '')" style="width:50px;">  <!--/[^0-9.]/g -->
                         
                                <apex:actionsupport status="Register_donactionchange_status" event="onblur" rerender="Register_levelinformation,Register_Totalsummary" action="{!AddingDonation}" ></apex:actionsupport> 
                           </apex:inputtext> 
                                </apex:actionRegion>
                           </apex:outputpanel>
                      
                      </td>
                      </tr>                 
                         
                           
                         
                    <tr>
                      <td colspan="3"><div class="row-fluid">
                        <!-- <div class="span6" style="padding-top:15px;"> </div> -->
                        <div class="span12 text_align_right" style="padding-top:10px;"> <strong>Net Total :</strong> <strong class="nettotal greentext">
                       <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                     <apex:param value="{!DTotalAmount}" />
                     </apex:outputText> 
                        </strong> </div>
                        </div></td>
                    </tr>
                      <tr style="display:{!if(TotalTaxDeductible>0,'table-row;vertical-align: inherit;','none')}">
                 
                     <td colspan="3"><div class="row-fluid">
                        <!-- <div class="span6" style="padding-top:15px;"> </div> -->
                        <div class="span12 text_align_right" style="padding-top:10px;"> <strong>Total Tax Deductible :</strong>
                         <strong class="nettotal ">
                     
                      <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                     <apex:param value="{!TotalTaxDeductible}" />
                     </apex:outputText>
                     
                      
                     </strong> </div>
                        </div></td>
                       
                      </tr>
                    <tr>
                      <td colspan="3" align="right">
                        <div class="row-fluid">
                          <!--<div class="span4 text_align_left"><a href="#Anonymous" class="btn" data-slide="prev"><i class="icon icon-chevron-left"></i></a></div>-->
                          <!--<div class="span6 text_align_center"> </div>-->
                          <!--<div class="span4"><a href="#Register" class="btn btn-success greytext" onclick="confirmvalidation1()" ><strong>Confirmation Details</strong> <i class="icon icon-chevron-right"></i></a></div>      -->                
                    
                       <div class="span12 text_align_right">
                       <input type="button" Value="Continue" class="btn btn-success greytext Register_Confirmbuttondummy" />
                       <apex:actionStatus id="RegisterConfirm_status" onstart="showLoadingDiv();" onstop="confirmvalidation1()"> 
                           <apex:facet name="stop">
                            <apex:commandButton status="RegisterConfirm_status" action="{!ticketinfopage}"   onclick="if(!MaxAmountValidation()){return false;}"  value="Continue"  reRender="attendeepopup,Register_orderdetails,Register_paymentblock,Register_PaymentSelection,Register_FinalTotalSummary,Register_PaymentMethod"  styleClass="btn btn-success greytext Register_Confirmbutton" id="Register_Confirmbutton">
                        
                             </apex:commandButton>
                           </apex:facet>
                           <apex:facet name="start">
                               <apex:image value="/img/loading32.gif" style="height: 15px;"/>
                               <apex:commandbutton value="Processing..." status="RegisterConfirm_status" disabled="true" styleClass="btn btn-success greytext" />
                           </apex:facet>
                       </apex:actionStatus>
                         </div>
                       
                       
                        </div>
                        </td>
                      </tr>
                    </table>
                  
                    </apex:outputPanel>
                </div>
                <!-- item 1-->
                
                <div class="item2" id="Regist2">
                              
              <apex:outputpanel id="Register_orderdetails">
                <script type="text/javascript">
               $(document).ready( function () {
                // $("#diveVTPage #topinfo table").removeAttr("class");
                $("#diveVTPage #topinfo table").addClass("table table-bordered table-hover");
                
                                
               });
               </script>
                 <apex:outputpanel rendered="{!if(testsampleforsize.size >0 && Registrantpage==true,true,false)}" >  
                  <table class="table table-bordered table-hover">
                    <tr>
                      <th class="text-center">&nbsp;</th>
                      <th width="100%" class="align-left">Level Name</th>
                      <th class="align-right" style="display:{!if(EventId.Price__c=='Show' ||EventId.Price__c==null,'table-cell','none')}">Price</th>
                      <th class="align-right" style="display:{!if(EventId.Additional_Fee__c=='Show' || EventId.Additional_Fee__c==null,'table-cell','none')}">Fee</th>
                      <th class="align-center" style="display:{!if(EventId.Registrations_Included__c=='Show'||EventId.Registrations_Included__c==null,'table-cell','none')}">Registrations Incl.</th>
                      <th class="align-center" style="display:{!if(EventId.Quantity__c=='Show'|| EventId.Quantity__c==null,'table-cell','none')}">Qty.</th>
                      <th class="align-right" style="display:{!if(EventId.Total__c=='Show'||EventId.Total__c==null,'table-cell','none')}">Total</th>
                    
                      
                      </tr>
                     <apex:repeat value="{!existingMapkeylist}" var="levelinfowithatt">
                    <tr class="togglerow" id="togglerowshow{!existingMap[levelinfowithatt].infoid}" >
                      <td><a href="javascript:;" class="showlink float_left" title="" id="hidelinkshow{!existingMap[levelinfowithatt].infoid}"><i class="icon icon-chevron-right"></i></a>
                      <a href="javascript:;" class="hidelink float_left" title="" id="showlinkshow{!existingMap[levelinfowithatt].infoid}"><i class="icon icon-chevron-down"></i></a></td>
                      <td><strong>{!existingMap[levelinfowithatt].ReglevelInfo}</strong><br/>
                         <strong><span class="small_text text-error pull-right">{!if(existingMap[levelinfowithatt].AvailableInventory != 0 || existingMap[levelinfowithatt]==null,"",'Sold Out')} </span></strong>                       
                        
                         <apex:outputPanel rendered="{!if(existingMap[levelinfowithatt].ReglevelDesc!=null,true,false)}">
                        <div class="small_text read_more">
                        <a href="#RegisterLevel_description1{!levelinfowithatt}" role="button" title="{!existingMap[levelinfowithatt].ReglevelInfo}"  data-original-title="{!existingMap[levelinfowithatt].ReglevelInfo}" data-toggle="modal">Read More</a>
                        </div>
                        </apex:outputPanel>
                         <script>
                         $(document).ready( function () {
                          $('#RegisterLevel_description1{!levelinfowithatt}').draggable(
                              {
                               handle: ".modal-footer,.modal-header"
                              } 
                          );
                          });
                         </script>
                         <div id="RegisterLevel_description1{!levelinfowithatt}"  class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                      
                        <div class="modal-header">
                            <button type="button" class="close modal_close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h3 id="myModalLabel">{!existingMap[levelinfowithatt].ReglevelInfo}</h3>
                          </div>
                          <div class="modal-body">
                          <apex:outputText value="{!if(existingMap[levelinfowithatt].ReglevelDesc !=null,existingMap[levelinfowithatt].ReglevelDesc,'No Description')}" escape="false" />
                            
                            
                          </div>
                          <div class="modal-footer">
                            <button class="btn btn-success" data-dismiss="modal" aria-hidden="true">Cancel</button>
                           
                          </div>          
                          
                        </div>  
                        
                        
                        
                        
                        </td>
                      <td align="right" style="display:{!if(EventId.Price__c=='Show'||EventId.Price__c==null,'table-cell','none')}">
                      <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}" style="text-align:right;display:block;">
                      <apex:param value="{!existingMap[levelinfowithatt].PriceInfo}" /></apex:outputText>
                      </td>
                      <td align="right" style="display:{!if(EventId.CnP_PaaS_EVT__Additional_Fee__c=='Show' ||EventId.CnP_PaaS_EVT__Additional_Fee__c==null,'table-cell','none')}">
                      <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}" style="text-align:right;display:block;">
                      <apex:param value="{!existingMap[levelinfowithatt].FeeInfo}" /></apex:outputText>
                      </td>
                      <td class="align-center" style="display:{!if(EventId.CnP_PaaS_EVT__Registrations_Included__c=='Show'||EventId.CnP_PaaS_EVT__Registrations_Included__c==null,'table-cell','none')}">
                      <apex:outputText value="{!existingMap[levelinfowithatt].TicketIncluded}"  style="text-align:center;display:block;">
                     </apex:outputText>                    
                                         
                      </td>

                      <td align="center" style="display:{!if(EventId.CnP_PaaS_EVT__Quantity__c=='Show'||EventId.CnP_PaaS_EVT__Quantity__c==null,'table-cell','none')}">
                       <apex:outputText value="{!existingMap[levelinfowithatt].QuantityInfo}"  style="text-align:center;display:block;">
                       </apex:outputText> 
                      </td>
                      <td align="right" style="display:{!if(EventId.CnP_PaaS_EVT__Total__c=='Show'||EventId.CnP_PaaS_EVT__Total__c==null,'table-cell','none')}">
                      <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}"  style="text-align:right;display:block;" styleClass="Totalprice{!existingMap[levelinfowithatt].Reglevelid}">
                      <apex:param value="{!existingMap[levelinfowithatt].TotalPriceinfo}" /></apex:outputText>
                      </td>
                     
                      </tr>
                      <tr class="display_none" id="show{!existingMap[levelinfowithatt].infoid}level_list">
                      <td colspan="7" class="padding_5">
                        
                        <div class="small_text padding_5 text_align_right">
                          <ul class="inlineUL">
                            <li>Total Group/Attendees: <span class="badge">{!existingMap[levelinfowithatt].QuantityInfo}</span></li>
                            
                            
                            </ul>
                          </div>
                            <!-- ************Single Form Attendee Starts here ************** -->
                           
                           
                          <apex:outputpanel id="editattendeeformrefreshsingle1" rendered="{!if(attendeecheck[existingMap[levelinfowithatt].Reglevelid]==true,true,false)}" >    
                          <div class="scroll_level_list" id="" >
                          <table class="table table-bordered table-hover small_text" id="ComponentTable">
                            <tr>

                              <th class="text-center">First Name</th>
                              <th class="text-center">Last Name</th>
                              <th class="text-center">Email</th>
                             
                            </tr>

                             <apex:repeat value="{!TableContactAttendeecontactlist}" var="Tablelevelidsingle1">
                          <apex:outputpanel rendered="{!if(Tablelevelidsingle1==existingMap[levelinfowithatt].Reglevelid,true,false)}" layout="none">
                           
                             <apex:repeat value="{!TableContactAttendeecontactlist[Tablelevelidsingle1]}" var="Tablelevelandindexnosingle1">
                             <apex:repeat value="{!TableContactAttendeecontactlist[Tablelevelidsingle1][Tablelevelandindexnosingle1]}" var="Tablelevelandindexnoformnosingle1">
                             <tr>
                             <apex:repeat value="{!TableContactAttendeecontactlist[Tablelevelidsingle1][Tablelevelandindexnosingle1][Tablelevelandindexnoformnosingle1]}" var="dispattfieldsingle1">                     
                          
                           <td>
                           <apex:actionRegion >
                           <apex:actionStatus id="displaypopupattendee_statussingle1" onstart="showLoadingDiv();" onstop="displaycompleteprocess();"/>
                              <apex:commandLink status="displaypopupattendee_statussingle1" action="{!attendeeformpopup}" reRender="displayattendeepopup" >
                              <strong>{!dispattfieldsingle1.FirstName}</strong>
                              <apex:param name="lid" value="{!Tablelevelidsingle1}"  assignTo="{!regid4attendeepopup}" />
                             <apex:param name="Tid" value="{!Tablelevelandindexnosingle1}"  assignTo="{!editattid}" />
                             <apex:param name="aid" value="{!Tablelevelandindexnoformnosingle1}"  assignTo="{!EditAttendeeindexno}" />
                             </apex:commandLink>
                             </apex:actionRegion> 
                            
                         
                         </td>
                          <td>{!dispattfieldsingle1.LastName}</td>
                          <td>{!dispattfieldsingle1.Email}</td>
                           </apex:repeat>
                           
                           </tr>
                            </apex:repeat>
                            </apex:repeat>
                          
                            </apex:outputpanel>
                             
                            </apex:repeat>                          
                            
                            
                           
                       
                           
                            </table>
                          </div>           
                          </apex:outputpanel> 
                          
                       <!-- ************Single Form Attendee End ************** -->
                       
                       <!-- Multiple Form Attendee Starts here ***********   -->
                       
                         <apex:outputpanel id="editattendeeformrefresh1" rendered="{!if(Groupcheck[existingMap[levelinfowithatt].Reglevelid]==true,true,false)}" >    
                          <div class="scroll_level_list" id="" >
                          <apex:repeat value="{!TableContactAttendeecontactlist}" var="Tablelevelid1">
                          <apex:outputpanel rendered="{!if(Tablelevelid1==existingMap[levelinfowithatt].Reglevelid,true,false)}" layout="none">
                           <div class="container-fluid">  
                                    <div class="accordion" id="accordiondisplay{!Tablelevelid1}"> 
                          <apex:repeat value="{!TableContactAttendeecontactlist[Tablelevelid1]}" var="Tablelevelandindexno1">  
                              
                                         <div class="accordion-group">  
                                              <div class="accordion-heading">  
                                                        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordiondisplay{!Tablelevelid1}" href="#collapsedisplay{!Tablelevelid1}{!Tablelevelandindexno1}">  
                                                      
                                                            Click for Attendees in Group:{!Tablelevelandindexno1} 
                                                            
                                                       
                                                        </a>  
                                               </div>  
                                               <div id="collapsedisplay{!Tablelevelid1}{!Tablelevelandindexno1}" class="accordion-body collapse" style="height: 0px; ">  
                                                   <div class="accordion-inner">  
                                                        <table class="table table-bordered table-hover small_text" id="ComponentTable">
                                                        <tr>
                                                          <th class="text-center">First Name</th>
                                                          <th class="text-center">Last Name</th>
                                                          <th class="text-center">Email</th>
                                                          
                                                        </tr>
                            
                                                       
                                                       
                                                         <apex:repeat value="{!TableContactAttendeecontactlist[Tablelevelid1][Tablelevelandindexno1]}" var="Tablelevelandindexnoformno1"> 
                                                         <tr>
                                                         <apex:repeat value="{!TableContactAttendeecontactlist[Tablelevelid1][Tablelevelandindexno1][Tablelevelandindexnoformno1]}" var="dispattfield1">                     
                                                      
                                                       <td>
                                                       <apex:actionRegion >
                                                       <apex:actionStatus id="displaypopupattendee_status1" onstart="showLoadingDiv();" onstop="displaycompleteprocess();"/>
                                                          <apex:commandLink status="displaypopupattendee_status1" action="{!attendeeformpopup}" reRender="displayattendeepopup" >
                                                          <strong>{!dispattfield1.FirstName}</strong>
                                                          <apex:param name="dlid" value="{!Tablelevelid1}"  assignTo="{!regid4attendeepopup}" />
                                                         <apex:param name="dTid" value="{!Tablelevelandindexno1}"  assignTo="{!editattid}" />
                                                         <apex:param name="daid" value="{!Tablelevelandindexnoformno1}"  assignTo="{!EditAttendeeindexno}" />
                                                         </apex:commandLink>             
                                                          </apex:actionRegion>
                                                        
                                                     
                                                     </td>
                                                      <td>{!dispattfield1.LastName}</td>
                                                      <td>{!dispattfield1.Email}</td>
                                                       </apex:repeat>
                                                       
                                                       </tr>
                                                        </apex:repeat>
                                                       
                                                      
                                                                              
                                                        
                                                        
                                                       
                                                   
                                                       
                                                        </table>
                                                </div>  
                                                </div>  
                                          </div>  
                                                   
                                                    
                                 
                              </apex:repeat>
                               </div>  
                               </div>
                             </apex:outputPanel>
                            </apex:repeat>  

                       
                          </div>           
                          </apex:outputpanel> 
                       
                       <!--**** Multiple Form Attendee Ends here  *****   -->
                       
                       
                        </td>
                      </tr>
                      </apex:repeat>
                   
                 
                  </table>
                  </apex:outputpanel>
                  </apex:outputpanel>    
                              
<!--Payment Form Start Here  -->     
                  
    <apex:outputpanel id="Register_paymentblock">
    <apex:outputPanel rendered="{!Registrantpage}" > 
          
    <div id="diveVTPage" >
    <div id="topinfo">
    <div id="divInformationArea"> 
                     
       <apex:outputpanel id="Register_PayeeInformation" styleClass="PaymentMethod"> 
                   <apex:outputpanel id="Register_ContactFields" >
                  <script type="text/javascript">
               $(document).ready( function () {
                // $("#diveVTPage #topinfo table").removeAttr("class");
                $("#diveVTPage #topinfo table").addClass("table table-bordered table-hover");
                
                                
               });
               </script>  
                    <script type="text/javascript">
                     $('#Register').carousel({ interval: false }); 
             $(document).ready( function () {
                          
            $( ".Birthdate" ).datepicker({
                     dateFormat:"{!date_format}",
                     defaultDate: "+1w",
                     
                     changeMonth: true,
                     changeYear: true,
                    yearRange: '1920:c+0',
                    maxDate:-0,
                    numberOfMonths: 1,
                    buttonImageOnly:true,
                    buttonText:'',
                   buttonImage: '{!URLFOR($Resource.CnP_PaaS_EVT__datepicker, "datepicker/calendar.gif")}',
                    showOn: "both",
           });
          $( ".DATE" ).datepicker({
                        dateFormat:"{!date_format}",
                     defaultDate: "+1w",
                     
                     changeMonth: true,
                     changeYear: true,
                    yearRange: 'c-20:c+20',
                   
                    numberOfMonths: 1,
                    buttonImageOnly:true,
                    buttonText:'',
                   buttonImage: '{!URLFOR($Resource.CnP_PaaS_EVT__datepicker, "datepicker/calendar.gif")}',
                    showOn: "both",
           });
                    
                   
           $('.DATETIME').datetimepicker({
                   format:"{!datetime_format}",
                    language: 'en',
                    pick12HourFormat: true,     
                   // format: 'mm/dd/yyyy H:ii P',
                    pickerPosition: "bottom-left",              
                    todayBtn:  1,              
                    autoclose: 1,                    
                    timeFormat: 'hh:mm tt',         
                  
                   showMeridian: 1,
                  
                });
            $(".DATE").removeAttr('onfocus'); 
            $(".DATETIME").removeAttr('onfocus');
            $(".Birthdate").removeAttr('onfocus');
          //   $(".DATE").attr('readonly', true);
         //   $(".DATETIME").attr('readonly', true);
            
            $(".DATETIME").after( "<img class='DATETIME' src='{!URLFOR($Resource.CnP_PaaS_EVT__datepicker, 'datepicker/calendar.gif')}' />" );
          //  $(".Birthdate").attr('readonly', true);    
         
          });
                  
                 </script>
                 <apex:outputPanel styleClass="cp_billing">     
                <apex:pageBlockSection columns="1" collapsible="false" showHeader="true"> 
                 <apex:facet name="header" >
                 <apex:outputPanel id="Register_contact_header" >
                 <div class="well well-small" style="margin-bottom:-3px;">
                 <h3> {!IF(DTotalAmount==0,'Additional Information','Billing Information')}</h3>
                 </div>
                 </apex:outputPanel>
                </apex:facet> 
                 <apex:pageBlockSectionItem rendered="{!if(registrationtype =='manual',true,false)}">
                           
                        <apex:outputLabel style="text-align:center; padding:0px;margin-bottom:initial;" value="Search by first name, last name, or email" ></apex:outputLabel>
                                   
                       </apex:pageBlockSectionItem>
                         <apex:pageblockSectionItem rendered="{!if(registrationtype =='manual',true,false)}">
                              <apex:outputPanel style="text-align:center;display:block;">
                               <apex:outputLabel style="line-height:initial;display:inline-block;padding:initial;padding-right:4px;" value="Existing Patron" ></apex:outputLabel>                      
                                 
                              <apex:inputText size="50" id="account" styleClass="contactfiled" style="width:200px;float:none;">                 
                                     
                               <c:autocomplete objectname="Contact" additionalfield="Email" autocomplete_textbox="{!$Component.account}" autocomplete_hidden="contactid" /> 
                              </apex:inputText> 
                                <input type="hidden" value="{!contactid}" id="contactid" />
                                  <input type="button"  onclick="loadcontactfunctionreg()" style="visibility:hidden;" Class="loadclass btn btn-warning" value="Load" />  
                                 
                                  <script>
                                     function loadcontactfunctionreg(){
                                     var cont= $('#contactid').val();                                    
                                     loadcontactfunctionreg1(cont);                                     
                                     }
                                     </script>
                                  
                               </apex:outputPanel> 
                              </apex:pageblockSectionItem>
                              </apex:pageBlockSection>
                              </apex:outputPanel>
           <apex:pageBlockSection columns="1"  id="Register_ContactInfo"  collapsible="false"  >
 
                <!-- <apex:facet name="header">
                 <apex:outputPanel id="Register_contact_header" >
                 <div class="well well-small" style="margin-bottom:-3px;">
                 <h3> {!IF(DTotalAmount==0,'Additional Information','Billing Information')}</h3>
                 </div>
                 </apex:outputPanel> 
                </apex:facet> -->
               
                 <apex:repeat value="{!availableContactFields}" var="Regfield"> 
                               
                      <apex:pageBlockSectionItem rendered="{!IF(Regfield.visable1==true && Regfield.Field1!='MailingCountry' && Regfield.Field1!='MailingState'&& Regfield.Field1!='FirstName'&& Regfield.Field1!='LastName'&& Regfield.Field1!='Email',true,false)}">                                
                                                               
                                 <apex:outputPanel styleClass="control-group">
                                 <label>
                                 <apex:outputText value="{!Regfield.Label1}"> </apex:outputText>
                                 <apex:outputtext value="*" rendered="{!IF(Regfield.req1==true,true,false)}" styleclass="{!IF(Regfield.req1==true,'req','')}"></apex:outputText>
                                 </label>
                                 </apex:outputPanel>
                                  <apex:outputPanel styleClass="control-group">
                                  <div class="controls">
                                 <apex:inputField value="{!acc1[Regfield.Field1]}"   onblur="trimvalue(this.value,'{!IF(Regfield.req1==true ,Regfield.Field1,Regfield.Field1)}');" styleClass="{!IF(Regfield.req1==true ,IF($ObjectType.Contact.fields[Regfield.Field1].Custom==false,Regfield.Field1&' any_required',Regfield.FieldType1&' any_required'),if($ObjectType.Contact.fields[Regfield.Field1].Custom==false,Regfield.Field1,Regfield.Fieldtype1))}" >  
                                 
                                  </apex:inputField>
                                  </div>
                                  </apex:outputPanel>
                                
                           </apex:pageBlockSectionItem>
                           <apex:pageBlockSectionItem rendered="{!IF(Regfield.visable1==true && Regfield.Field1=='FirstName',true,false)}">                                
                                                               
                                 <apex:outputPanel styleClass="control-group">
                                 <label><apex:outputText value="{!Regfield.Label1}"> </apex:outputText>
                                 <apex:outputtext value="*" rendered="{!IF(Regfield.req1==true,true,false)}" styleclass="{!IF(Regfield.req1==true,'req','')}"></apex:outputText>
                                 </label>
                                 </apex:outputPanel>
                                  <apex:outputpanel styleClass="control-group">
                                  <div class="controls">
                                 <apex:inputText value="{!acc1[Regfield.Field1]}" disabled="{!disablefields}"  onblur="trimvalue(this.value,'{!IF(Regfield.req1==true ,Regfield.Field1,Regfield.Field1)}');" styleClass="{!IF(Regfield.req1==true ,IF($ObjectType.Contact.fields[Regfield.Field1].Custom==false,Regfield.Field1&' any_required',Regfield.FieldType1&' any_required'),if($ObjectType.Contact.fields[Regfield.Field1].Custom==false,Regfield.Field1,Regfield.Fieldtype1))}" />  
                                 <input type="hidden" value="{!acc1['id']}"  id="contactidAnyReg" /> 
                                 </div>
                                 </apex:outputpanel>
                                
                           </apex:pageBlockSectionItem>
                           <apex:pageBlockSectionItem rendered="{!IF(Regfield.visable1==true && Regfield.Field1=='LastName',true,false)}">                                
                                                               
                                 <apex:outputPanel styleClass="control-group">
                                 <label><apex:outputText value="{!Regfield.Label1}"> </apex:outputText>
                                 <apex:outputtext value="*" rendered="{!IF(Regfield.req1==true,true,false)}" styleclass="{!IF(Regfield.req1==true,'req','')}"></apex:outputText>
                                 </label>
                                 </apex:outputPanel>
                                  <apex:outputpanel styleClass="control-group">
                                  <div class="controls">
                                 <apex:inputText value="{!acc1[Regfield.Field1]}" disabled="{!disablefields}"  onblur="trimvalue(this.value,'{!IF(Regfield.req1==true ,Regfield.Field1,Regfield.Field1)}');" styleClass="{!IF(Regfield.req1==true ,IF($ObjectType.Contact.fields[Regfield.Field1].Custom==false,Regfield.Field1&' any_required',Regfield.FieldType1&' any_required'),if($ObjectType.Contact.fields[Regfield.Field1].Custom==false,Regfield.Field1,Regfield.Fieldtype1))}" />  
                                 </div>
                                 </apex:outputpanel>
                                
                           </apex:pageBlockSectionItem>
                           <apex:pageBlockSectionItem rendered="{!IF(Regfield.visable1==true && Regfield.Field1=='Email',true,false)}">                                
                                                               
                                 <apex:outputPanel styleClass="control-group">
                                 <label><apex:outputText value="{!Regfield.Label1}"> </apex:outputText>
                                 <apex:outputtext value="*" rendered="{!IF(Regfield.req1==true,true,false)}" styleclass="{!IF(Regfield.req1==true,'req','')}"></apex:outputText>
                                 </label>
                                 </apex:outputPanel>
                                  <apex:outputpanel styleClass="control-group">
                                  <div class="controls">
                                 <apex:inputText value="{!acc1[Regfield.Field1]}" disabled="{!disablefields}"  onblur="trimvalue(this.value,'{!IF(Regfield.req1==true ,Regfield.Field1,Regfield.Field1)}');" styleClass="{!IF(Regfield.req1==true ,IF($ObjectType.Contact.fields[Regfield.Field1].Custom==false,Regfield.Field1&' any_required',Regfield.FieldType1&' any_required'),if($ObjectType.Contact.fields[Regfield.Field1].Custom==false,Regfield.Field1,Regfield.Fieldtype1))}" />  
                                 </div>
                                 </apex:outputpanel>
                                
                           </apex:pageBlockSectionItem>
                                  
                           <apex:pageBlockSectionItem rendered="{!IF(Regfield.visable1==true && Regfield.Field1=='MailingCountry',true,false)}">
                                <apex:outputPanel styleClass="control-group">
                                <label>
                               <apex:OutputText value="{!Regfield.Label1}{!IF(Regfield.req1==true,'<span class=req>*</span>','')}"  escape="false" />
                              </label>
                              </apex:outputPanel>
                              <apex:outputPanel styleClass="control-group">
                              <div class="controls">
                               <apex:selectlist value="{!acc1[Regfield.Field1]}" size="1" styleClass="{!IF(Regfield.req1==true,Regfield.Field1&' any_required' ,Regfield.Field1)}" onchange="StateChangeReg(this.value);">
                                          <apex:selectOption itemLabel="Select" itemValue=""/>
                                          <apex:selectOptions value="{!showcountries}"  rendered="{!IF(showcountries.size>0,true,false)}"/>             
                                          <apex:selectOptions value="{!xmlstring.CountryCodes}" rendered="{!IF(showcountries.size>0,false,true)}"/>                                 
                               </apex:selectlist>
                               </div>
                               </apex:outputPanel>

                      </apex:pageBlockSectionItem>                     
                                  
                     <apex:pageBlockSectionItem rendered="{!IF(Regfield.visable1==true && Regfield.Field1=='MailingState' ,true,false)}">            
          
                         <apex:outputPanel styleClass="control-group">
                         <label>         
                         <apex:OutputText value="{!Regfield.Label1}"/>
                         <apex:outputtext value="*" rendered="{!IF(Regfield.req1==true,true,false)}" styleclass="{!IF(Regfield.req1==true,'req','')}"></apex:outputText>
                         </label>
                         </apex:outputpanel>
                         <apex:actionRegion >
                         <apex:outputPanel id="Register_staterefresh" styleClass="control-group">
                         <div class="controls">
                         <apex:selectlist value="{!acc1[Regfield.Field1]}" size="1" rendered="{!IF(showStatesReg.size>0,true,false)}" styleClass="{!IF(Regfield.req1==true,Regfield.Field1&' any_required' ,Regfield.Field1)}">
                         <apex:selectOptions value="{!showStatesReg}"/>             
                         </apex:selectlist>
                         
                         <apex:inputField value="{!acc1[Regfield.Field1]}" onblur="trimvalue(this.value,'{!IF(Regfield.req1==true ,Regfield.Field1,Regfield.Field1)}');" rendered="{!IF(showStatesReg.size>0,false,true)}" styleClass="{!IF(Regfield.req1==true,Regfield.Field1&' any_required' ,Regfield.Field1)}"/>
                        </div>
                        </apex:outputPanel>
                        </apex:actionRegion>
                     </apex:pageBlockSectionItem>                 
                                 
                                       
                 </apex:repeat>
                 
           </apex:pageblocksection>
           </apex:outputPanel>
               
                               
            <apex:outputpanel id="Register_CustomFields">
                       <apex:variable value="0" var="checkNum1"/>
                     
                     
                     <apex:repeat value="{!RegistrantCustomFields}" var="Rfield1">
                      <apex:outputPanel rendered="{!IF(Rfield1.SectionName!=null,true,false)}" >
                     <div class="well well-small" style="margin-bottom:-3px;margin-top:20px;">
                     <h3><apex:outputText value="{!Rfield1.SectionName}" ></apex:outputText></h3>
                     </div>
                     </apex:outputPanel>
                      <apex:outputpanel rendered="{!Rfield1.visible}">
                      <table class="table table-bordered" style="margin-bottom:-3px;">
                         <tr>
                         <td class="small_text form-horizontal">          
                      
                             <div class="control-group">     
                                <label class="control-label" for="inputFieldtName">
                                <apex:outputText value="{!Rfield1.label}"  ></apex:outputText>
                                   <apex:outputtext value="{!IF(Rfield1.req==true,'<span class=req>*</span>','')}"  escape="false"></apex:outputText>
                                </label>
                               <div class="controls">
                               
                                <apex:inputText value="{!Rfield1.DefaultValue}" rendered="{!IF(Rfield1.FieldType=='Text box',true,false)}" styleClass="pull-left {!IF(Rfield1.req==true,'textbox any_required','textbox')}"></apex:inputText>
                                
                                <apex:inputTextarea value="{!Rfield1.DefaultValue}" rendered="{!IF(Rfield1.FieldType=='Text area',true,false)}" styleClass="{!IF(Rfield1.req==true,'textarea any_required','textarea')}">&nbsp;&nbsp;&nbsp;</apex:inputTextarea>
                                
                                
                                <apex:selectRadio value="{!Rfield1.DefaultValue}"  layout="pageDirection" rendered="{!IF(Rfield1.FieldType=='Radio button',true,false)}"  styleClass="{!IF(Rfield1.req==true,'radiobox'+checkNum1,'radio')}">
                                <apex:selectOptions value="{!Rfield1.Fieldvalues}"/>
                                </apex:selectRadio>
                                
                                
                                <apex:selectList value="{!Rfield1.DefaultValue}"  size="1" rendered="{!IF(Rfield1.FieldType=='Select list',true,false)}" styleClass="{!IF(Rfield1.req==true,'selectbox'+checkNum1,'selectlist')}">
                                   <apex:selectOptions value="{!Rfield1.Fieldvalues}"/>
                                </apex:selectList>
                                
                                
                                <apex:selectcheckboxes value="{!Rfield1.checkedboxValues}" layout="pageDirection" rendered="{!IF(Rfield1.FieldType=='Check box',true,false)}" styleClass="{!IF(Rfield1.req==true && Rfield1.FieldType=='Check box','checkbox'+checkNum1,'noclasstest')}">
                                <apex:selectOptions value="{!Rfield1.Fieldvalues}" />
                                </apex:selectcheckboxes>
                                
                                <apex:inputhidden value="{!Rfield1.QuestionId}"/>
                                <apex:inputhidden value="{!Rfield1.SectionNamehidden}"/> 
                                
                                <apex:outputpanel rendered="{!(Rfield1.visible==false)}">
                                <apex:inputHidden value="{!Rfield1.DefaultValue}"/>
                                <apex:inputhidden value="{!Rfield1.QuestionId}"/>
                                <apex:inputhidden value="{!Rfield1.SectionNamehidden}"/> 
                                </apex:outputpanel>
                                
                                </div>
                            </div>
                            <apex:variable var="checkNum1" value="{!VALUE(checkNum1) + 1}"/>
                            
                            </td>
                         </tr>
                        </table>
                        </apex:outputPanel>
                     </apex:repeat>
                     
                     <input type="hidden" value="{!checkNum1}" class="rowvalues" name="checkNum1"/>
             </apex:outputpanel>
        </apex:outputpanel>
        <apex:outputpanel id="Register_PaymentSelection">
        
        <apex:outputpanel id="Register_PaymentSelection1" rendered="{!IF(DTotalAmount > 0.0,if(EventAccountInfo.CnP_PaaS_EVT__Credit_Card__c==true && EventAccountInfo.CnP_PaaS_EVT__eCheck__c ==false && EventAccountInfo.CnP_PaaS_EVT__Invoice__c ==false && EventAccountInfo.CnP_PaaS_EVT__Purchase_Order__c==false && EventAccountInfo.CnP_PaaS_EVT__Custom_Payment_Check__c==false,false,if(EventAccountInfo.CnP_PaaS_EVT__Credit_Card__c==false && EventAccountInfo.CnP_PaaS_EVT__eCheck__c ==true && EventAccountInfo.CnP_PaaS_EVT__Invoice__c ==false && EventAccountInfo.CnP_PaaS_EVT__Purchase_Order__c==false && EventAccountInfo.CnP_PaaS_EVT__Custom_Payment_Check__c==false,false,if(EventAccountInfo.CnP_PaaS_EVT__Credit_Card__c==false && EventAccountInfo.CnP_PaaS_EVT__eCheck__c ==false && EventAccountInfo.CnP_PaaS_EVT__Invoice__c ==true && EventAccountInfo.CnP_PaaS_EVT__Purchase_Order__c==false && EventAccountInfo.CnP_PaaS_EVT__Custom_Payment_Check__c==false,false,if(EventAccountInfo.CnP_PaaS_EVT__Credit_Card__c==false && EventAccountInfo.CnP_PaaS_EVT__eCheck__c ==false && EventAccountInfo.CnP_PaaS_EVT__Invoice__c ==false && EventAccountInfo.CnP_PaaS_EVT__Purchase_Order__c==true && EventAccountInfo.CnP_PaaS_EVT__Custom_Payment_Check__c==false,false,if(EventAccountInfo.CnP_PaaS_EVT__Credit_Card__c==false && EventAccountInfo.CnP_PaaS_EVT__eCheck__c ==false && EventAccountInfo.CnP_PaaS_EVT__Invoice__c ==false && EventAccountInfo.CnP_PaaS_EVT__Purchase_Order__c==false && (EventAccountInfo.CnP_PaaS_EVT__Custom_Payment_Check__c==true && custompaymentoption.size <= 1),false,true))))),false)}" >            
               <apex:outputpanel id="Register_RefreshType" styleClass="form-horizontal" >
               <apex:actionRegion >
               <div class="well well-small" style="margin-bottom:-3px;margin-top:20px;">
               <h3>Payment Information: &nbsp;
                      <apex:selectList value="{!xmlPaymentMethod.PaymentType}" rendered="{!if(registrationtype !='manual',true,false)}" styleClass="paymenttype" size="1" >   
                      <apex:actionsupport event="onchange"   rerender="Register_PaymentMethod,Register_Paymentbutton"/>          
                        <apex:selectOption rendered="{!IF(EventAccountInfo.CnP_PaaS_EVT__Credit_Card__c==true && (EventId.CnP_PaaS_EVT__Registration_Type__c=='Test' || EventId.CnP_PaaS_EVT__Registration_Type__c=='Active'),true,false)}"   itemValue="CreditCard" itemLabel="Credit Card"/>
                       <apex:selectOption rendered="{!IF(EventAccountInfo.CnP_PaaS_EVT__eCheck__c ==true && EventId.CnP_PaaS_EVT__Registration_Type__c=='Active',true,false)}" itemValue="Check" itemLabel="eCheck" /> 
                        <apex:selectOption rendered="{!IF(EventAccountInfo.CnP_PaaS_EVT__Invoice__c ==true && EventId.CnP_PaaS_EVT__Registration_Type__c=='Active',true,false)}" itemValue="Invoice" itemLabel="Invoice"/> 
                        <apex:selectOption rendered="{!IF(EventAccountInfo.CnP_PaaS_EVT__Purchase_Order__c==true && EventId.CnP_PaaS_EVT__Registration_Type__c=='Active',true,false)}" itemValue="PurchaseOrder" itemLabel="Purchase Order"/>
                        <!--<apex:selectOption rendered="{!IF(EventAccountInfo.Custom_Payment_Check__c==true,true,false)}" itemValue="CustomPaymentType" itemLabel="{!EventAccountInfo.Custom_Payment_Name__c}"/> -->

                        <apex:selectOptions rendered="{!IF(EventAccountInfo.CnP_PaaS_EVT__Custom_Payment_Check__c==true&& EventId.CnP_PaaS_EVT__Registration_Type__c=='Active',true,false)}" value="{!custompaymentoption}"></apex:selectOptions>                      
                      </apex:selectList>
                 </h3>
               </div>
               </apex:actionRegion>  
               </apex:outputpanel>

        </apex:outputPanel>
       
        <apex:outputpanel id="Register_PaymentSelection1manual" rendered="{!IF(DTotalAmount > 0.0 && registrationtype=='manual',true,false)}">            
               <apex:outputpanel id="Register_RefreshTypemanual" styleClass="form-horizontal" >
               <apex:actionRegion >
                      <apex:selectRadio value="{!xmlPaymentMethod.PaymentType}" rendered="{!if(registrationtype =='manual',true,false)}" styleClass="paymenttype"  >   
                      <apex:actionsupport event="onchange"   rerender="Register_PaymentMethod,Register_Paymentbutton"/>
                              
                        <apex:selectOption rendered="{!creditcardpayment}"  itemValue="CreditCard" itemLabel="Credit Card"/>
                        <apex:selectOption rendered="{!echeckpayment}" itemValue="Check" itemLabel="eCheck" /> 
                        <apex:selectOption rendered="{!invoicepayment}" itemValue="Invoice" itemLabel="Invoice"/> 
                        <apex:selectOption rendered="{!popayment}" itemValue="PurchaseOrder" itemLabel="Purchase Order"/>
                        <apex:selectOption rendered="{!custompayment}" itemValue="CustomPaymentType" itemLabel="Custom Payment Type"/>

                      </apex:selectRadio>
               </apex:actionRegion>  
               </apex:outputpanel>

        </apex:outputPanel>
 
    
     <apex:outputpanel id="Register_PaymentMethod" rendered="{!IF(DTotalAmount> 0.0,true,false)}" styleClass="">   
           <script>
                     $(document).ready( function () {
                     applycreditcarttype()
                    
                     
                     
                     });
                     
                     function applycreditcarttype(){
 
                     
                     if({!EventAccountInfo.CnP_PaaS_EVT__Visa__c}==true){
                     
                         $('.txtCardNumber').addClass("cnpvisa");
                     }
                     if({!EventAccountInfo.CnP_PaaS_EVT__Master_Card__c}==true){                    
                    
                         $('.txtCardNumber').addClass("cnpmastercard");
                     }
                     if({!EventAccountInfo.CnP_PaaS_EVT__Discover__c}==true){                    
                    
                         $('.txtCardNumber').addClass("cnpdiscover");
                     }
                     if({!EventAccountInfo.CnP_PaaS_EVT__American_Express__c}==true){                    
                    
                         $('.txtCardNumber').addClass("cnpamex");
                     }
                     if({!EventAccountInfo.CnP_PaaS_EVT__JCB__c}==true){                    
                    
                         $('.txtCardNumber').addClass("cnpjcb");
                     }
                     
                     
                     
                     }

                     
                    </script>
           
           <apex:outputpanel rendered="{!xmlPaymentMethod.PaymentType=='CreditCard'}" styleClass="detailList"> 
                    
            <apex:pageblocksection columns="1" >
            
            <apex:pageBlockSectionItem rendered="{!if(registrationtype !='manual',true,false)}" dataStyleClass="text_align_right payment_icon">
                <img style="display:{!IF(EventAccountInfo.Visa__c==true,'inline','none')}" src="{!URLFOR($Resource.Payment_Event, 'images/visa.jpg')}" alt="visa" width="30" id="imgVisa" /> <img style="display:{!IF(EventAccountInfo.master_card__c==true,'inline','none')}" src="{!URLFOR($Resource.Payment_Event, 'images/mastercard.gif')}" alt="mastercard" width="30" id="imgMasterCard" /> <img style="display:{!IF(EventAccountInfo.Discover__c==true,'inline','none')}" src="{!URLFOR($Resource.Payment_Event, 'images/discover.jpg')}" alt="discover" width="30" id="imgDiscover"/> <img style="display:{!IF(EventAccountInfo.American_express__c==true,'inline','none')}" src="{!URLFOR($Resource.Payment_Event, 'images/amex.jpg')}" alt="amex" width="20" id="imgAmex"  /> <img style="display:{!IF(EventAccountInfo.JCB__c==true,'inline','none')}" src="{!URLFOR($Resource.Payment_Event, 'images/jcb_card.gif')}" alt="jcb" width="30" id="imgJCB" />    
            </apex:pageBlockSectionItem>
            
            <apex:pageBlockSectionItem rendered="{!if(registrationtype =='manual',true,false)}">           
                 <!--<apex:outputLabel value="Entry Mode" />-->
                 <apex:outputPanel styleClass="control-group">
                 <label class="EntryMode">Entry Mode<span class="req">*</span></label>            
                 </apex:outputPanel>
                 <apex:outputPanel styleClass="control-group">
                 <div class="controls">
                  <apex:selectList size="1" value="{!selecttype}" styleClass="cardoption" onchange="focuscard();" >
                    <apex:selectOption itemLabel="Manual" itemValue="Manual" ></apex:selectOption>
                    <apex:selectOption itemLabel="Card Reader" itemValue="CardReader"></apex:selectOption>
                   </apex:selectList>
                 </div>
                   </apex:outputPanel>
            </apex:pageBlockSectionItem>
            
            <apex:pageBlockSectionItem rendered="{!if(registrationtype =='manual',true,false)}">
            <apex:outputPanel >
           <apex:outputLabel styleClass="cardlabel"  style="display:none;">Place the mouse pointer here and swipe the credit card<span class="req">*</span></apex:outputLabel>
           </apex:outputPanel>
           <apex:outputPanel styleClass="cardreaderrow control-group" style="display:none;">
                             <apex:outputPanel styleClass="requiredInput" layout="block" >    
                             <div class="controls">
                              <apex:inputSecret value="{!xmlpaymentMethod.TrackData}" styleClass="cardreader" onchange="cardReaderTexChange();"  /> 
                              </div>
                              </apex:outputPanel>                            
                             </apex:outputPanel>   
             </apex:pageBlockSectionItem>
                  
                <apex:pageBlockSectionItem >
                <apex:outputPanel styleClass="control-group">
                         <label for="txtNameOnCard" class="firstlabel">Name on Card <span class="req">*</span></label>
                </apex:outputPanel>

                <apex:outputPanel styleClass="control-group">
                <div class="controls">
                         <apex:inputText value="{!xmlPaymentMethod.NameOnCard}" disabled="{!IF(EventId.CnP_PaaS_EVT__Registration_Type__c=='Test' && registrationtype!='manual',true,false)}" id="txtNameOnCard" styleClass="txtNameOnCard" maxlength="50" />
                 </div>     
                </apex:outputPanel>    
                </apex:pageBlockSectionItem>
           
                <apex:pageBlockSectionItem >
                <apex:outputPanel styleClass="control-group">
                         <label for="txtCardNumber1">Credit Card Number <span class="req">*</span></label>
                 </apex:outputPanel>
                         <apex:outputPanel styleClass="control-group">
                         <div class="controls">
                         <apex:inputText value="{!xmlPaymentMethod.CardNumber}" disabled="{!IF(EventId.CnP_PaaS_EVT__Registration_Type__c=='Test' && registrationtype!='manual',true,false)}" id="txtCardNumber" styleClass="txtCardNumber " maxlength="16" onkeyup="javascript:this.value=this.value.replace(/[^0-9]/g, '');"/>
                            <input type="text" class="dummycardnumber" style="display:none"/>
                          </div>
                     </apex:outputPanel> 
                </apex:pageBlockSectionItem>
               
                <apex:pageBlockSectionItem >
                <apex:outputPanel styleClass="control-group">
                      <apex:outputLabel id="lblCvv" styleClass="cvvlabel">Card Verification (CVV)<span class="req" style="display:{!if(registrationtype !='manual','inline','none')}">*</span></apex:outputLabel>                     
                 </apex:outputPanel>
                 <apex:outputPanel styleClass="control-group">
                 <div class="controls">
                      <apex:inputText value="{!xmlPaymentMethod.Cvv2}" disabled="{!IF(EventId.CnP_PaaS_EVT__Registration_Type__c=='Test' && registrationtype!='manual',true,false)}" maxlength="4" id="txtCvv" styleClass="txtCvv" style="width:40px;" onkeyup="javascript:this.value=this.value.replace(/[^0-9]/g, '');"/>
                 </div>
                 </apex:outputPanel>   
                </apex:pageBlockSectionItem>
               
                <apex:pageBlockSectionItem >
                <apex:outputPanel styleClass="control-group">
                        <label for="select_ExpirationMonth1">Expiration Date <span class="req">*</span></label>
                </apex:outputPanel>
                        <apex:outputPanel styleClass="control-group">
                        <div class="controls">
                           <apex:selectlist value="{!xmlPaymentMethod.ExpirationMonth}" disabled="{!IF(EventId.CnP_PaaS_EVT__Registration_Type__c=='Test' && registrationtype!='manual',true,false)}" id="select_ExpirationMonth" styleClass="select_ExpirationMonth" style="width:120px;" size="1">             
                                <apex:selectOptions value="{!xmlstring.ExpireMonth}"/>
                           </apex:selectlist><span class="padding_5">/</span>                                    
                            <apex:selectlist value="{!xmlPaymentMethod.ExpirationYear}" disabled="{!IF(EventId.CnP_PaaS_EVT__Registration_Type__c=='Test' && registrationtype!='manual',true,false)}" id="select_ExpirationYear" styleClass="select_ExpirationYear" size="1" style="width:86px;" >             
                                <apex:selectOptions value="{!xmlstring.ExpireYear}"/>
                            </apex:selectlist>
                        </div>
                        </apex:outputPanel>
                </apex:pageBlockSectionItem>
                
            </apex:pageblocksection> 

        </apex:outputpanel>

        <apex:outputpanel rendered="{!xmlPaymentMethod.PaymentType=='ReferenceTransaction'}" styleClass="detailList">

          <apex:pageBlockSection columns="1">
          <apex:pageBlockSectionItem >
           <apex:outputPanel styleClass="control-group">
             <label for="lblOrder_number">Order Number</label>
           </apex:outputPanel>
           <apex:outputPanel styleClass="control-group">
           <div class="controls">
              <apex:inputText value="{!xmlPaymentMethod.OrderNumber}" id="Register_txtOrderNumber" styleClass="txtOrderNumber"/>
              </div>
           </apex:outputPanel>
          </apex:pageBlockSectionItem>

            <apex:pageBlockSectionItem >
            <apex:outputPanel styleClass="control-group">
             <label for="lblVaultguid">VaultGUID</label>
             </apex:outputPanel>
             <apex:outputPanel styleClass="control-group">
             <div class="controls">
             <apex:inputText value="{!xmlPaymentMethod.VaultGUID}" id="Register_txtVaultguid" styleClass="txtVaultguid"/>
             </div>
             </apex:outputPanel>
          </apex:pageBlockSectionItem>
          </apex:pageBlockSection>    

        </apex:outputpanel>

        <apex:outputpanel rendered="{!xmlPaymentMethod.PaymentType=='Check'}" styleClass="detailList"> 

            <apex:pageBlockSection columns="1" >
            <apex:pageBlockSectionItem dataStyleClass="text_align_right payment_icon">
              <!--  <img src="http://click-pledge.v-empower.com/web/SALESFORCE/Events2.0/Graphics/frontend-html/img/eCheck.png" alt="eCheck" width="49" height="29" id="img1"/> -->
                <img src="{!URLFOR($Resource.BootstrapFrontend,'BootstrapFrontend/frontend-html/img/eCheck.png')}" style="display:{!if(registrationtype !='manual','inline','none')}" alt="eCheck" width="49" height="29" id="img1"/>
                
            </apex:pageBlockSectionItem>
            
            <apex:pageBlockSectionItem >
            <apex:outputPanel styleClass="control-group">
                <label for="txtRoutingNumber">Routing Number <span class="req">*</span></label>
               </apex:outputPanel>
               <apex:outputPanel styleClass="control-group">
               <div class="controls">
                <apex:inputText maxlength="9" value="{!xmlPaymentMethod.RoutingNumber}" id="Register_txtRoutingNumber"  styleClass="txtRoutingNumber"/>
                </div></apex:outputPanel>
            </apex:pageBlockSectionItem>
            
            <apex:pageBlockSectionItem >
            <apex:outputPanel styleClass="control-group">
                    <label for="txtCheckNumber">Check Number <span class="req">*</span></label> 
            </apex:outputPanel>
            <apex:outputPanel styleClass="control-group">
            <div class="controls">
                    <apex:inputText value="{!xmlPaymentMethod.CheckNumber}" maxlength="10" id="Register_txtCheckNumber" styleClass="txtCheckNumber"/>
            </div>
            </apex:outputPanel>
            </apex:pageBlockSectionItem>
            
             <apex:pageBlockSectionItem >
                 <apex:outputPanel styleClass="control-group">
                    <label for="txtAccountNumber" class="firstlabel">Account Number <span class="req">*</span></label>
                 </apex:outputPanel>
                 <apex:outputPanel styleClass="control-group">
                 <div class="controls">
                    <apex:inputText value="{!xmlPaymentMethod.AccountNumber}" maxlength="17" id="Register_txtAccountNumber" styleClass="txtAccountNumber"/>
                </div>
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
            
             <apex:pageBlockSectionItem >
              <apex:outputPanel styleClass="control-group">
                <label for="txtAccountNumber2" class="firstlabel">Repeat Account Number <span class="req">*</span></label>
                </apex:outputPanel>
                <apex:outputPanel styleClass="control-group">
                <div class="controls">
                <apex:inputText value="{!xmlPaymentMethod.AccountNumber}" id="Register_txtAccountNumber2" styleClass="txtAccountNumber2" maxlength="17" />
                </div>
                </apex:outputPanel>
            </apex:pageBlockSectionItem>
            
             <apex:pageBlockSectionItem >
             <apex:outputPanel styleClass="control-group">
             <label for="select_AccountType">Account Type</label>
             </apex:outputPanel>
             <apex:outputPanel styleClass="control-group">
             <div class="controls">
             <apex:selectlist value="{!xmlPaymentMethod.AccountType}" size="1">             
                 <apex:selectOptions value="{!xmlstring.AccountTypes}"/>
                 </apex:selectlist>
              </div>
              </apex:outputPanel>
            </apex:pageBlockSectionItem>
            
             <apex:pageBlockSectionItem >
              <apex:outputPanel styleClass="control-group">
                 <label for="select_CheckType">Check Type </label>
              </apex:outputPanel>
              <apex:outputPanel styleClass="control-group">
              <div class="controls">
                 <apex:selectlist value="{!xmlPaymentMethod.CheckType}" size="1">             
                 <apex:selectOptions value="{!xmlstring.CheckTypes}"/>
                 </apex:selectlist>
               </div>
               </apex:outputPanel>
            </apex:pageBlockSectionItem>
            
             <apex:pageBlockSectionItem >
             <apex:outputPanel styleClass="control-group">
             <label for="txtNameOnAccount">Name on Account <span class="req">*</span></label>
             </apex:outputPanel>
             <apex:outputPanel styleClass="control-group">
             <div class="controls">
             <apex:inputText value="{!xmlPaymentMethod.NameOnAccount}" maxlength="100" id="Register_txtNameOnAccount" styleClass="txtNameOnAccount"/> 
             </div>
             </apex:outputPanel>
            </apex:pageBlockSectionItem>
            
             <apex:pageBlockSectionItem >
             <apex:outputPanel styleClass="control-group">
             <label for="select_IdType">Type of ID </label>
             </apex:outputPanel>
             <apex:outputPanel styleClass="control-group">
             <div class="controls">
             <apex:selectlist value="{!xmlPaymentMethod.IdType}" size="1">             
                        <apex:selectOptions value="{!xmlstring.IdTypes}"/>
                        </apex:selectlist>
              </div>
              </apex:outputPanel>
            </apex:pageBlockSectionItem> 
          </apex:pageBlockSection>
             
        </apex:outputpanel>
   
        <apex:outputpanel rendered="{!xmlPaymentMethod.PaymentType=='PurchaseOrder'}" styleClass="detailList">

            <apex:pageBlockSection columns="1">
             <apex:pageBlockSectionItem >
             <apex:outputPanel styleClass="control-group">
                 <label for="txtPOAccount">Purchase Order Number<span class="req">*</span> </label>
             </apex:outputPanel>
             <apex:outputPanel styleClass="control-group">
             <div class="controls">
                  <apex:inputText value="{!xmlPaymentMethod.PurchaseOrderNumber}" maxlength="50" id="Register_txtPOAccount" styleClass="txtPOAccount"/>
             </div>
              </apex:outputPanel>
             </apex:pageBlockSectionItem> 
            </apex:pageBlockSection>

        </apex:outputpanel>

        <apex:outputpanel rendered="{!xmlPaymentMethod.PaymentType=='Invoice'}" styleClass="controls">
         <apex:pageBlockSection columns="1" rendered="{!if(registrationtype =='manual',true,false)}">
         
             <apex:pageBlockSectionItem >
              <apex:outputPanel styleClass="control-group">
                 <label for="txtInvoiceAccount">Check Number </label>
              </apex:outputPanel>
              <apex:outputPanel styleClass="control-group">
              <div class="controls">
                 <apex:inputText value="{!xmlPaymentMethod.InvoiceCheckNumber}" maxlength="50" id="txtInvoiceAccount" styleClass="txtInvoiceAccount"/>
              </div>
              </apex:outputPanel>
                 
             </apex:pageBlockSectionItem> 
             
             <apex:pageBlockSectionItem >
             </apex:pageBlockSectionItem>
         
         </apex:pageBlockSection>   
        </apex:outputpanel>

        <apex:outputpanel rendered="{!xmlPaymentMethod.PaymentType=='CustomPaymentType'}" styleClass="detailList">
          <apex:pageBlockSection columns="1" rendered="{!if(registrationtype =='manual',true,false)}">
        <apex:pageBlockSectionItem >
        <apex:outputPanel styleClass="control-group">
        <label for="Name">Name<span class="req">*</span></label>
        </apex:outputPanel>
        
        <apex:outputPanel styleClass="control-group">
        <apex:outputPanel styleClass="requiredInput" layout="block" >
        <apex:outputPanel styleClass="requiredBlock" layout="block"></apex:outputPanel>
         <div class="controls">
         <apex:outputPanel rendered="{!if(cusValue.size == 0,true,false) }">
        
                                     <apex:inputText value="{!xmlpaymentMethod.CustomPaymentName}" styleClass="required1 txtCustomPaymentName" maxlength="50"  id="txtCustomPaymentName" />
                                     
                                       </apex:outputpanel>  
                                       <apex:outputPanel rendered="{!if(cusValue.size >0,true,false) }">
                                     <apex:selectlist value="{!xmlpaymentMethod.CustomPaymentName}" size="1" styleClass="customname">
                                         <apex:selectoptions value="{!cusValue}"></apex:selectoptions>
                                     </apex:selectlist>
                                    </apex:outputPanel>
                                </div>
                                    </apex:outputPanel>
                                     </apex:outputpanel> 
        </apex:pageBlockSectionItem>
        <apex:pageBlockSectionItem >
        <apex:outputPanel styleClass="control-group">                 
                 <label for="txtCustompaymentnumber">Reference Number</label>
        </apex:outputPanel>
        <apex:outputPanel styleClass="control-group">
        <div class="controls">
                 <apex:inputText value="{!xmlPaymentMethod.CustomPaymentNumber}" maxlength="50" id="txtCustompaymentnumber" styleClass="txtCustompaymentnumber"/>
          </div>
          </apex:outputPanel>
             </apex:pageBlockSectionItem>
        </apex:pageBlockSection>
        </apex:outputpanel>
        

        <script>
        //$("#diveVTPage #topinfo table").removeAttr("class");
        $("#diveVTPage #topinfo table").addClass("table table-bordered table-hover");
       
        </script>

        </apex:outputpanel>
            </apex:outputpanel> 
 
       
  </div></div>      

<apex:outputpanel id="Register_FinalTotalSummary">
<div id="topInfo2">  

 <table class="table table-bordered table-hover">
                    <tr style="display:{!if(DGrossAmount>0,'table-row;vertical-align: inherit;','none')}">
                          <td width="100%">&nbsp;</td>
                          <td class="align-right" style="white-space:nowrap">Gross Total</td>
                          <td class="align-right"><strong>
                         <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                         <apex:param value="{!DGrossAmount}" />
                         </apex:outputText> 
                          </strong></td>
                    </tr>
                    
                    <tr style="display:{!if(DTotalTax>0,'table-row;vertical-align: inherit;','none')}">
                 
                      <td>&nbsp;</td>
                      <td class="align-right"> Tax</td>
                      <td class="align-right"> <strong> 
                      <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                     <apex:param value="{!DTotalTax}" />
                     </apex:outputText>
                      </strong></td>
                       
                    </tr>
                    
                    
                    <tr style="display:{!if(DTotalDiscount>0,'table-row;vertical-align: inherit;','none')}">
                      <td> </td>
                      <td class="align-right">Discount</td>
                      <td class="align-right"><strong>
                       <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                         <apex:param value="{!DTotalDiscount}" />
                         </apex:outputText>
                      </strong></td>
                      </tr>
                       <tr style="display:{!if(eventid.Additional_Donation__c==true && AdditionalDonation >0,'table-row;vertical-align: inherit;','none')}">
                      <td colspan="2" class="align-right" width="100%">
                          <apex:outputLabel value="{!Eventid.CnP_PaaS_EVT__Label_for_additional_donation__c}" style="font-weight: bold;"></apex:outputLabel>
                      </td>
                      <td class="align-right" style="white-space:nowrap">
                          <apex:outputpanel >
                          
                         <strong>
                       <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                         <apex:param value="{!AdditionalDonation}" />
                         </apex:outputText>
                      </strong>
                         
                         
                           </apex:outputpanel>
                      
                      </td>
                      </tr> 
                    <tr>
                      <td colspan="3">
                        <div class="row-fluid">
                          <!-- <div class="span6" style="padding-top:15px;"> </div> -->
                          <div class="span12 text_align_right" style="padding-top:10px;"> <strong>Net Total :</strong> <strong class="nettotal greentext">
                          <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                     <apex:param value="{!DTotalAmount}" />
                     </apex:outputText>
                          </strong> </div>
                        </div></td>
                      </tr>
                     <tr style="display:{!if(TotalTaxDeductible>0,'table-row;vertical-align: inherit;','none')}">
                 
                     <td colspan="3"><div class="row-fluid">
                        <!-- <div class="span6" style="padding-top:15px;"> </div> -->
                        <div class="span12 text_align_right" style="padding-top:10px;"> <strong>Total Tax Deductible :</strong>
                         <strong class="nettotal ">
                     
                      <apex:outputText value="{0, number,{!currencycode}###,###,##0.00}">
                     <apex:param value="{!TotalTaxDeductible}" />
                     </apex:outputText>
                     
                      
                     </strong> </div>
                        </div></td>
                       
                      </tr> 
                      
                      <tr style="display:{!IF(EventId.CnP_PaaS_EVT__Show_Terms_Conditions__c==true,'table-row;vertical-align: inherit;','none')}">
                      <td colspan="3">                      
     
                           <table class="no_border notable">
                           <tr><td style="padding-right:10px!important;">               
                           <apex:inputCheckbox id="Register_term1" styleClass="term" onclick="return check1(this.checked);" style="display:{!IF(EventId.CnP_PaaS_EVT__Acknowledgement_Mandatory__c==true,'block','none')}"/>                             
                           </td><td style="width:100%;padding-top:5px!important;" class="term_text">
                           <apex:outputtext value="{!EventId.CnP_PaaS_EVT__Terms_Conditions__c}" escape="false"/>                
                           </td></tr>
                           </table>
                       
                        </td>
                      </tr>
                     
                      
                       
                      <tr >
                        <td colspan="3">
                        
                          <apex:outputPanel id="resulttransactionfail123" >                         
                                  <apex:outputpanel rendered="{!IF(Resultdisply!='','true','false')}"> 
                                   <apex:outputText value="{!Resultdisply}" escape="false" />
                                    </apex:outputpanel>    
                       </apex:outputPanel> 
                       
                        </td>
                       </tr>
                       
                    <tr style="display:'table-row;vertical-align: inherit;'">
                      <td colspan="3" align="right">
                        <div class="row-fluid">
                         <!-- <div class="span6 text_align_left"><a href="#Register" class="btn" onclick="dataslideprev()"><i class="icon icon-chevron-left"></i></a></div>  -->
                          <div class="span6 text_align_left">
                          
                          <apex:actionregion >
                          <apex:actionstatus id="RegistrantPreviouspage" onstart="showLoadingDiv();" onstop="dataslideprev()" /> 
                          <apex:commandLink value="" status="RegistrantPreviouspage"   action="{!previousbutton}" styleClass="btn"  reRender="Register_paymentblock333" id="previousbut">
                          <i class="icon icon-chevron-left"></i>  
                          </apex:commandLink>
                          </apex:actionregion>
                          </div> 
                         
                         <!-- <div class="span6 text_align_right"><a href="#Anonymous" class="btn btn-success greytext" onclick="Anonymouspayment()"><strong>Go for Payment</strong> <i class="icon icon-chevron-right"></i></a></div>   -->                   
                            <div style="display:{!IF(EventId.Acknowledgement_mandatory__c==true && EventId.Show_Terms_Conditions__c==true,'none','block')}" class="span6 text_align_right next1">
                                    
                                    <apex:actionStatus id="Register_Paymentpro_status1" > 
                                   <apex:facet name="stop">
                                    <apex:commandButton status="Register_Paymentpro_status1" value="Process" onclick="if(!AnonymousFormValidation('{!xmlPaymentMethod.PaymentType}')){return false;}"  oncomplete="CallWebService_JS();"    reRender="Registered_Completeprocess" action="{!goforpayment}" styleClass="btn btn-success greytext" id="Register_Paymentbutton"/> 
                                 <!--   <apex:commandButton status="Register_Paymentpro_status1" value="Process"   oncomplete="CallWebService_JS();"    reRender="Registered_Completeprocess" action="{!goforpayment}" styleClass="btn btn-success greytext" id="Register_Paymentbutton"/> -->
                                 </apex:facet>
                                   <apex:facet name="start">
                                   <apex:image value="/img/loading32.gif" style="height: 15px;"/>
                                   <apex:commandbutton value="Processing..." status="Register_Paymentpro_status1" styleClass="btn btn-success greytext" disabled="true"/>
                                   </apex:facet>
                                 </apex:actionStatus>
                            </div>
                        </div>
                        </td>
                      </tr>
                    </table>            

   

     
      



</div>
</apex:outputpanel>
</div>
</apex:outputPanel>
</apex:outputpanel>  

                       
                     <!--Payment Form End Here   -->
                 
                 
                </div>
                <!-- item 2 -->
                <!-- item 3 resulttransactionsucessREG-->
                <div class="item3" id="Regist3">
               
               <apex:outputpanel id="resulttransactionsucessREG">
                <apex:outputpanel rendered="{!displayauthorizationstatus}" >
               
                  <script>
                      $(document).ready( function () {
                      if({!displayauthorizationstatus==true}){
                               $('.countdown.simple').countdown().data('countdown').stop();
                               
  $('#Regist1').hide('slide',{direction: 'left'}, 500);
 $('#Regist2').hide('slide',{direction: 'left'}, 500);
 $('#Regist3').show('slide',{direction: 'right'}, 500);
                         }
                       
                     
                        });
                      
                      </script>
                     
                <apex:outputText value="{!ShowMessageDetails}" escape="false" /><br/><br/>
                <!--<apex:commandButton value="New Registration" action="{!newregistrationredirect}" styleClass="btn btn-success greytext"/> -->
               <center> <apex:commandLink target="_parent" value="New Registration" action="{!refreshpage}"  styleClass="btn btn-success greytext" reRender="reloadpage" />  </center>
                </apex:outputpanel>
                </apex:outputpanel>
                </div>
                
               </div>
              </div>
            <!-- register tabs -->
    

    
    
             </apex:outputPanel>   
    </apex:outputPanel>
    <!-- Registered Attendees Ends here -->
  
          

   
          
          
          
    </apex:outputpanel>
    
    
    <apex:actionRegion >
    <apex:actionFunction rerender="attendeebodyrefresh,attendeevalidation"  name="loadcontactfunction3" action="{!loadcontactattendee}" oncomplete="change_patron();">
             <apex:param name="contactid1"  value="" assignTo="{!contactid}" />
             <apex:param name="contactid2"  value="" assignTo="{!attnno}" />                
            </apex:actionFunction>
            
        
            
            
            
            
            
            
            
            
   </apex:actionRegion>
    <apex:actionStatus id="AttendeeNext"  onstart="showLoadingDiv()" onstop="submitprocess();"/>
                     <apex:actionFunction status="AttendeeNext" rerender="attendeebodyrefresh,attendeevalidation"   name="multiformattendee" action="{!multiformattendee}" oncomplete="change_patron();">
             
                     <apex:param name="attnno"  value="" assignTo="{!attnno}" />                
                    </apex:actionFunction>    
                     <apex:actionStatus id="Attendeeprevious"  onstart="showLoadingDiv()" onstop="submitprocess();"/>
                           <apex:actionFunction status="Attendeeprevious" rerender="attendeebodyrefresh,attendeevalidation"   name="multiformattendeeprv" action="{!previousmultiformattendee}" oncomplete="change_patron();">
             
                             <apex:param name="attnno"  value="" assignTo="{!attnno}" />                
                            </apex:actionFunction>
                 
    <!-- add modal -->
    <apex:outputpanel id="attendeepopup">
   
     <apex:outputpanel rendered="{!attendeedialog}">
    <apex:actionStatus id="sumbitattendee_status" onstart="showLoadingDiv();" onstop="submitcompleteprocess({!if(regid4attendeepopup!=null,ticketinfoshow[regid4attendeepopup].Infoid,' ')});"></apex:actionStatus>
   
        <apex:actionFunction status="sumbitattendee_status" name="CallAttendeeFinishButton"   reRender="Register_levelinformation,Register_Totalsummary,alertmessage" action="{!addattendee}"></apex:actionFunction>
                     
    
    
     <div id="addModal" class="modal hide fade cp_modal"  role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" >     <!-- tabindex="-1"  -->                    

        <script type="text/javascript">
        $(document).ready( function () {              
            // $.fn.modal.Constructor.prototype.enforceFocus = function() {}; 
            $('#tabsleft').bootstrapWizard({
                'tabClass': 'nav nav-tabs',
                 'debug': false,
                
                    onShow: function(tab, navigation, index) {     
                      var $total = navigation.find('li').length;
                       console.log(navigation);
                       
                    }, onNext: function(tab, navigation, index) {
                       var $total = navigation.find('li' ).length; 
                       
                          if(!AttendeeFormValidation(index)){
                               return false;
                            }
                            var Regtype='{!registrationtype}';
                            
                          if(index!=$total){
                          
                         multiformattendee(index);
                         }
                           if(index==$total){                       
                              $('#tabsleft').find('.pager .finish').unbind('click');
                              $('#tabsleft').find('.pager .finish').addClass("disabled");
                              $('#tabsleft').find('.pager .finish a').attr("disabled", "disabled");                          
                             Attendeefinishbutton();                         
                           }                      
                         
                    }, onPrevious: function(tab, navigation, index) {
                        console.log('onPrevious'); 
                        var current = index+1;
                        var Regtype='{!registrationtype}';
                       
                         var previouscheck= $('#tabsleft').find('.pager .previous').hasClass('disabled');
                         
                         if(previouscheck ==false){
                          multiformattendeeprv(current);
                        }
                       
                        
                    }, onLast: function(tab, navigation, index) {
                        console.log('onLast');
                        //alert('test');
                        
                    }, onTabClick: function(tab, navigation, index,clickedIndex) {
                        console.log('onTabClick');
                        var $total = navigation.find('li' ).length;
                       
                        var $current =index+1;
                        return false;
                        
                        /* if(clickedIndex >index){
                           if(!AttendeeFormValidation($current)){return false;}                             
                         }*/                       
                        
                    }, onTabShow: function(tab, navigation, index) {
                        console.log('onTabShow'+index);
                        
                        var $total = navigation.find('li' ).length;
                        var $current = index+1;
                        var $percent = ($current/$total) * 100;
                        $('#tabsleft').find('.bar').css({width:$percent+'%'});
                        
                        // If it's the last tab then hide the last button and show the finish instead
                        if($current >= $total) {
                            $('#tabsleft').find('.pager .next').hide();
                            $('#tabsleft').find('.pager .finish').show();
                            $('#tabsleft').find('.pager .finish').removeClass('disabled');
                        } else {
                            $('#tabsleft').find('.pager .next').show();
                            $('#tabsleft').find('.pager .finish').hide();
                        }
                        
                   /* $('#tabsleft .finish').click(function(tab, navigation, index) {                 
                     if(!AttendeeFormValidation($total)){return false;}                    
                        
                        }); */                   
                   
                 }
            });
            
            function Attendeefinishbutton(){                
                CallAttendeeFinishButton();     
            }
        
        });
        </script>                                 


                          <div class="modal-header">
                          <!--  {!datetime_format} <button type="button" class="close modal_close" data-dismiss="modal" aria-hidden="true">×</button> -->  
                                                 
                             <apex:actionstatus id="CloseAttendeeDialog1" onstart="showLoadingDiv();" onstop="submitcompleteprocess({!if(regid4attendeepopup!=null,ticketinfoshow[regid4attendeepopup].Infoid,'')});" />
                           <apex:commandButton status="CloseAttendeeDialog1"  styleClass="close"  Value="×" immediate="true"  action="{!CloseAttendeeDialog}" reRender="Register_levelinformation" id="Closeattendeebutx"/>
                         
                            <h3 id="myModalLabel">Add New Attendee  |  {!if(regid4attendeepopup!=null,ticketinfoshow[regid4attendeepopup].ReglevelInfo,'')}</h3>
                         
                          </div>
                          
                          <div id="tabsleft" class="">
                          <div class="cp_modal_bordered tabbable tabs-left">
                              <ul id="tabul">
                                 <apex:repeat value="{!TableMultipleAttendeeformdisplay}" var="multipleAttendeeForm1">
                               
                                    <li ><a href="#tabsleft-tab{!addatt}{!multipleAttendeeForm1}" data-toggle="tab">Attendee No:{!multipleAttendeeForm1}</a></li>
                                 </apex:repeat>                               
                                </ul>
                           
                            
                          <div class="modal-body">
                          
                           
                            
                          <div class="form-horizontal">
                           <!--<apex:actionRegion id="actionregionforattendee" > -->
                     
                    
                <apex:outputPanel id="attendeebodyrefresh" > 
                
                   <div class="tab-content">
                   <apex:variable value="1" var="multiplecountform"/>
               
                     <apex:repeat value="{!TableMultipleAttendeeformdisplay}" var="multipleAttendeeForm">
                      <script>
                     
                      $('#tabul li').each(function () {
                     
                        if($(this).attr('class') == 'active') {
                         var tabcontid=$(this).find('a').attr('href');
                         $(tabcontid).addClass('active');
                        }
                      });
                     </script>
                        <div class="tab-pane" id="tabsleft-tab{!addatt}{!multipleAttendeeForm}">
                       
                     <apex:outputPanel rendered="{!if(multipleAttendeeForm==attnno,true,false)}" id="actionregionforattendee1">
                     
                         <script>
                           
                           $(document).ready(function(){
                         
                                $( ".Birthdate_add{!multiplecountform}" ).datepicker({
                                    dateFormat:"{!date_format}",
                                    changeMonth: true,
                                    changeYear: true,
                                    yearRange: '1920:c+0',
                                    maxDate:-0,
                                    numberOfMonths: 1,
                                    buttonImageOnly:true,
                                    buttonText:'',
                                    buttonImage: '{!URLFOR($Resource.CnP_PaaS_EVT__datepicker, "datepicker/calendar.gif")}',
                                    showOn: "both",
                                    autoSize: true,
                                    currentText: "Now",                   
                                });
                                                
                                $( ".DATE_add{!multiplecountform}" ).datepicker({
                                    dateFormat:"{!date_format}",
                                    changeMonth: true,
                                    changeYear: true,
                                    yearRange: 'c-20:c+20',                   
                                    numberOfMonths: 1,
                                    buttonImageOnly:true,
                                    buttonText:'',
                                    buttonImage: '{!URLFOR($Resource.CnP_PaaS_EVT__datepicker, "datepicker/calendar.gif")}',
                                    showOn: "both",
                                });
                                                
                                $('.DATETIME_add{!multiplecountform}').datetimepicker({
                                    language: 'en',
                                    pick12HourFormat: true,
                                    format:"{!datetime_format}", 
                                    
                                    pickerPosition: "bottom-left",              
                                    todayBtn:  1,              
                                    autoclose: 1,                    
                                    timeFormat: 'hh:mm tt',         
                                    showMeridian: 1,
                                });
                                     
                                $(".DATE_add{!multiplecountform}").removeAttr('onfocus'); 
                                $(".DATETIME_add{!multiplecountform}").removeAttr('onfocus');
                                $(".Birthdate_add{!multiplecountform}").removeAttr('onfocus');
                                
                                $(".DATETIME_add{!multiplecountform}").after( "<img class='DATETIME_add{!multiplecountform}' src='{!URLFOR($Resource.CnP_PaaS_EVT__datepicker, 'datepicker/calendar.gif')}' />" );
                              
                               
                               /* var enforceModalFocusFn = $.fn.modal.Constructor.prototype.enforceFocus;

                                $.fn.modal.Constructor.prototype.enforceFocus = function() {};
                                
                                $confModal.on('hidden', function() {
                                    $.fn.modal.Constructor.prototype.enforceFocus = enforceModalFocusFn;
                                });
                                
                                $confModal.modal({ backdrop : false }); */
                                
                                
                                
                            });
                          </script>
                          
                          <apex:pageBlockSection columns="1" collapsible="false" >
                          <apex:pageBlockSectionItem rendered="{!if(registrationtype =='manual',true,false)}"> <!-- rendered="{!if(registrationtype =='manual',true,false)}"  -->
                           
                                  <apex:outputLabel style="text-align:center; padding:0px 5px;" value="Search by first name, last name, or email" ></apex:outputLabel>
                           
                          </apex:pageBlockSectionItem>
                       
                           <apex:pageblockSectionItem rendered="{!if(registrationtype =='manual',true,false)}" >
                              <apex:outputPanel style="text-align:center;display:block;">
                               <apex:outputLabel style="line-height:initial;display:inline-block;padding:initial;padding-right:4px;" value="Existing Patron " ></apex:outputLabel>

                              
                              <apex:inputText size="50" id="account1" styleClass="contactfiled" style="width:200px;float:none;">
                               <c:autocomplete objectname="Contact" additionalfield="Email" autocomplete_textbox="{!$Component.account1}" autocomplete_hidden="contactid1" /> 
                              </apex:inputText> 
                              <input type="hidden" value="{!contactid}" id="contactid1" />
                              
                              <input type="button" onclick="loadcontactfunction2({!multipleAttendeeForm})" style="visibility:hidden;" Class="loadclass btn btn-warning" value="Load" />  
                                 
                                  <script>
                                     function loadcontactfunction2(attno){
                                     var cont= $('#contactid1').val();
                                     $('#contactid2').val(cont);
                                     loadcontactfunction3(cont,attno);                                     
                                     }                                     
                                     </script>         

                               </apex:outputPanel> 
                              </apex:pageblockSectionItem> 
                            </apex:pageBlockSection>
                            <!--<br />-->
                            
                          <apex:pageBlockSection columns="1" collapsible="false" >
                         
                               <apex:repeat value="{!TableMultipleAttendeeformdisplay[multipleAttendeeForm]}" var="fieldA">
                               
                               
                                 <apex:pageBlockSectionItem rendered="{!IF(fieldA.visible==true && fieldA.Field!='MailingCountry' && fieldA.Field!='MailingState' && fieldA.Field!='FirstName' && fieldA.Field!='LastName' && fieldA.Field!='Email',true,false)}" >  
                                   
                                     <apex:outputpanel styleClass="control-group">  
                                                                    
                                     <label>                                      
                                    <apex:OutputText value="{!fieldA.Label}"/>                              
                                    <apex:outputtext value="*" rendered="{!IF(fieldA.req==true,true,false)}" styleclass="{!IF(fieldA.req==true,'req','')}"></apex:outputText>
                                    </label>
                                   </apex:outputpanel>
                                   <apex:outputpanel styleClass="control-group">
                                    <div class="controls">
                                    <apex:inputField value="{!MapContactMulitPopupForm[multipleAttendeeForm][fieldA.Field]}"  onblur="trimvalue(this.value,'{!IF(fieldA.req==true ,fieldA.Field,fieldA.Field)}');"  styleClass="{!IF(fieldA.req==true ,IF($ObjectType.Contact.fields[fieldA.Field].Custom==false,fieldA.Field+'_add'+multiplecountform+' required_add'+multiplecountform,fieldA.FieldType+'_add'+multiplecountform+' required_add'+multiplecountform),if($ObjectType.Contact.fields[fieldA.Field].Custom==false,fieldA.Field+'_add'+multiplecountform,fieldA.Fieldtype+'_add'+multiplecountform))}" />
                                     </div>
                                    </apex:outputPanel>  
                                    
                                 </apex:pageBlockSectionItem>
                                 <apex:pageBlockSectionItem rendered="{!IF(fieldA.visible==true && fieldA.Field=='FirstName',true,false)}" >  
                                   
                                     <apex:outputpanel styleClass="control-group">   
                                        
                                                                 
                                     <label>                                      
                                    <apex:OutputText value="{!fieldA.Label}"/>                              
                                    <apex:outputtext value="*" rendered="{!IF(fieldA.req==true,true,false)}" styleclass="{!IF(fieldA.req==true,'req','')}"></apex:outputText>
                                    </label>
                                   </apex:outputpanel>
                                   <apex:outputpanel styleClass="control-group">
                                    <div class="controls">
                                    <apex:inputText value="{!MapContactMulitPopupForm[multipleAttendeeForm][fieldA.Field]}"  disabled="{!disablefields}"  onblur="trimvalue(this.value,'{!IF(fieldA.req==true ,fieldA.Field,fieldA.Field)}');"  styleClass="{!IF(fieldA.req==true ,IF($ObjectType.Contact.fields[fieldA.Field].Custom==false,fieldA.Field+'_add'+multiplecountform+' required_add'+multiplecountform,fieldA.FieldType+'_add'+multiplecountform+' required_add'+multiplecountform),if($ObjectType.Contact.fields[fieldA.Field].Custom==false,fieldA.Field+'_add'+multiplecountform,fieldA.Fieldtype+'_add'+multiplecountform))}" />
                                     </div>
                                     <input type="hidden" value="{!MapContactMulitPopupForm[multipleAttendeeForm]['id']}"  id="contactidattendee" /> 
                                    </apex:outputPanel>  
                                    
                                 </apex:pageBlockSectionItem>
                                 
                                 <apex:pageBlockSectionItem rendered="{!IF(fieldA.visible==true && fieldA.Field=='LastName',true,false)}" >  
                                   
                                     <apex:outputpanel styleClass="control-group">                                 
                                     <label>                                      
                                    <apex:OutputText value="{!fieldA.Label}"/>                              
                                    <apex:outputtext value="*" rendered="{!IF(fieldA.req==true,true,false)}" styleclass="{!IF(fieldA.req==true,'req','')}"></apex:outputText>
                                    </label>
                                   </apex:outputpanel>
                                   <apex:outputpanel styleClass="control-group">
                                    <div class="controls">
                                    <apex:inputText value="{!MapContactMulitPopupForm[multipleAttendeeForm][fieldA.Field]}" disabled="{!disablefields}" onblur="trimvalue(this.value,'{!IF(fieldA.req==true ,fieldA.Field,fieldA.Field)}');"  styleClass="{!IF(fieldA.req==true ,IF($ObjectType.Contact.fields[fieldA.Field].Custom==false,fieldA.Field+'_add'+multiplecountform+' required_add'+multiplecountform,fieldA.FieldType+'_add'+multiplecountform+' required_add'+multiplecountform),if($ObjectType.Contact.fields[fieldA.Field].Custom==false,fieldA.Field+'_add'+multiplecountform,fieldA.Fieldtype+'_add'+multiplecountform))}" />
                                     </div>
                                    </apex:outputPanel>  
                                    
                                 </apex:pageBlockSectionItem>
                                 <apex:pageBlockSectionItem rendered="{!IF(fieldA.visible==true && fieldA.Field=='Email',true,false)}" >  
                                   
                                     <apex:outputpanel styleClass="control-group">                                 
                                     <label>                                      
                                    <apex:OutputText value="{!fieldA.Label}"/>                              
                                    <apex:outputtext value="*" rendered="{!IF(fieldA.req==true,true,false)}" styleclass="{!IF(fieldA.req==true,'req','')}"></apex:outputText>
                                    </label>
                                   </apex:outputpanel>
                                   <apex:outputpanel styleClass="control-group">
                                    <div class="controls">
                                    <apex:inputText value="{!MapContactMulitPopupForm[multipleAttendeeForm][fieldA.Field]}" disabled="{!disablefields}"  onblur="trimvalue(this.value,'{!IF(fieldA.req==true ,fieldA.Field,fieldA.Field)}');"  styleClass="{!IF(fieldA.req==true ,IF($ObjectType.Contact.fields[fieldA.Field].Custom==false,fieldA.Field+'_add'+multiplecountform+' required_add'+multiplecountform,fieldA.FieldType+'_add'+multiplecountform+' required_add'+multiplecountform),if($ObjectType.Contact.fields[fieldA.Field].Custom==false,fieldA.Field+'_add'+multiplecountform,fieldA.Fieldtype+'_add'+multiplecountform))}" />
                                     </div>
                                    </apex:outputPanel>  
                                    
                                 </apex:pageBlockSectionItem>
                              
                                 <apex:pageBlockSectionItem rendered="{!IF(fieldA.visible==false,false,false)}"> 
                                    <apex:outputPanel styleClass="control-group">
                                    <label>  
                                    <apex:OutputText value="{!fieldA.Label}" /> </label>                             
                                    </apex:outputPanel>
                                     <apex:outputpanel styleClass="control-group">
                                    <div class="controls">
                                    <apex:inputfield value="{!MapContactMulitPopupForm[multipleAttendeeForm][fieldA.Field]}"  styleClass="{!IF(fieldA.req==true ,IF($ObjectType.Contact.fields[fieldA.Field].Custom==false,fieldA.Field&'_add'+multiplecountform+' required_add'+multiplecountform,fieldA.FieldType&'_add'+multiplecountform+' required_add'+multiplecountform),if($ObjectType.Contact.fields[fieldA.Field].Custom==false,fieldA.Field+'_add'+multiplecountform,fieldA.Fieldtype+'_add'+multiplecountform))}"/>
                                       </div>
                                    </apex:outputPanel>
                                  </apex:pageBlockSectionItem>
                               
                                  <apex:pageBlockSectionItem rendered="{!IF(fieldA.visible==true && fieldA.Field=='MailingCountry',true,false)}">
                                
                                   
                                    <apex:outputPanel styleClass="control-group">
                                    <label> 
                                    <apex:OutputText value="{!fieldA.Label}" />                              
                                    <apex:outputtext value="*" rendered="{!IF(fieldA.req==true,true,false)}" styleclass="{!IF(fieldA.req==true,'req','')}"></apex:outputText>
                                   </label>
                                    </apex:outputPanel>
                                        <apex:outputpanel styleClass="control-group">
                                    <div class="controls">  
                                                              
                                    <apex:selectlist value="{!MapContactMulitPopupForm[multipleAttendeeForm][fieldA.Field]}" size="1" style="width:200px;" styleClass="{!IF(fieldA.req==true,fieldA.Field+'_add'+multiplecountform+' required_add'+multiplecountform,fieldA.Field&'_add'+multiplecountform)}" onchange="StateChange({!multiplecountform},this.value,'change');" >
                                      <apex:selectOption itemLabel="Select" itemValue=""/>
                                      <apex:selectOptions value="{!showcountries}"  rendered="{!IF(showcountries.size>0,true,false)}"/>             
                                     <apex:selectOptions value="{!xmlstring.CountryCodes}" rendered="{!IF(showcountries.size>0,false,true)}"/>                                 
                                    </apex:selectlist> 
                                  
                                    <script>  
                                                             
                                       StateChange('{!multiplecountform}','{!MapContactMulitPopupForm[multipleAttendeeForm][fieldA.Field]}','reload');
                                      
                                    </script>
                                    </div>
                                    </apex:outputPanel>
                                  </apex:pageBlockSectionItem>
                               
                                   <apex:pageBlockSectionItem rendered="{!IF(fieldA.visible==true && fieldA.Field=='MailingState' ,true,false)}">  
                                      
                                      <apex:outputPanel styleClass="control-group">
                                    <label>         
                                      <apex:OutputText value="{!fieldA.Label}"/>
                                      <apex:outputtext value="*" rendered="{!IF(fieldA.req==true,true,false)}" styleclass="{!IF(fieldA.req==true,'req','')}"></apex:outputText>
                                      </label>
                                      </apex:outputpanel>
                                    
                                      <apex:outputPanel id="MailingStateid" styleClass="{!fieldA.Field+'_selectoutputpanel'+multiplecountform} control-group" >
                                  <!--    <apex:selectlist value="{!MapContactMulitPopupForm[multipleAttendeeForm][fieldA.Field]}" size="1"  style="width:200px;" styleClass="{!IF(fieldA.req==true,fieldA.Field&'_selectadd'+multiplecountform+' required_add'+multiplecountform ,fieldA.Field+'_selectadd'+multiplecountform)}">
                                         <apex:selectOption itemLabel="Select" itemValue=""></apex:selectOption>
                                         
                                         <apex:selectOptions value="{!showstates}"  />                                              
                                      </apex:selectlist>-->
                                     <div class="controls">  
                                     
                                     
                                      <select style="width:200px;display:{!IF(showStates.size>0,'block','none')}" name="{!MapContactMulitPopupForm[multipleAttendeeForm][fieldA.Field]}" value="{!MapContactMulitPopupForm[multipleAttendeeForm][fieldA.Field]}" Class="{!IF(fieldA.req==true && showStates.size>0,fieldA.Field&'_selectadd'+multiplecountform+' required_add'+multiplecountform ,fieldA.Field+'_selectadd'+multiplecountform)}" onchange="StateChangevalue('{!multiplecountform}',this.value);"> 
                                           <option value="">Select</option>   
                                      </select>
                                     
                                    
                                     
                                       <apex:inputText value="{!MapContactMulitPopupForm[multipleAttendeeForm][fieldA.Field]}" style="{!IF(showStates.size>0,'none','block')}"    styleClass="{!IF(fieldA.req==true,fieldA.Field&'_add'+multiplecountform+' required_add'+multiplecountform ,fieldA.Field+'_add'+multiplecountform)}" /> 
                                      
                                     <!-- <input type="hidden" value=""   Class="{!fieldA.Field&'_hiddenstate'+multiplecountform}" /> -->
                                       </div>
                                      </apex:outputPanel>
                                  </apex:pageBlockSectionItem>
                                  
                               </apex:repeat> 
                              </apex:pageblocksection> 
                                 <script type="text/javascript">
                              
                              
                                 $("#addModal table").addClass("table table-bordered");
                                
                               </script>  
                             
                              
                             <apex:outputpanel >  
                              <apex:variable value="0" var="Attend_num"/> 
                                <apex:repeat value="{!PopupMultipleFormCustomQuestion}" var="multicustomform">
                               
                                <apex:outputpanel rendered="{!if(multicustomform==multipleAttendeeForm,true,false)}">
                              <apex:repeat value="{!PopupMultipleFormCustomQuestion[multipleAttendeeForm]}" var="field1">
                             <apex:outputPanel rendered="{!IF(field1.SectionName!=null,true,false)}" >
                             
                              <div class="well well-small" style="margin-bottom:-3px;margin-top:20px;" >
                                  <h3><apex:outputText value="{!field1.SectionName}" ></apex:outputText></h3>
                              </div>
                             </apex:outputPanel>
                             <apex:outputpanel rendered="{!field1.visible}">
                                  <table class="table table-bordered" style="margin-bottom:-3px;">
                                     <tr>
                                     <td class="small_text form-horizontal">     
                                       
                                       <div class="control-group">
                                        <label class="control-label" for="inputFieldtName">
                                        <apex:outputText value="{!field1.label}" ></apex:outputText>
                                        <apex:outputtext value="{!IF(field1.req==true,'<span class=req>*</span>','')}"  escape="false"></apex:outputText>
                                        </label>
                                       <div class="controls">

                                        <apex:inputText value="{!field1.DefaultValue}" rendered="{!IF(field1.FieldType=='Text box',true,false)}" styleClass="{!IF(field1.req==true,'textbox_add'+multiplecountform+' required_add'+multiplecountform,'textbox_add'+multiplecountform)}"></apex:inputText>
                                        
                                        <apex:inputTextarea value="{!field1.DefaultValue}"  rendered="{!IF(field1.FieldType=='Text area',true,false)}"   styleClass="{!IF(field1.req==true,'textarea_add'+multiplecountform+' required_add'+multiplecountform,'textarea_add'+multiplecountform)}">&nbsp;&nbsp;&nbsp;</apex:inputTextarea>
                                        
                                        <apex:selectRadio value="{!field1.DefaultValue}"  layout="pageDirection" rendered="{!IF(field1.FieldType=='Radio button',true,false)}"  styleClass="{!IF(field1.req==true,'radiobox_add'+multiplecountform+'_'+Attend_num,'test_add'+multiplecountform)}">
                                        <apex:selectOptions value="{!field1.Fieldvalues}"/>
                                        </apex:selectRadio>
                                        
                                        <apex:selectList value="{!field1.DefaultValue}"  size="1" rendered="{!IF(field1.FieldType=='Select list',true,false)}" styleClass="{!IF(field1.req==true,'selectbox_add'+multiplecountform+'_'+Attend_num,'test_add'+multiplecountform)}">
                                           <apex:selectOptions value="{!field1.Fieldvalues}"/>
                                        </apex:selectList>
                                        
                                        <apex:selectcheckboxes value="{!field1.checkedboxValues}" layout="pageDirection"  rendered="{!IF(field1.FieldType=='Check box',true,false)}"  styleClass="{!IF(field1.req==true && field1.FieldType=='Check box','checkbox_add'+multiplecountform+'_'+Attend_num,'test_add'+multiplecountform)}" >
                                        <apex:selectOptions value="{!field1.Fieldvalues}" />
                                        </apex:selectcheckboxes>
                                        
                                        </div>
                                        </div>
                                        <apex:variable var="Attend_num" value="{!VALUE(Attend_num) + 1}"/>
                                        </td>
                                     </tr>
                                    </table>
                                    <apex:inputhidden value="{!field1.QuestionId}"/>
                                    <apex:inputhidden value="{!field1.SectionNamehidden}"/>
                                   </apex:outputpanel>
                                   <apex:outputpanel rendered="{!(field1.visible==false)}">
                                  
                                    <apex:inputHidden value="{!field1.DefaultValue}"/>
                                    <apex:inputhidden value="{!field1.QuestionId}"/>
                                    <apex:inputhidden value="{!field1.SectionNamehidden}"/> 
                                   
                                    </apex:outputpanel>
                                    
                                  </apex:repeat>
                                 
                                  <input type="hidden" value="{!Attend_num}" class="Attend_numvalues" name="Attend_num"/>
                                  </apex:outputpanel>
                                  </apex:repeat>
                                </apex:outputpanel>  
                                
                                 </apex:outputPanel>    <!-- actionregion   -->
                           
                                <apex:variable var="multiplecountform" value="{!VALUE(multiplecountform) + 1}"/>
                        </div>
                      </apex:repeat>
                      
                    
                        
              
        
                       </div>        
                          </apex:outputPanel>       
                                <!-- </apex:actionRegion> -->
                          </div> <!-- modal-body -->                           
                          </div> <!-- form-horizontal -->
                          </div> 
                          
                          
                          <div class="modal-footer">
                            <ul class="pager wizard">                            
                            <li class="previous"><a href="javascript:;">Previous</a></li>                            
                            <li class="next"><a href="javascript:;">Next</a></li>
                            <li class="next finish" style="display:none;"> <a href="javascript:;">Finish</a> </li> 
                            </ul>                            
                    <!--      <apex:actionStatus id="sumbitattendee_statuscmd" onstart="showLoadingDiv();" onstop="submitcompleteprocess({!if(regid4attendeepopup!=null,ticketinfoshow[regid4attendeepopup].Infoid,'')});"> 
                           <apex:facet name="stop">
                        <apex:commandlink status="sumbitattendee_statuscmd" value="Finish" reRender="Register_levelinformation,Register_Totalsummary" action="{!addattendee}" styleClass="finish" id="addattendeebut"/>
                     </apex:facet>
                       <apex:facet name="start">
                       <apex:image value="/img/loading32.gif" style="height: 15px;"/>
                       <apex:commandbutton value="Processing..." styleClass="next finish" status="sumbitattendee_statuscmd" disabled="true"/>
                       </apex:facet>
                     </apex:actionStatus> 
                            </li> -->

                 
                    </div> 
                    </div> <!-- tabsleft -->
                    
                           <!--<button class="btn btn-primary" type="button"  id="addattendeebut" onclick="addattendeefun()">Save Attendee</button> --> 
                      
            <script>
                    // class for rounded table
                  //  $("#addModal table").removeAttr("class");
                     $("#addModal table").addClass("table table-bordered");
            </script>          
                             
       </div> 
 </apex:outputpanel> 
   </apex:outputpanel>                 
                  
    
                
           <!-- display Modal 1 -->
                  <div id="displayModal1" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                   <apex:outputpanel id="displayattendeepopup">
                   <apex:messages />
                          <div class="modal-header">
                            <button type="button" class="close modal_close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h3 id="myModalLabel">Display Attendee | {!if(regid4attendeepopup!=null,ticketinfoshow[regid4attendeepopup].ReglevelInfo,'')}</h3>
                          </div>
                          <div class="modal-body">
                          <div class="form-horizontal">  
                           
                             <h3>Attendee No:{!EditAttendeeindexno}</h3>

                            <apex:pageBlockSection columns="1" collapsible="false" >
                             <apex:repeat value="{!AttendeeContactpopup}" var="editfield">
                                <apex:pageBlockSectionItem rendered="{!IF(editfield.visible==true && editfield.Field!='MailingCountry' && editfield.Field!='MailingState',true,false)}">  
                                    <apex:outputPanel >
                                    <apex:OutputText value="{!editfield.Label}" />                              
                                    <apex:outputtext value="*" rendered="{!IF(editfield.req==true,true,false)}" styleclass="{!IF(editfield.req==true,'req','')}"></apex:outputText>
                                    </apex:outputPanel>
                               <apex:outputPanel >
                                    
                               <apex:outputText value="{!con[editfield.Field]}"  />
                                 </apex:outputPanel>  
                                 </apex:pageBlockSectionItem>
                                  <apex:pageBlockSectionItem rendered="{!IF(editfield.visible==true && editfield.Field=='MailingCountry',true,false)}">
                                
                                    <apex:outputPanel >
                                    <apex:OutputText value="{!editfield.Label}" />                              
                                    <apex:outputtext value="*" rendered="{!IF(editfield.req==true,true,false)}" styleclass="{!IF(editfield.req==true,'req','')}"></apex:outputText>
                                    </apex:outputPanel>
                                                                     
                                      <apex:outputPanel >
                                   <apex:selectlist value="{!con[editfield.Field]}" size="1" style="width:200px;display:{!if(con[editfield.Field] !=null,'block','none')}" disabled="true">
                                      <apex:selectOptions value="{!showcountries}"  rendered="{!IF(showcountries.size>0,true,false)}"/>
                                      <apex:selectOptions value="{!xmlstring.CountryCodes}" rendered="{!IF(showcountries.size>0,false,true)}"/>              
                                                                    
                                    </apex:selectlist> 
                                     
                                    </apex:outputPanel>
                                  </apex:pageBlockSectionItem>
                                   <apex:pageBlockSectionItem rendered="{!IF(editfield.visible==true && editfield.Field=='MailingState' ,true,false)}">  
                                      
                                      <apex:outputPanel >         
                                      <apex:OutputText value="{!editfield.Label}"/>
                                      <apex:outputtext value="*" rendered="{!IF(editfield.req==true,true,false)}" styleclass="{!IF(editfield.req==true,'req','')}"></apex:outputText>
                                      </apex:outputpanel>
                                      
                                      <apex:outputPanel style="display:{!if(con[editfield.Field] !=null,'block','none')}" >
                                     
                                     <apex:selectlist value="{!con[editfield.Field]}" size="1" disabled="true" rendered="{!IF(showStates.size>0,true,false)}"  style="width:200px;" styleClass="{!IF(editfield.req==true,editfield.Field&'_add required_add' ,editfield.Field+'_add')}">
                                          
                                          <apex:selectOptions value="{!showStates}"  />                                                 
                                      </apex:selectlist> 
                                      
                                     
                                       <apex:outputText value="{!con[editfield.Field]}" rendered="{!IF(showStates.size>0,false,true)}" style="width:200px;"  />
                                      </apex:outputPanel>
                                  </apex:pageBlockSectionItem>
                              </apex:repeat>
                             </apex:pageBlockSection>
                              
                             
                             
                             <apex:outputpanel >
                             <apex:repeat value="{!availableAttendeeCustomFields}" var="field2">
                                  <apex:outputPanel rendered="{!IF(field2.SectionName!=null,true,false)}" >
                             
                              <div class="well well-small" style="margin-bottom:-3px;margin-top:20px;" >
                                  <h3><apex:outputText value="{!field2.SectionName}" ></apex:outputText></h3>
                              </div>
                             </apex:outputPanel>
                                 <apex:outputpanel rendered="{!field2.visible}">
                                  
                                  <table class="table table-bordered" style="margin-bottom:-3px;">
                                     <tr>
                                     <td class="small_text form-horizontal">
                                  
                                       <div class="control-group">     
                                       <label class="control-label" for="inputFieldtName">
                                        <apex:outputText value="{!field2.label}"  ></apex:outputText>
                                       <apex:outputtext value="{!IF(field2.req==true,'<span class=req>*</span>','')}"  escape="false"></apex:outputText>
                                       </label>
                               
                                       <div class="controls">
                                   
                                       <apex:inputtext value="{!field2.DefaultValue}" disabled="true"  rendered="{!IF(field2.FieldType=='Text box',true,false)}" />
                                        
                                        <apex:inputTextarea disabled="true" value="{!field2.DefaultValue}"   rendered="{!IF(field2.FieldType=='Text area',true,false)}">&nbsp;&nbsp;&nbsp;</apex:inputTextarea>
                                        
                                        <apex:selectRadio value="{!field2.DefaultValue}" disabled="true"  layout="pageDirection" rendered="{!IF(field2.FieldType=='Radio button',true,false)}"  >
                                        <apex:selectOptions value="{!field2.Fieldvalues}"/>
                                        </apex:selectRadio>
                                        
                                        <apex:selectList value="{!field2.DefaultValue}" disabled="true" size="1" rendered="{!IF(field2.FieldType=='Select list',true,false)}" >
                                           <apex:selectOptions value="{!field2.Fieldvalues}"/>
                                        </apex:selectList>
                                        
                                        <apex:selectcheckboxes value="{!field2.checkedboxValues}" layout="pageDirection" disabled="true" rendered="{!IF(field2.FieldType=='Check box',true,false)}"   >
                                        <apex:selectOptions value="{!field2.Fieldvalues}" />
                                        </apex:selectcheckboxes>
                                       
                                        
                                        </div>
                                        </div>
                                        
                                        
                                        </td>
                                     </tr>
                                    </table>
                            </apex:outputPanel>
                          </apex:repeat>
                          </apex:outputpanel>


                          </div> <!-- modal-body --> 
                          </div> <!-- form-horizontal -->
                          
                          <div class="modal-footer">
                            <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
                      
                           <!-- <button class="btn btn-primary" type="button"  id="editattendee"  onclick="submiteditattendee()">Save Attendee</button> -->
                          </div>
                          
                    <script>
                    // class for rounded table
                   // $("#displayModal1 table").removeAttr("class");
                    $("#displayModal1 table").addClass("table table-bordered table-hover detailListTH");
                    </script>
                  
                   </apex:outputPanel>
                </div>
                
                
                        
                         
                   <!-- remove Modal 1 -->
                <div id="removeModal1" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                  <apex:outputpanel id="removeattendeepopup">
                
                          <div class="modal-header">
                            <button type="button" class="close modal_close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h3 id="myModalLabel">Remove Attendee | {!if(regid4attendeepopup!=null,ticketinfoshow[regid4attendeepopup].ReglevelInfo,'')}</h3>
                          </div>
                          <div class="modal-body">
                          
                            <div class="alert alert-error">
                            <strong>Warning: </strong>
                            
                            <!-- <table>
                            <tr><td>FirstName</td></tr>
                            <apex:repeat value="{!MapContactMulitPopupForm}" var="mulitContAttendee">
                            <tr><td>
                            <apex:outputLabel >{!MapContactMulitPopupForm[mulitContAttendee].FirstName}</apex:outputLabel>
                            </td> </tr>
                            </apex:repeat>
                            </table> -->
                            Attendee(s) will be permanently removed from the Event Level: <strong>{!if(regid4attendeepopup!=null,ticketinfoshow[regid4attendeepopup].ReglevelInfo,'')}</strong>
                            <h3>Are you sure?</h3>
                            </div>
                            
                          </div>
                          <div class="modal-footer">
                            <button class="btn btn-success" data-dismiss="modal" aria-hidden="true">Cancel</button> &nbsp;
                             <apex:actionStatus id="sumbitremoveattendee_status" onstart="showLoadingDiv();" onstop="submitremovecompleteprocess();"> 
                       <apex:facet name="stop">
                        <apex:commandButton status="sumbitremoveattendee_status" value="Yes! Remove it."  reRender="Register_levelinformation,Register_Totalsummary" action="{!removeattendeefrmlevel}" styleClass="btn btn-primary" id="removeattendee"/>
                     </apex:facet>
                       <apex:facet name="start">
                       <apex:image value="/img/loading32.gif" style="height: 15px;"/>
                       <apex:commandbutton value="Processing..." status="sumbitremoveattendee_status" disabled="true" styleClass="btn btn-primary" />
                       </apex:facet>
                     </apex:actionStatus>
                           <!-- <button class="btn btn-primary" type="button"  id="removeattendee" onclick="removeattendeeshow()">Yes! Remove it.</button> -->
                          </div>
                           </apex:outputPanel>
                        </div>
                        
                        
        <apex:outputPanel id="alertmessage">
        <apex:outputPanel layout="block" rendered="{!displayPopUp}">
        <script>
      
        $('#alertmessage').modal(
            {
               backdrop: 'static',
               keyboard: false,
               show:true
            }
        );
         $('#alertmessage').draggable(
      {
       handle: ".modal-footer,.modal-header"
      } 
     );
        
        </script>
            <div id="alertmessage" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"> 
            
                    <div class="modal-header">
                            <button type="button" class="close modal_close" data-dismiss="modal" aria-hidden="true">×</button>
                            <h3 id="myModalLabel">Alert Message </h3>
                    </div>
                          <div class="modal-body">
                          
                            <div class="alert alert-error">
                          
                          <center><apex:pageMessages id="messages" /></center> 
                            </div>
                            
                          </div>
                          <div class="modal-footer">
                            <button class="btn btn-success" data-dismiss="modal" aria-hidden="true">Ok</button> &nbsp;
                            
                           <!-- <button class="btn btn-primary" type="button"  id="removeattendee" onclick="removeattendeeshow()">Yes! Remove it.</button> -->
                          </div>
                           
                        </div>
            
             
            
         </apex:outputPanel>
       </apex:outputPanel>

 <!--popup level description -->    
    
</apex:form>
 <apex:outputtext value="{!themecontent[1]}"  escape="false" rendered="{!if(registrationtype !='manual',true,false)}"/>
 
</apex:outputpanel>
</apex:pageBlock>
<apex:pageBlock rendered="{!if(tc==false,true,false)}">
<apex:outputpanel id="EventTemplatestyle1" styleClass="CPEF">
<apex:outputtext value="{!Themedisplaycontent}"  escape="false" /> 
</apex:outputpanel>
</apex:pageBlock>
 
 <!-- Placed at the end of the document so the pages load faster -->
 
 <script type="text/javascript" src="https://platform.twitter.com/widgets.js"></script> 



 <script src="https://code.jquery.com/ui/1.10.3/jquery-ui.js"></script> 
   
 <!-- <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/jquery-ui-bootstrap-gh-pages/assets/js/jquery-ui-1.10.2.custom.min.js')}" type="text/javascript"></script>  --> 
      
     <!-- <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/frontend-html/js/main.js')}"></script> 
     <script src="http://click-pledge.v-empower.com/web/SALESFORCE/Events2.0/Graphics/frontend-html/js/main.js"></script> -->
     <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/frontend-html/js/main.js')}"></script>
   
   <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/bootstrap-datetimepicker-master/js/bootstrap-datetimepicker.js')}" type="text/javascript"></script>
    <!--<script src="http://click-pledge.v-empower.com/web/Events2.0/Evt_Live/html-admin/Asif_DateTimePicker/jquery.calendar.js" type="text/javascript"></script>  --> 
 
   <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/jquery-countdown/jquery.countdown.js')}" type="text/javascript"></script>
   <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/jquerycreditcarttype/jquery.creditCardValidator.js')}"></script>
   <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/twitter-bootstrap-wizard-master/jquery.bootstrap.wizard.js')}" type="text/javascript"></script>
  <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/twitter-bootstrap-wizard-master/prettify.js')}" type="text/javascript"></script>
 
  <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/frontend-html/js/bootstrap-tab.js')}"></script> 
   <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/frontend-html/js/bootstrap-modal.js')}"></script> 
  <!--  <script src="http://click-pledge.v-empower.com/web/Events2.0/Graphics/frontend-html/js/bootstrap.min.js"></script> -->
  <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/frontend-html/js/bootstrap-transition.js')}"></script>
    <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/frontend-html/js/bootstrap-alert.js')}"></script>
    
    <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/frontend-html/js/bootstrap-dropdown.js')}"></script>
    <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/frontend-html/js/bootstrap-scrollspy.js')}"></script>
    
    <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/frontend-html/js/bootstrap-tooltip.js')}"></script>
   <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/frontend-html/js/bootstrap-popover.js')}"></script>
    <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/frontend-html/js/bootstrap-button.js')}"></script>
    <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/frontend-html/js/bootstrap-collapse.js')}"></script>
<script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/frontend-html/js/bootstrap-carousel.js')}"></script>
    <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/frontend-html/js/bootstrap-typeahead.js')}"></script>
    <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/frontend-html/js/bootstrap-affix.js')}"></script>
    <script src="{!URLFOR($Resource.BootstrapFrontEnd,'BootstrapFrontend/frontend-html/js/application.js')}"></script> 
    


<script>



        var dont_confirm_leave = 0; //set dont_confirm_leave to 1 when you want the user to be able to leave withou confirmation
        var leave_message = 'You sure you want to leave?'
        function chekingforevent(e) 
        {
        
            if(dont_confirm_leave!==1)
            {
            
                if(!e) e = window.event;
                //e.cancelBubble is supported by IE - this will kill the bubbling process.
                e.cancelBubble = true;
                e.returnValue = leave_message;
                //e.stopPropagation works in Firefox.
                if (e.stopPropagation) 
                {
                    e.stopPropagation();
                    e.preventDefault();
                }
               
                
               
                //return works for Chrome and Safari
               
                
            } 
   console.log(leave_message);
  
  return leave_message;
      
     
     
 }   
  
  //  window.onbeforeunload=chekingforevent;
  
   
   
   
    
  function removeattendeefromlist(levelid,attid){
  
  $('#removeModal1').modal('show');
   var lid =levelid;
   var aid=attid;
   removeattendeecall(lid,aid);
  }
 
  
  function RegistrantPaymentButt(){   
   
    $('.loading-indicator1').hide();
  }
  function Anonymouspayment(){
  
      if({!displayauthorizationstatus} ==true){
           $('.loading-indicator1').hide();
           // submitgoforpayment();
              
        
        
      }

  }
 
function generateID(count){
 var stateid =$('.MailingState_selectoutputpanel'+count).attr('id');
              
             $('.MailingState_selectoutputpanel'+count).attr('id',stateid+''+count);
}
     function StateChangevalue(classvalue,value){
             
             $('.MailingState_add'+classvalue).val(value); 
     }
     function StateChange(count,value,action){   
             
            
                           
           
             if(value!=''){
                        CnP_PaaS_EVT.GlobalStatepicklistclass.StateCode(value,function(result,event) {
                    
                     if(event.status){
                     
                         var str;
                         $('.MailingState_selectadd'+count).empty();
                         
                         if(result !=''){   
                         
                          $('.MailingState_add'+count).hide();
                          $('.MailingState_add'+count).addClass('Hiddenstate');                      
                          $('.MailingState_selectadd'+count).show();
                          $('.MailingState_selectadd'+count).removeClass('Hiddenstate');
                          var st = $('.MailingState_add'+count).val();
                          
                            str +="<option value=''>Select</option>";  
                                                                          
                          $.each(result,function(val,item){   
                                          
                                str += '<option value='+item.Id+'>'+ item.CnP_PaaS__State_Name__c +'</option>';
                               
                            
                          }) 
                       
                         $('.MailingState_selectadd'+count).html(str);
                        
                          $('.MailingState_selectadd'+count).val(st);
                         
                        
                         
                       
                         }else{
                          
                           
                          if(action=='change'){
                          $('.MailingState_add'+count).val('');
                          }
                         
                          
                            
                         
                          
                         
                           
                           
                            
                         $('.MailingState_add'+count).show();
                         $('.MailingState_add'+count).removeClass('Hiddenstate');
                         $('.MailingState_selectadd'+count).empty();
                          
                         $('.MailingState_selectadd'+count).hide();
                         $('.MailingState_selectadd'+count).addClass('Hiddenstate');
                         }
                     }
                 });
            } else{
            
                        $('.MailingState_add'+count).val('');
                         $('.MailingState_add'+count).show();
                         $('.MailingState_add'+count).removeClass('Hiddenstate');
                         $('.MailingState_selectadd'+count).empty();
                         $('.MailingState_selectadd'+count).hide();
                         $('.MailingState_selectadd'+count).addClass('Hiddenstate');
            
            
            }
               
                   
     }  
     
      function StateChangeReg(value){   
              StateDataReg(value);             
     }
     function check1(val)
  {
    
     if(val==true)
     {
      
    
       $(".next1").fadeIn(1000); 
     }else{
  
       $(".next1").fadeOut(1000); 
     }
     
  }
  function focuscard(){
     var cardoption= jQuery.trim(jQuery(".cardoption").val());
     var cardreader= jQuery.trim(jQuery(".cardreader").val());
  
     if(cardoption =='CardReader'){ 
     
             jQuery(".cardreaderrow").show();
              jQuery(".cardreader").show();
              jQuery(".cardlabel").show();
             jQuery(".cardreader").focus(); 
             jQuery(".txtCvv").hide();
             
             jQuery(".cvvlabel").hide();
     }else{
      
       jQuery(".txtCvv").show();
       $(".txtCvv").prop('disabled',false);
        jQuery(".cvvlabel").show();
          jQuery(".cardreaderrow").hide();
      jQuery(".cardreader").hide();
      jQuery(".cardlabel").hide();
     }
 } 
  function cardReaderTexChange() {
 
   var carddata = jQuery(".cardreader").val();
   var c=carddata.match(/\?/g);
   if (c.length == 2){ 
       parseCardReader2(carddata.toString()); 
  }
 } 
 
  function parseCardReader2(carddata) { 

        var cardnum = carddata.substr(2,16).replace('^','');;
        var name = carddata.match("/^(.*?)^");
         
        var start_pos = carddata.indexOf('^') + 1;
        var end_pos = carddata.indexOf('^',start_pos);
        var text_to_get = carddata.substring(start_pos,end_pos).replace('/',' ');
        
        var delimitersplit = carddata.split('^');
        
        var expireyear = delimitersplit[2].substr(0,2);
        var expiremonth = delimitersplit[2].substr(2,2);
        jQuery('.txtNameOnCard').val(text_to_get.replace('/',' '));
        var cardnames =text_to_get.split(' ');

if(jQuery('.FirstName').val()=='' ||jQuery('.FirstName').val()=='FirstName' ){
  
    jQuery(".FirstName").val(cardnames[1].replace('/',' '));
    
}
if(jQuery('.LastName').val()=='' || jQuery('.LastName').val()=='LastName')
{
    jQuery(".LastName").val(cardnames[0]);
}

var cardtemp=cardnum.substr(-4);

if(cardnum.length==16)
{
jQuery('.dummycardnumber').val('************'+cardtemp);
}
if(cardnum.length==15)
{
jQuery('.dummycardnumber').val('***********'+cardtemp);
}
jQuery('.txtCardNumber').val(cardnum);

jQuery('.select_ExpirationMonth').val(expiremonth);
jQuery('.select_ExpirationYear').val(expireyear);
jQuery(".cardreader").hide();
jQuery(".cardlabel").hide();
jQuery(".txtCardNumber").hide();


jQuery(".dummycardnumber").show();
}

A4J.AJAX.XMLHttpRequest.prototype._copyAttribute = function (src, dst, attr) {
    var value = src.getAttribute(attr);
    if (value) {
        try {
            dst.setAttribute(attr, value);
        } catch (err) {
            //alert('Error with Salesforce: ' + err.description + '\nattr: ' + attr + '\n');
        }
    }
};

$(document).ready(function() {  

   /* IE11 alert hack */
   isIE11 = !!(navigator.userAgent.match(/Trident/) && !navigator.userAgent.match(/MSIE/));
  /* if(isIE11){
       $('#alertIE11').modal({
          show:true,
          backdrop: 'static',
          keyboard: false
          });
       $(".modal-backdrop").css({'top':'0px','min-height':'2000px','position':'absolute'}); 
   } */  
   
   /* IE8 and below alert hack */           
   if (document.all && (!document.documentMode || (document.documentMode && document.documentMode <= 8))) {
       jQuery('body').addClass('ie8');
       $(".modal-backdrop8").css({'display':'block'});   
   }
  
});   
</script>
<!-- IE11 alert hack -->
<div id="alertIE11" class="modal hide" style="top:300px;position:absolute" data-keyboard="false" data-backdrop="static">
<div class="modal-header">
    <h3 style="font-size:20px;color:#FF0000;text-align:center;display:block;">STOP!</h3>
  </div>
  <div class="modal-body">
    <p style="font-size:15px;color:#FF0000;text-align:center;">You are using Internet Explorer (IE) 11. Unfortunately the registration form does not support IE 11. Please use the latest version of Chrome, Firefox, Opera or Safari.</p>
  </div>
  <div class="modal-footer">
  </div>
</div>
<!-- IE8 and below alert hack -->
<div id="alertIE8" class="modal hide" style="top:300px;position:absolute">
  <div class="modal-header">
    <strong style="font-size:20px;color:#FF0000;text-align:center;display:block;">STOP!</strong>
  </div>
  <div class="modal-body">
    <p style="font-size:15px;color:#FF0000;text-align:center;">You are using Internet Explorer (IE) 8 or below. Unfortunately the registration form does not support IE 8 and Below. Please use the latest version of Chrome, Firefox, Opera or Safari.</p>
  </div>
  <div class="modal-footer">
  </div>
</div>
<div class="modal-backdrop8" style="display:none;"></div>

</apex:page>