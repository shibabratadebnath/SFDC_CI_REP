<apex:page controller="CnP_PaaS_EVT.EventManualRegistration" action="{!createregistrant}" tabStyle="CnP_PaaS_EVT__Event_registrant_session__c" showHeader="false" sidebar="false">


<head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
        <link type="text/css" rel="stylesheet" href="{!URLFOR($Resource.jquerygird, "media/css/demo_page.css")}" />
        <link type="text/css" rel="stylesheet" href="{!URLFOR($Resource.jquerygird, "media/css/demo_table_jui.css")}" />
        <link type="text/css" rel="stylesheet"  href="{!URLFOR($Resource.jquerygird, "media/jquery-ui-1.8.4.custom.css")}" />       
        <link type="text/css" rel="stylesheet"  href="{!URLFOR($Resource.datepicker, "datepicker/jquery.datepick.css")}" />   
  </head>
   <style> 

/* CSS Document */
.summaryright {
    text-align:right;
    font-weight:bold;
    display:block;
    float:left;
    width: 20%;
    /*height:20px;*/
    color: #666666;
}
.summaryleft {
    font-weight:bold;
    text-align:right;
    display:block;
    float:left;
    width:80%;
    height:20px;
    color: #666666;
}
table.display {
    border-collapse: collapse;
    clear: both;
    margin: 0 auto;
    width: 100%;
}
a.appcou {
    float:right;
    clear:both;
    display:block;
    text-decoration:none;
    margin:5px 0px 0px 0px;
    font-size: 11px;
    padding: 5px 8px;
    background-color:#DFDFDF;
    font-size:11px;
    color:#333333;
    text-shadow: 1px 1px 0 #FFFFFF;
    font-weight:bold;
    border-radius:5px;
    -moz-border-radius: 5px;
    -webkit-border-radius: 5px;
 background: url( {
!URLFOR($Resource.jquerygird, "media/images/ui-bg_highlight-soft_75_cccccc_1x100.png")
}
) repeat-x scroll 50% 50% #CCCCCC;
}
#cnp {
    line-height:25px;
    color:#CCC;
    font-family:Arial, Helvetica, sans-serif;
    font-size:11px;
    max-width:700px;
    text-align:center;
    margin:0 auto;
}
.errorMsg {
    color:#ff0000;
    font-size:11px;
}
.ttt {
    text-align:left;
}
.add_btn {
 // background:url( {!URLFOR($Resource.PopupPage, "add_text_btn.png")}) no-repeat top;
 border: medium none;
 cursor: pointer;
 height: 26px;
 width: 70px;
}
a.Edit {
    width: 25px;
*/  border: medium none;
    cursor: pointer;
    display:block;
    float:left;
    color:#09F;
    text-decoration:none;
    padding:2px;
}
a.Delete {
 background:url( {!URLFOR($Resource.PopupPage, "del_btn.png")} ) no-repeat top;
height: 28px;
 border: medium none;
 cursor: pointer;
 display:block;
           /*  float:left;             width: 25px; */
             color:#09F;
 text-decoration:none;
 padding:2px;
}
.popupBackground {
 opacity: 0.70;
 filter: alpha(opacity = 70);
 position: absolute;
 width: 100%;
 height: 1200px;
 top: 0;
  background:url( {!URLFOR($Resource.PopupPage, "overlay.png")}) repeat;
 left: 0;
 z-index: 9998;
}
.custPopup {
    background-color: #fff;
    /* border-width: 3px;
            border-style: solid;*/
            z-index: 9999;
    left: 48%;
    padding:10px 10px 10px 60px;
    position: absolute;
    /* These are the 3 css properties you will need to change so the popup 
            displays in the center of the screen. First set the width. Then set 
            margin-left to negative half of what the width is. You can add 
            the height property for a fixed size pop up if you want.*/
            width: 500px;
    margin-left: -250px;
    top:100px;
    box-shadow:inset 0px 1px 5px rgba(0, 0, 0, 0.5);
    -moz-box-shadow:inset 0px 1px 5px rgba(0, 0, 0, 0.5);
    -webkit-box-shadow:inset 0px 1px 5px rgba(0, 0, 0, 0.5);
    border-radius:10px;
    -moz-border-radius: 10px;
    -webkit-border-radius: 10px;
}
.Close, .cls { 
height: 30px;
width: 30px;
cursor: pointer;
color: black;
line-height: 10px;
position: absolute;
background:url( {!URLFOR($Resource.PopupPage, "close-button.png")}) no-repeat top!important;
right: 10px;
top: 10px;
border: none!important;
border-radius: 0px!important;
}
.overlay {
    
 background-color:black;
 display:none;
 background:url( {!URLFOR($Resource.PopupPage, "overlay.png")}) repeat;
 opacity: 0.40;
 filter: alpha(opacity = 40);
 position: absolute;
 width: 100%;
 z-index: 9999;
 top: 0;
 left: 0;
}
.datepick-popup {
    z-index: 9999;
}
.TotalAlign {
    text-align:center;
}
.dateFormat {
    display:none;
}
.datepick-trigger {
    Padding-left:2px;
}
.pbSubsection .requiredBlock {
    background-color: transparent;
    bottom: 1px;
    height: 20px;
    left: -4px;
    position: absolute;
    top: 0px!important;
    width: 3px;
   color: #CC0000;
}
select {
    margin-left:3px;
}
.Valid {
    color: #090;
    display: block;
    float:right;
    font-size:11px;
    font-weight:normal;
}
.Invalid {
    color: #FF0000;
    display: block;
    font-weight:normal;
    float:right;
    font-size:11px;
}
.displaylevel tr td {
   border-bottom: 1px solid #DDDDDD;
    overflow: hidden;
    padding: 10px 0 3px;
    height: 42px;
    width:200px;
}
.displaylevel, .display {
   color: #666;

}
.display tr td {
      border-bottom: 1px solid #DDDDDD;
   width:10px;
}
a.linktip {
    text-decoration:none;
    color: #007CA5;
    padding: 0 5px;
}
a.linktip:hover {
    color:#999;
}
.toolTip {
    /* background: none repeat scroll 0 0 #FFFFCC;
    border: 1px solid #FF9900;
    bottom: 16%;
    font-family: tahoma;
    font-size: 11px;
   // margin-left: 75px;
    padding: 3px;
    margin-left: 10px;
    margin-top: 5px;
    position: absolute;
    width: 449px;   
    line-height: 19px;
    display:block;
    z-index:200;*/
    position:absolute;
    z-index:200; /* aaaalways on top*/
    padding: 3px;
    margin-left: 10px;
    margin-top: 10px;
    width: 450px;
    border: 1px solid #FF9900;
    background: none repeat scroll 0 0 #FFFFCC;
    font-family: tahoma;
    font-size: 11px;
}
#dialog-overlay {
    /* set it to fill the whil screen */
    width:100%;
    height:100%;
    /* transparency for different browsers */
    filter:alpha(opacity=50);
    -moz-opacity:0.6;
    -khtml-opacity: 0.6;
    opacity: 0.6;
    /* make sure it appear behind the dialog box but above everything else */
    position:absolute;
    top:0;
    left:0;
    z-index:3000;
    /* hide it by default */
    display:none;
}
#dialog-box {
    /* css3 drop shadow */
    -webkit-box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
    -moz-box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
    /* css3 border radius */
    -moz-border-radius: 5px;
    -webkit-border-radius: 5px;
    background:#FFF;
    /* styling of the dialog box, i have a fixed dimension for this demo    width:328px; */ 
 
    
    /* make sure it has the highest z-index */
    position:absolute;
    z-index:5000;
    /* hide it by default */
    display:none;
}
#dialog-box .dialog-content {
    /* style the content */
    text-align:left;
    padding:10px;
    margin:13px;
    color:#666;
    font-family:arial;
    font-size:12px;
    width: 549px;
}
/*
a.button {
    /* styles for button background-color: #e33100;*/
    margin:10px auto 0 auto;
 text-align:center;
 display: block;
 width:50px;
 padding: 5px 10px 6px;
 color: #fff;
 text-decoration: none;
 font-weight: bold;
 line-height: 1;
    
    /* css3 implementation :) */
    -moz-border-radius: 5px;
 -webkit-border-radius: 5px;
 -moz-box-shadow: 0 1px 3px rgba(0,0,0,0.5);
 -webkit-box-shadow: 0 1px 3px rgba(0,0,0,0.5);
 text-shadow: 0 -1px 1px rgba(0,0,0,0.25);
 border-bottom: 1px solid rgba(0,0,0,0.25);
 position: relative;
 cursor: pointer;
}
a.button:hover {
    background-color: #c33100;
}
*/ /* extra styling */
#dialog-box .dialog-content p {
 font-weight:700;
margin:0;
}
#dialog-box .dialog-content ul {
    margin:10px 0 10px 20px;
    padding:0;
    height:50px;
}
.ui-widget-header {
    height:20px;

}
.req{
//border-left:3px;

//border-left-style:solid;
color: #CC0000;

}
.btn next Submit test1
{
color: #E60E47
}
.black_overlay{
display: none;
position: absolute;
top: 0%;
left: 0%;
width: 100%;
height: 100%;
background-color: black;
z-index:1001;
-moz-opacity: 0.8;
opacity:.40;
filter: alpha(opacity=80);
}
.white_content {
display: none;
position: absolute;
text-align: center;
top: 30%;
left: 35%;
/*width: 25%;
height: 12%;*/
padding: 16px;
background-color: white;
z-index:1002;
overflow: auto;
border-radius:20px;
-webkit-border-radius: 20px;
-moz-border-radius: 20px;
border:1px solid #000;
} 


 </style> 
  <script type="text/javascript" language="javascript" src="{!URLFOR($Resource.datepicker, "datepicker/jquery.datepick.js")}"></script>   
        <script src="{!URLFOR($Resource.DateTimePicker, "DateTimePicker/jquery.calendar.js")}" type="text/javascript"></script>   
        <link type="text/css" rel="stylesheet"  href="{!URLFOR($Resource.DateTimePicker, "DateTimePicker/jquery.calendar.css")}" />
   <script type="text/javascript">

      function setFocusOnLoad(){
      
       $(".DATETIME1").calendar({
                
                dateFormat:'MDY/',
                autoPopUp: "both",
                buttonImageOnly:true,
                buttonImage:'{!URLFOR($Resource.datepicker, "datepicker/calendar.gif")}',
                buttonText:'',              
                timeSeparators:[' ',':',' AM',' PM'],
                }
                
                );
               
                        
                         
               $('.Birthdate1').datepick({yearRange: 'c+0:1920',maxDate:-0,showTrigger: '<img src="{!URLFOR($Resource.datepicker, "datepicker/calendar.gif")}" alt="Calendar"></img>'});
               
               $('.DATE1').datepick({
                   
                         showTrigger: '<img src="{!URLFOR($Resource.datepicker, "datepicker/calendar.gif")}" alt="Calendar"></img>'
             });
            $(".DATE1").removeAttr('onfocus'); 
            $(".DATETIME1").removeAttr('onfocus');
            $(".Birthdate1").removeAttr('onfocus');
      }

          $(document).ready(function (){ 

             
               

            });

       

        </script>    
    
<script type="text/javascript">
window.onload=function(){
jQuery(".cardlabel").hide();
}

$(document).ready(function () {


   $('.add_btn').click(function(){
             $('body,html').animate({ scrollTop: 0 }, 0);
           
    });
         
    // if user clicked on button, the overlay layer or the dialogbox, close the dialog  
    $('a.btn-ok, #dialog-overlay, #dialog-box').click(function () {     
        $('#dialog-overlay, #dialog-box').hide();       
        return false;
    });
    
    // if user resize the window, call the same function again
    // to make sure the overlay fills the screen and dialogbox aligned to center    
    $(window).resize(function () {        
        //only do it if the dialog box is not hidden
        if (!$('#dialog-box').is(':hidden')) popup();       
    });
    $("#light").attr('style','display:none');
      $("#fade").attr('style','display:none'); 
    
});

//Popup dialog
function popup(message) {
    
    //alert(message);
    // get the screen height and width  
    var maskHeight = $(document).height();  
    var maskWidth = $(window).width();
    
    // calculate the values for center alignment
    var dialogTop =  (maskHeight/3) - ($('#dialog-box').height());  
    var dialogLeft = (maskWidth/2) - ($('#dialog-box').width()/2); 
    if(message != "")
    {

    $('#dialog-overlay').css({height:maskHeight, width:'100%'}).show();
    $('#dialog-box').css({top:'100px'}).show();
    
   
    $('body,html').animate({ scrollTop: 0 }, 0);
  
   
       $('#dialog-message').html(message);
    }
   if(message == "")
    {
         
    $('#dialog-overlay').css({height:maskHeight, width:'100%'}).show();
    $('#dialog-box').css({top:'100px'}).show();
    
    // $('#dialog-overlay').css({height:maskHeight, width:maskWidth}).show();
   // $('#dialog-box').css({top:dialogTop, left:dialogLeft}).show();

    $('body,html').animate({ scrollTop: 0 }, 0);
    // display the message
   
    $('#dialog-message').html('Sorry! No Description');
         
         
    }
            
} 
   function FormValidation()
   {        
                var t=0;
                $(".required").each(function(){                    
                     var required_fields=$.trim($(this).val()); 
                     $(this).attr('value',required_fields);
                     if(required_fields=="")                      
                     {    t=t+1;
                          alert("Please enter required fields");
                          $(this).focus();
                          return false;   
                     }               
               });  
             
              if(t==0){     
               var fn = $(".FirstName").val();
               var ln = $(".LastName").val();
               var email = $(".Email").val();
               var dob = $(".Birthdate").val();
               var phone = $(".Phone").val();               
               var an = $(".AssistantName").val();
               var ap = $(".AssistantPhone").val();
               var fax = $(".Fax").val();               
               var dp = $(".Department").val();
               var dis = $(".Description").val();
               var HomePhone = $(".HomePhone").val();
               var LeadSource = $(".LeadSource").val();
               var MailingCity = $(".MailingCity").val();
               var MailingCountry = $(".MailingCountry").val();
               var MailingState = $(".MailingState").val();
              
               var MailingStreet = $(".MailingStreet").val();
               var MailingPostalCode = $(".MailingPostalCode").val();
               var MobilePhone = $(".MobilePhone").val();
               var OtherCity = $(".OtherCity").val();
               var OtherCountry = $(".OtherCountry").val();
               var OtherPhone = $(".OtherPhone").val();
               var CnP_PaaS__Other_Province__c = $(".CnP_PaaS__Other_Province__c").val();
               var OtherState = $(".OtherState").val();
               var OtherStreet = $(".OtherStreet").val();
               var OtherPostalCode = $(".OtherPostalCode").val();
               var Salutation = $(".Salutation").val();
               var Title_1 = $(".Title").val();
               var reg = /^([A-Za-z0-9_\-\.\+])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
               var reg_text=/^([a-zA-Z0-9\'\,\.\-\@\+\ ])+$/;
               var reg_num=/^([0-9\.\-\(\)\ ])+$/;
               var reg_zip=/^([A-Za-z0-9\.\-\ ])+$/;
               var reg_Phone=/^([0-9\.\-\+\(\)\ ])+$/;
               
               var reg_fname=/^([a-zA-Z0-9\.\,\#\&\-\'\ ])+$/;
               
               if(fn!="" && ( reg_fname.test(fn)==false ))
               {
                  t=t+1;
                  alert("Please enter a valid data");
                  $(".FirstName").focus();
                  return false;
               }
               if(ln!="" && ( reg_fname.test(ln)==false )){
                  t=t+1;
                  alert("Please enter a valid data");
                  $(".LastName").focus();
                  return false;
               }               
               if(email!="" &&  reg.test(email)==false && email!=undefined)
               {
                   t=t+1;
                   alert("Please enter a valid Email");
                   $(".Email").focus();
                   return false;
               }            
                 reg_dob = /^(\d{1,2})\/(\d{1,2})\/(\d{4})$/;
               if(dob!="" && reg_dob.test(dob)==false && dob!=undefined)
               {                  
                    alert("Please enter the valid date ");
                    $(".Birthdate").focus();
                    return false;
               }               
               if(phone!="" && phone!=undefined && ( reg_Phone.test(phone)==false)){
                   t=t+1;
                   alert("Please enter a valid phone number");
                   $(".Phone").focus();
                   return false;
               }  
                         
               if(an!="" && an!=undefined && (reg_text.test(an)==false )){
                  t=t+1;
                   alert("Please enter a valid data");
                   $(".AssistantName").focus();
                   return false;
               }
               
               if(ap!="" && ap!=undefined  && ( reg_Phone.test(ap)==false)){
                   t=t+1;
                   alert("Please enter a valid phone number");
                   $(".AssistantPhone").focus();
                   return false;
               }    
               if(fax!="" && fax!=undefined  && ( reg_num.test(fax)==false)){
                   t=t+1;
                   alert("Please enter a valid fax number");
                   $(".Fax").focus();
                   return false;
               }                 
               if(dp!="" && dp!=undefined  && (reg_text.test(dp)==false )){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".Department").focus();
                   return false;
               }
               if(dis!="" && dis!=undefined  && (reg_text.test(dis)==false )){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".Description").focus();
                   return false;
               }
              if(HomePhone!="" && HomePhone!=undefined && ( reg_Phone.test(HomePhone)==false )){
                  t=t+1;
                   alert("Please enter a valid number");
                   $(".HomePhone").focus();
                   return false;
               }    
               
               if(MailingCity!="" && MailingCity!=undefined  && (reg_text.test(MailingCity)==false )){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".MailingCity").focus();
                   return false;
               }
              if(MailingCountry!="" && MailingCountry!=undefined && (reg_text.test(MailingCountry)==false ) || MailingCountry=="---select---" ){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".MailingCountry").focus();
                   return false;
               }
               if(MailingState!="" && MailingState!=undefined && (reg_text.test(MailingState)==false )){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".MailingState").focus();
                   return false;
               }
               if(MailingStreet!="" && MailingStreet!=undefined && (reg_text.test(MailingStreet)==false)){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".MailingStreet").focus();
                   return false;
               }
              if(MailingPostalCode!="" && MailingPostalCode!=undefined && (reg_zip.test(MailingPostalCode)==false )){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".MailingPostalCode").focus();
                   return false;
               }
              if(MobilePhone!="" && MobilePhone!=undefined && (reg_Phone.test(MobilePhone)==false)){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".MobilePhone").focus();
                   return false;
               }
               if(OtherCity!="" && OtherCity!=undefined && (reg_text.test(OtherCity)==false)){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".OtherCity").focus();
                   return false;
               }
              if(OtherCountry!="" && OtherCountry!=undefined  && (reg_text.test(OtherCountry)==false)){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".OtherCountry").focus();
                   return false;
               }
              if(OtherPhone!="" && OtherPhone!=undefined  && (reg_Phone.test(OtherPhone)==false )){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".OtherPhone").focus();
                   return false;
               }
               if(CnP_PaaS__Other_Province__c!="" && CnP_PaaS__Other_Province__c!=undefined && (reg_text.test(CnP_PaaS__Other_Province__c)==false )){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".CnP_PaaS__Other_Province__c").focus();
                   return false;
               }
               if(OtherState!="" && OtherState!=undefined && (reg_text.test(OtherState)==false )){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".OtherState").focus();
                   return false;
               }
              if(OtherStreet!="" && OtherStreet!=undefined && (reg_text.test(OtherStreet)==false )){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".OtherStreet").focus();
                   return false;
               }
               if(OtherPostalCode!="" && OtherPostalCode!=undefined && (reg_zip.test(OtherPostalCode)==false )){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".OtherPostalCode").focus();
                   return false;
               }                                           
               if(Title_1!="" && Title_1!=undefined && (reg_text.test(Title_1)==false )){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".Title").focus();
                   return false;
               }
                 
              }
               $('.textbox').each( function(){
                     var t1=$.trim($(this).val()); 
                    
                     $(this).attr('value',t1);
                    if(t1!="" && (!reg_text.test(t1)) ){
                          t=t+1;
                          alert("Please enter valid data");
                          $(this).focus();
                          return false; 
                     }
               })  
               
              
               $('.textarea').each( function(){
                     var r1=$.trim($(this).val());
                    
                     $(this).attr('value',r1);
                     if(r1!="" && (!reg_text.test(r1))){
                          t=t+1;
                          alert("Please enter valid data");
                          $(this).focus();
                          return false; 
                     }
               }) 
             
              
               if(t==0)
               {  var ro = $(".rowvalues").val();
               
                  for(var i=0;i<ro;i++)
                  {
                       var ch=0;
                       var re=0;                       
                       $(".checkbox"+i+" input:checkbox").each(function(){
                            re=1;    
                            if($(this).is(':checked')==true)
                            {                           
                                 ch=1;                                
                            }                   
                       });
                       
                       if(ch==0 && re==1)
                       {
                           alert("Please select at least one checkbox");
                           return false;
                       }
                       var ra=0;
                       var cr=0;
                       $(".radiobox"+i+" input:radio").each(function(){
                            cr=1;        
                            if($(this).is(':checked')==true)
                            {
                                ra=1;
                            }
                       
                       })
                       
                       if(ra==0 && cr==1)
                       {
                               alert("Please select at least one radiobox");
                               return false;
                       }                       
                       
                  }
               }
              
               if(t==0)
               {
                 
                   return true; 
               }else{
                   return false;
               }        
              
   } 
   
 function paymentvalidation(disppaymenttype){ 

   var t=0;
   
           $(".required1").each(function(){  
                            
                     var required_fields=$.trim($(this).val()); 
                     $(this).attr('value',required_fields);
                     if(required_fields=="")                      
                     {    t=t+1;
                          alert("Please enter required fields");
                          $(this).focus();
                          return false;   
                     }               
               });  
               
    
                
           
  
   if(t==0){    
                 
               var fn = $(".FirstName1").val();
               var ln = $(".LastName1").val();
               var email = $(".Email1").val();
               var dob = $(".Birthdate1").val();
               var phone = $(".Phone1").val();               
               var an = $(".AssistantName1").val();
               var ap = $(".AssistantPhone1").val();
               var fax = $(".Fax1").val();               
               var dp = $(".Department1").val();
               var dis = $(".Description1").val();
               var HomePhone = $(".HomePhone").val();
              // var CnP_PaaS_EVT__Languages__c = $(".CnP_PaaS_EVT__Languages__c").val();
               var LeadSource = $(".LeadSource1").val();
              // var CnP_PaaS_EVT__Level__c = $(".CnP_PaaS_EVT__Level__c").val();
               var MailingCity = $(".MailingCity1").val();
               var MailingCountry = $(".MailingCountry1").val();
               var MailingState = $(".MailingState1").val();
               var MailingStreet = $(".MailingStreet1").val();
             
               var MailingPostalCode = $(".MailingPostalCode1").val();
               var MobilePhone = $(".MobilePhone1").val();
               var OtherCity = $(".OtherCity1").val();
               var OtherCountry = $(".OtherCountry1").val();
               var OtherPhone = $(".OtherPhone1").val();
               var CnP_PaaS__Other_Province__c = $(".CnP_PaaS__Other_Province__c1").val();
               var OtherState = $(".OtherState1").val();
               var OtherStreet = $(".OtherStreet1").val();
               var OtherPostalCode = $(".OtherPostalCode1").val();
               var Salutation = $(".Salutation1").val();
               var Title_1 = $(".Title1").val();
               var DateField=$(".DATE1").val();
               var PhoneField =$(".PHONE1").val();
               var EmailField=$(".EMAIL1").val();
               var DateTimeField=$(".DATETIME1").val();
              
               var UrlField =$(".URL1").val();
               var PercentageField=$(".PERCENT1").val(); 
               var NumberField= $(".DOUBLE1").val();
            //   Var CurrencyField= $(".CURRENCY1").val(); 
               var Textareafield= $(".TEXTAREA1").val(); 
               var amount = $(".MaxAmount").val();
           //   var totalamount=$("#netpriceamount").val();
               var Checkbox =$(".BOOLEAN1").attr('checked');
              
            
               var reg = /^([A-Za-z0-9_\-\.\+])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
               var reg_text=/^([a-zA-Z0-9\'\,\.\-\ ])+$/;
               var reg_fname=/^([a-zA-Z0-9\.\,\#\&\-\'\ ])+$/;
               var reg_billingcity=/^([a-zA-Z0-9\.\,\&\-\'\ ])+$/;
               var reg_billingprovince=/^([a-zA-Z0-9\.\,\&\-\'\ ])+$/;
               var reg_billingpostalcode=/^([a-zA-Z0-9\.\-\ ]{2,20})+$/;
               var reg_billingphone=/^([0-9\.\-\(\)\+\ ])+$/;
               var reg_billingaddress1=/^([a-zA-Z0-9\.\,\#\&\-\'\ ])+$/;
                var reg_cardname=/^([a-zA-Z0-9\.\,\#\-\'\ ])+$/;
               
               var reg_num=/^([0-9\.\-\(\)\ ])+$/;
               var reg_zip=/^([A-Za-z0-9\.\-\ ])+$/;
               var reg_email =/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/;
               var reg_Phone=/^([0-9+\.\-\(\)\ ])+$/;
               // var  reg_dob = /^(\d{1,2})\/(\d{1,2})\/(\d{4})$/;
               var reg_dob=/^\d{1,2}\/\d{1,2}\/\d{4}$/;
               var validformattime = /^\d{1,2}:\d{2}$/;
               var pattern = /(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;
               var validatepercentage =/^(100(?:\.0{1,2})?|0*?\.\d{1,2}|\d{1,2}(?:\.\d{1,2})?)$/;
               var check=new Date();
               var c_mo=(check.getMonth()+1);
               var c_ye=check.getFullYear();
               c_ye =c_ye.toString().slice(2);
               var mo = $(".select_ExpirationMonth").val();
               var yr = $(".select_ExpirationYear").val();
               c_mo += '';
                
               if(c_mo.length==1){
                   c_mo = '0'+c_mo;
               }
               var  numvalidation =/^([0-9])+$/;
               var  stringnumsvalidation=/^([a-zA-Z0-9\.\,\#\&\-\'\ ])+$/;
               var creditnamevalidation=/^([a-zA-Z0-9\.\,\#\&\-\ ])+$/;
               var creditcardname =jQuery.trim(jQuery(".txtNameOnCard").val());
               var nameonaccount =jQuery.trim(jQuery(".txtNameOnAccount").val());
               var reg_cardtype =/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})+$/;
               
               if(fn!="" && ( reg_fname.test(fn)==false || !fn.indexOf(' ',0)))
               {
                  t=t+1;
                  alert("Please enter a valid data");
                  $(".FirstName").focus();
                  return false;
               }
               if(ln!="" && ( reg_fname.test(ln)==false || !ln.indexOf(' ',0))){
                  t=t+1;
                  alert("Please enter a valid data");
                  $(".LastName").focus();
                  return false;
               }      
                       
               if(email!="" &&  reg.test(email)==false && email!=undefined)
               {
                   t=t+1;
                   alert("Please enter a valid Email");
                   $(".Email").focus();
                   return false;
               }
               if(amount>99999999.99){
                 t=t+1;
                 alert("Additional donation must be less than 99999999.99");
                   $(".MaxAmount").focus();
                   return false
                  }
               if(dob!="" && reg_dob.test(dob)==false && dob!=undefined)
               {                  
                    alert("Please enter the valid date ");
                    $(".Birthdate").focus();
                    return false;
               }   
                            
              if(phone!="" && phone!=undefined && ( reg_Phone.test(phone)==false || !phone.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid phone number");
                   $(".Phone").focus();
                   return false;
               }  
                          
               if(an!="" && an!=undefined && (reg_text.test(an)==false || !an.indexOf(' ',0))){
                  t=t+1;
                   alert("Please enter a valid data");
                   $(".AssistantName").focus();
                   return false;
               }
                
              if(ap!="" && ap!=undefined  && ( reg_Phone.test(ap)==false || !ap.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid number");
                   $(".AssistantPhone").focus();
                   return false;
               }  
               
               if(fax!="" && fax!=undefined  && ( reg_num.test(fax)==false || !fax.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid number");
                   $(".Fax").focus();
                   return false;
               }   
                             
              if(dp!="" && dp!=undefined  && (reg_text.test(dp)==false || !dp.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".Department").focus();
                   return false;
               }
               
               if(dis!="" && dis!=undefined  && (reg_text.test(dis)==false || !dis.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".Description").focus();
                   return false;
               }
               
              if(HomePhone!="" && HomePhone!=undefined && ( reg_billingphone.test(HomePhone)==false || !HomePhone.indexOf(' ',0))){
                  t=t+1;
                   alert("Please enter a valid number");
                   $(".HomePhone").focus();
                   return false;
               }    
            
             if(MailingCity!="" && MailingCity!=undefined ){
                  
                  if(reg_billingcity.test(MailingCity)==false || !MailingCity.indexOf(' ',0)){
                       t=t+1;
                       alert("Please enter a valid data");
                       $(".MailingCity").focus();
                       return false;
                  }
                  if(MailingCity.length<2 || MailingCity.length>40){
                       t=t+1;
                       alert("City should be 2 to 40 characters only");
                       $(".MailingCity").focus();
                       return false;
                  }
             
              }
               
           
                 
               if(MailingCountry!="" && MailingCountry!=undefined && (reg_text.test(MailingCountry)==false ||  MailingCountry=="---select---")){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".MailingCountry1").focus();
                   return false;
               }
               if(MailingState!="" && MailingState!=undefined && (reg_billingprovince.test(MailingState)==false || !MailingState.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".MailingState1").focus();
                   return false;
               }
               
               if(MailingStreet!="" && MailingStreet!=undefined){
                 
                   if(reg_billingaddress1.test(MailingStreet)==false || !MailingStreet.indexOf(' ',0)){
                           t=t+1;
                           alert("Please enter a valid data");
                           $(".MailingStreet").focus();
                           return false;
                   }
                    if(MailingStreet.length<2 || MailingStreet.length>255){
              
                            t=t+1;
                            alert("Address should be 2 to 255 characters only");
                            $(".MailingStreet").focus();
                            return false;
                    }            
               }     
             
              if(MailingPostalCode!="" && MailingPostalCode!=undefined ){
                  
                  if(reg_billingpostalcode.test(MailingPostalCode)==false || !MailingPostalCode.indexOf(' ',0)){
                  
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".MailingPostalCode").focus();
                   return false;
                  }
                  if(MailingPostalCode.length<2 || MailingPostalCode.length>20){
                       t=t+1;
                       alert("ZIP code should be 2 to 20 characters only");
                       $(".MailingPostalCode").focus();
                       return false;
                  }
               
               
               }
               
               
                 
              if(MobilePhone!="" && MobilePhone!=undefined && (reg_billingphone.test(MobilePhone)==false || !MobilePhone.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".MobilePhone").focus();
                   return false;
               }
               if(OtherCity!="" && OtherCity!=undefined && (reg_billingcity.test(OtherCity)==false || !OtherCity.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".OtherCity").focus();
                   return false;
               }
              
               if(OtherCountry!="" && OtherCountry!=undefined  && (reg_text.test(OtherCountry)==false || !OtherCountry.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".OtherCountry").focus();
                   return false;
               }
             if(OtherPhone!="" && OtherPhone!=undefined  && (reg_billingphone.test(OtherPhone)==false || !OtherPhone.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".OtherPhone").focus();
                   return false;
               }
              if(CnP_PaaS__Other_Province__c!="" && CnP_PaaS__Other_Province__c!=undefined && (reg_billingprovince.test(CnP_PaaS__Other_Province__c)==false || !CnP_PaaS__Other_Province__c.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".CnP_PaaS__Other_Province__c").focus();
                   return false;
               }
               if(OtherState!="" && OtherState!=undefined && (reg_billingprovince.test(OtherState)==false || !OtherState.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".OtherState").focus();
                   return false;
               }
               if(OtherStreet!="" && OtherStreet!=undefined && (reg_billingaddress1.test(OtherStreet)==false || !OtherStreet.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".OtherStreet").focus();
                   return false;
               }
               if(OtherPostalCode!="" && OtherPostalCode!=undefined && (reg_billingpostalcode.test(OtherPostalCode)==false || !OtherPostalCode.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".OtherPostalCode").focus();
                   return false;
               }
                                         
               if(Title_1!="" && Title_1!=undefined && (reg_text.test(Title_1)==false || !Title_1.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".Title").focus();
                   return false;
               }
               if(DateField!="" && DateField!=undefined && (reg_dob.test(DateField)==false || !DateField.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".DATE").focus();
                   return false;
               }
           
              if(DateTimeField!="" && DateTimeField!=undefined ){
       
               var parts = DateTimeField.split(" ");
              
              if(parts.length == 3){
                 var date = parts[0];
                 var time = parts[1];
                 var ampm = parts[2].trim();
               
                 if(ampm.length == 2 && (ampm.toLowerCase() == "am" || ampm.toLowerCase() == "pm")){
                
                     if (reg_dob.test(date)){
                        
                            if (validformattime.test(time) ==false)  {                     
                           
                               t=t+1;
                               alert("Please enter a valid data");
                               $(".DATETIME").focus();
                               return false;
                            }
                    }else{
                           t=t+1;
                           alert("Please enter a valid data");
                           $(".DATETIME").focus();
                           return false;
                    
                    }
                 }else{
                       t=t+1;
                       alert("Please enter a valid data");
                       $(".DATETIME").focus();
                       return false;
             
                 }
             }else{
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".DATETIME").focus();
                   return false;
          
          
             }
             }
            
            if(NumberField!="" && NumberField!=undefined && (numvalidation.test(NumberField)==false || !NumberField.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".DOUBLE").focus();
                   return false;
            }
             if(PhoneField !="" && PhoneField !=undefined && ( reg_Phone.test(PhoneField)==false || !PhoneField.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid phone number");
                   $(".PHONE").focus();
                   return false;
             }
             if(EmailField!="" &&  reg.test(EmailField)==false && EmailField!=undefined)
               {
                   t=t+1;
                   alert("Please enter a valid Email");
                   $(".EMAIL").focus();
                   return false;
               }
             
               
             if(UrlField!="" && UrlField!=undefined && (pattern.test(UrlField)==false || !UrlField.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".URL").focus();
                   return false;
            }
            
            if(PercentageField!="" && PercentageField!=undefined && (validatepercentage.test(PercentageField)==false || !PercentageField.indexOf(' ',0))){
                   t=t+1;
                   alert("Please enter a valid data");
                   $(".PERCENT").focus();
                   return false;
            }
        
            
            
           // if(Checkbox ==false){
                  // t=t+1;
                   //alert("Please Check the box");
                 
                  // $(".BOOLEAN").focus();
                  // return false;
           // }
        
            if(disppaymenttype=='CreditCard' ){
                                  

                    if(creditcardname =="" || creditcardname ==null){
                       t=t+1;
                       alert("Name on Card Must be defined");
                       $(".txtNameOnCard").focus();     
                       return false;
                        
                    }else if(!reg_cardname.test(creditcardname)){
                            t=t+1;
                          alert("Please enter the only Alphanumeric . and space for  Name on Card");
                          $(".txtNameOnCard").focus();
                          return false;
                    }else if(creditcardname.length <2){
                            t=t+1;
                           alert("Name on Card Must be 2 Characters");
                           $(".txtNameOnCard").focus();     
                           return false;   
                    }
                    
                    if($(".txtCardNumber").val()=="" || $(".txtCardNumber").val()==null ){
                        t=t+1;
                        alert("Credit Card Number Must be defined");
                        $(".txtCardNumber").focus();
                          return false;    
                    
                    }else if(!reg_cardtype.test($(".txtCardNumber").val())){
                            t=t+1;
                          alert("Credit Card Number Must be Valid Number");
                          $(".txtCardNumber").focus();
                          return false;
                    }
                    
                    /* if($(".txtCvv").val()=="" || $(".txtCvv").val()==null ){
                         t=t+1;
                        alert("Card Verification (CVV) Must be defined");
                        $(".txtCvv").focus();
                          return false;    
                    
                    }else*/ if($(".txtCvv").val()!="" && $(".txtCvv").val().length<3) {
                               t=t+1;
                            alert("Please Enter a Number atleast 3 digits in Card Verification (CVV)");
                            jQuery(".txtCvv").focus();
                            return false;
                        } 
                    
                    
                     if(mo =="--Select--"){
                            t=t+1;
                         alert("Expiration Date must be defined");
                         $(".select_ExpirationMonth").focus();
                         return false;
                        
                    }else if(c_ye >= yr && c_mo > mo){
                            t=t+1;
                           alert("Expiration Date Must be Valid ");
                           return false;   
                    }
      
 
              }
              
             if(disppaymenttype=='ReferenceTransaction'){
             
                if($(".txtOrderNumber").val()==""){
                    t=t+1;
                    alert("Please Enter Order Number !");
                   $(".txtOrderNumber").focus();    
                   return false;
                
                }else if($(".txtVaultguid").val()==""){
                    t=t+1;
                    alert("Please Enter Valid GUID !");
                   $(".txtVaultguid").focus();  
                   return false;
                
                }
                
                
             
             }
              if(disppaymenttype=='Check'){
             
                if($(".txtRoutingNumber").val()==""){
                     t=t+1;
                    alert("Routing Number Must be defined");
                   $(".txtRoutingNumber").focus();  
                   return false;
                
                } else if($(".txtRoutingNumber").val()!="")
                {
                      if(!numvalidation.test($(".txtRoutingNumber").val()))
                      {
                              t=t+1;
                                          alert("Routing Number Must contain numerics only");
                                          jQuery(".txtRoutingNumber").focus();
                                          return false;
                      }
                      else if(($(".txtRoutingNumber").val()).length<9)
                      {
                              t=t+1;
                                          alert("Routing Number Must contain 9 digits");
                                          jQuery(".txtRoutingNumber").focus();
                                          return false;
                      }
                 }
                 if($(".txtCheckNumber").val()=="" || $(".txtCheckNumber").val()==null)
                  {
                           t=t+1;
                                      alert("Check Number Must be defined");
                                      $(".txtCheckNumber").focus();
                                      return false;
                  }
                  else if($(".txtCheckNumber").val()!="" && !numvalidation.test($(".txtCheckNumber").val()))
                  {
                            t=t+1;
                                      alert("Check Number Must contain numerics only");
                                      $(".txtCheckNumber").focus();
                                      return false;
                  }
                  
                  if($(".txtAccountNumber").val()=="" || $(".txtAccountNumber").val()==null)
                  {
                           t=t+1;
                                      alert("Account Number Must be defined");
                                      $(".txtAccountNumber").focus();  
                                      return false;
                  }
                  else if($(".txtAccountNumber").val()!="" && !numvalidation.test($(".txtAccountNumber").val()))
                  {
                           t=t+1;
                                      alert("Account Number Must contain numerics only");
                                      $(".txtAccountNumber").focus();  
                                      return false;
                  }
                  
                  if($(".txtAccountNumber2").val()=="" || $(".txtAccountNumber2").val()==null)
                  {
                           t=t+1;
                                      alert("Repeat Account Number Must be defined");
                                      $(".txtAccountNumber2").focus();
                                      return false;
                  }
                  else if($(".txtAccountNumber2").val()!="" && (!numvalidation.test($(".txtAccountNumber2").val())))
                  {
                           t=t+1;
                                      alert("Repeat Account Number Must contain numerics only");
                                      $(".txtAccountNumber2").focus();
                                      return false;
                  
                  }else   if($(".txtAccountNumber").val()!=$(".txtAccountNumber2").val()){
                              t=t+1;                 
                                      alert("Repeat Account Number should match with Account Number !");
                                      $(".txtAccountNumber2").focus(); 
                                      return false;
                
                  }
                  
                  if(nameonaccount =="" || nameonaccount ==null)
                  {
                           t=t+1;
                                      alert("Name on Account Must be defined");
                                      $(".txtNameOnAccount").focus();
                                      return false;
                  }
                  else if(nameonaccount !="" &&!stringnumsvalidation.test(nameonaccount ))
                  {
                           t=t+1;
                                      alert("Please Enter valid data in Name on Account");
                                      $(".txtNameOnAccount").focus();
                                      return false;
                  }else if(nameonaccount.length <2){
                           t=t+1;
                                      alert(" Name on Account Must be 2 Characters");
                                      $(".txtNameOnAccount").focus();
                                      return false;
                  
                  
                  }
                  
                   
            
              
              
             }
             
             if(disppaymenttype=='PurchaseOrder'){   
                if($(".txtPOAccount").val()!="" && !numvalidation.test($(".txtPOAccount").val())){
                t=t+1;
                 alert("Purchase Order Number must be a valid number");
                 $(".txtPOAccount").focus(); 
                                      return false;
                }
             
             }
             if(disppaymenttype=='Invoice'){
             if($(".txtInvoiceAccount").val()!="" && !numvalidation.test($(".txtInvoiceAccount").val())){
                t=t+1;
                 alert("Invoice Check Number must be a valid number");
                 $(".txtInvoiceAccount").focus(); 
                                      return false;
                }    
                
             
             }
                    
           if(disppaymenttype=='CustomPaymentType'){
          
             if($(".txtCustompaymentnumber").val() !=undefined && $(".txtCustompaymentnumber").val()!="" && !numvalidation.test($(".txtCustompaymentnumber").val())){
                t=t+1;
                 alert("Custom payment number Number must be a valid number");
                 $(".txtCustompaymentnumber").focus(); 
                                      return false;
                }    
                
             
             }
                       
              
              
          }
 
  if(t!=0)
  
  {
   
       return false; 
  }else
  { 
  $('html, body').animate({scrollTop:350}, 'fast');
                   $("#light").attr('style','display:block');
                   $("#fade").attr('style','display:block');
                    return true;
 }
    
//onkeyup="javascript:this.value=this.value.replace(/[^A-Za-z0-9\s\-]+/g, '');"
    
 
 
 
 }  
   function processing(){
     $("#light").attr('style','display:none');
      $("#fade").attr('style','display:none');
 } 
   
   function trimvalue(value,fieldclass)
   {
     var replace=$.trim(value); 
     $("."+fieldclass).attr('value',replace);
   }
   function DeleteAlert(){   
       if(confirm("Are you sure?")==true){  
            return true;
       }else{   
             return false;
       }   
  }
  function check1(val)
  {
    
     if(val==true)
     {
      
    
       $(".next1").fadeIn(1000); 
     }else{
  
       $(".next1").fadeOut(1000); 
     }
     
  }
   
  function cardReaderTexChange() { 
  
    var carddata = jQuery(".cardreader").val();
   
    var c=carddata.match(/\?/g);
    if (c.length == 2){ 
 
        parseCardReader2(carddata.toString()); 
  }
 } 
 
  function parseCardReader2(carddata) { 

        var cardnum = carddata.substr(2,16).replace('^','');;
        var name = carddata.match("/^(.*?)^");
         
        var start_pos = carddata.indexOf('^') + 1;
        var end_pos = carddata.indexOf('^',start_pos);
        var text_to_get = carddata.substring(start_pos,end_pos).replace('/',' ');
        
        var delimitersplit = carddata.split('^');
        
        var expireyear = delimitersplit[2].substr(0,2);
        var expiremonth = delimitersplit[2].substr(2,2);
        jQuery('.txtNameOnCard').val(text_to_get.replace('/',' '));
        var cardnames =text_to_get.split(' ');

if(jQuery('.FirstName1').val()=='' ||jQuery('.FirstName1').val()=='FirstName' ){
  
    jQuery(".FirstName1").val(cardnames[1].replace('/',' '));
    
}
if(jQuery('.LastName1').val()=='' || jQuery('.LastName1').val()=='LastName')
{
    jQuery(".LastName1").val(cardnames[0]);
}

var cardtemp=cardnum.substr(-4);

if(cardnum.length==16)
{
jQuery('.dummycardnumber').val('************'+cardtemp);
}
if(cardnum.length==15)
{
jQuery('.dummycardnumber').val('***********'+cardtemp);
}
jQuery('.txtCardNumber').val(cardnum);

jQuery('.select_ExpirationMonth').val(expiremonth);
jQuery('.select_ExpirationYear').val(expireyear);
jQuery(".cardreader").hide();
jQuery(".cardlabel").hide();
jQuery(".txtCardNumber").hide();


jQuery(".dummycardnumber").show();
}
  
function insertJS(){
//alert("second");
InsertRecord_JS();
}
function CallWebService_JS(){
//alert("fourth");
CallWebService_JS();
}
function registrant_JS(){
//alert("third");
registrant_JS();
}
 function trimvalue(value,fieldclass)
{
     var replace=$.trim(value); 
     $("."+fieldclass).attr('value',replace);
}
   function eventchage(value)
   {
    eventdata(value);
   }        
  function focuscard(){
     var cardoption= jQuery.trim(jQuery(".cardoption").val());
     var cardreader= jQuery.trim(jQuery(".cardreader").val());
  
     if(cardoption =='CardReader'){ 
     
             jQuery(".cardreaderrow").show();
              jQuery(".cardreader").show();
              jQuery(".cardlabel").show();
             jQuery(".cardreader").focus(); 
             jQuery(".txtCvv").hide();
             jQuery(".cvvlabel").hide();
     }else{
       jQuery(".txtCvv").show();
        jQuery(".cvvlabel").show();
          jQuery(".cardreaderrow").hide();
      jQuery(".cardreader").hide();
      jQuery(".cardlabel").hide();
     }
 } 
 </script>
 
 <apex:form >
 <apex:outputPanel >
  <b>{!unpublishmessage}</b>
 </apex:outputPanel><br/>
 <apex:outputPanel rendered="{!unpublish}">
 
  Select an Event:
  <apex:selectList value="{!eid}" size="1" >
  <apex:actionSupport event="onchange" action="{!Getvalues}" />
  <apex:selectOptions value="{!Eventnames}"></apex:selectOptions>
  </apex:selectList>
  </apex:outputPanel>
  
 </apex:form>
    <apex:form rendered="{!testingbool}">           
            
  

 <apex:pageBlock >
 <div id="light" class="white_content">   
                <apex:image value="/img/loading32.gif" title="we are processing your request. Please wait..." style="height: 15px;width: 20px;"  /><br/>
               <apex:outputlabel value="we are processing your request. please wait...                  "  />
              
              </div>
          
         <div id="fade" class="black_overlay"></div>
  <apex:actionFunction action="{!ShowStateaction}" name="StateData" reRender="staterefresh1">
           <apex:param name="Statevalue"  value="" assignTo="{!PayeeCountry}" />
        </apex:actionFunction>

 <apex:outputPanel >
  <apex:pageMessages ></apex:pageMessages></apex:outputPanel>
 <div id="Main" style="width:100%;">
  
        
      <apex:outputPanel id="NextAttendeeForm" >
      
    <apex:pageBlockSection columns="1" collapsible="false" title="Registration Levels" >
     <apex:variable value="0" var="rowpop"/>
    
      <apex:dataTable columns="5" value="{!availableLevelFields}"  border="0" bgcolor="white" styleClass="displaylevel"  var="field"   style="text-align:center;"  >
        
        <apex:inputHidden value="{!field.Id}"/>
        <apex:column headervalue="" style="text-align:center;width:70px">                    
                       <apex:actionsupport event="onclick" rerender="consel,allcons" action="{!showPopup}" immediate="true">  
                        <input type="button" name="test" class="add_btn" style="background:url({!URLFOR($Resource.PopupPage, if(field.Inventory_Sold__c==field.Limit_for_this_type__c,'soldout.png','add_text_btn.png'))}) no-repeat top" >                                                                
                            <apex:param name="conid" value="{!field.Id}" assignTo="{!LevelName}" />
                            <apex:param name="EditAttendeeId" value="test" assignTo="{!EditAttendeeId}"/>
                        </input></apex:actionsupport>                            
                    </apex:column>
               <apex:column headerValue="Level Name" >
                
                 <div style="text-align:left;display:block;">
                 <a href="javascript:popup('{!field.Description__c}');" class="linktip" >
               <apex:image url="{!URLFOR($Resource.CnP_PaaS_EVT__Tooltip)}" style="border:0;float:left;" styleClass="descimg" /> 
                <apex:OutputText value="{!field.Name}" />&nbsp; 
                  </a>
                
                  </div>
                  
        </apex:column>
      
        <apex:column headerValue=" Price" style="text-align:right;">
         
        <apex:outputText value="{0, number,$###,###,##0.00}" style="text-align:center;display:block;">
        <apex:param value="{!field.CnP_PaaS_EVT__Price__c}" /></apex:outputText>
        </apex:column>
        
        <apex:column headerValue=" +Fee" style="text-align:right;">
        <apex:outputText value="{0, number,$###,###,##0.00}"  style="text-align:center;display:block;">
        <apex:param value="{!field.CnP_PaaS_EVT__Additional_Fee__c}" /></apex:outputText>
        </apex:column>
    
         <apex:column headerValue="Tax Deductible Portion" style="text-align:right;">
         <apex:outputText value="{0, number,$###,###,##0.00}"  style="text-align:center;display:block;">
         <apex:param value="{!field.CnP_PaaS_EVT__Tax_Deductible__c}" /></apex:outputText>
               

         <apex:variable var="rowpop" value="{!VALUE(rowpop) + 1}"/>
         </apex:column> 

        </apex:dataTable>
       <div id="dialog-overlay" class="popupBackground"></div>
<div id="dialog-box">
    <div class="dialog-content">
        <div id="dialog-message"></div>
        <a href="#" class="button cls"></a>
    </div>
</div>      
      <script type="text/javascript" language="javascript" src="{!URLFOR($Resource.jquerygird, "media/js/jquery.dataTables.js")}"></script>
        
          <script type="text/javascript">
            $(document).ready(function() {
            trlen = $(".displaylevel").attr('rows').length;
              
                   if (trlen <= 10 )
                    {
                        disp = false;
                    }
                     if (trlen >= 11 )
                    {
                    disp = true;
                    }
           

                oTable = $('.displaylevel').dataTable({
                    "bJQueryUI": true,
                    "bFilter": disp ,
                     "bPaginate" : disp  ,
                    aoColumnDefs: [
                      { aTargets: [0], bSortable: false }]                           
                }
               
                
                );
            } );
        </script>
        
      <apex:outputPanel id="consel">  
     
         <apex:outputPanel rendered="{!LevelName!=null}">

         

            <apex:outputPanel styleClass="custPopup" layout="block" rendered="{!displayPopup}">
       

        
                       
            <script type="text/javascript">
            
         //    $('.Birthdate').datepick({yearRange: 'c+0:1920',maxDate:-0,showTrigger: '<img src="{!URLFOR($Resource.CnP_PaaS_EVT__datepicker, "datepicker/calendar.gif")}" alt="Calendar"></img>'});
             
             $('.Close').click(function(){
                     $('.custPopup').slideUp(10);
                     $('.popupBackground').fadeOut(10);
                     $('.overlay').fadeOut(10);
             });   
              $('.Save').click(function(){
                     $('.overlay').fadeOut();
             });   
             $('.Update').click(function(){
                     $('.overlay').fadeOut();
             }); 
             
             $('.reqvalue').html("*") ;             
                       
             $('.reqvalue').attr("style","color:#CC0000;background-color:#FFF;margin:0;") ;        
             </script>
              <script type="text/javascript">

    

          $(document).ready(function (){ 

              $(".DATETIME").calendar({
                
                dateFormat:'MDY/',
                autoPopUp: "both",
                buttonImageOnly:true,
                buttonImage:'{!URLFOR($Resource.CnP_PaaS_EVT__datepicker, "datepicker/calendar.gif")}',
                buttonText:'',              
                timeSeparators:[' ',':',' AM',' PM'],
                }
                
                );
               
                        
                         
               $('.Birthdate').datepick({yearRange: 'c+0:1920',maxDate:-0,showTrigger: '<img src="{!URLFOR($Resource.CnP_PaaS_EVT__datepicker, "datepicker/calendar.gif")}" alt="Calendar"></img>'});
               
               $('.DATE').datepick({
                   
                         showTrigger: '<img src="{!URLFOR($Resource.CnP_PaaS_EVT__datepicker, "datepicker/calendar.gif")}" alt="Calendar"></img>'
             });
             

            });

       

        </script>
          <apex:outputPanel rendered="{!leveltimeout}">
          <script type="text/javascript">      
            $(document).ready(function (){ 
            var enddate=$(".enddate").text();
            $(".enddate").html(enddate);
            });
            </script>
            <div class="enddate">
          <apex:outputtext value="{!rlc.CnP_PaaS_EVT__End_date_message__c}" style="display:none"/>
          </div>   
         </apex:outputPanel>
         
         <apex:outputPanel rendered="{!levelsoldout}">
         <script type="text/javascript">      
            $(document).ready(function (){ 
            var limitreached=$(".limitreached").text();
            $(".limitreached").html(limitreached);
            });
            </script>
            <div class="limitreached">
                <apex:outputtext value="{!rlc.CnP_PaaS_EVT__Message_to_display_when_limit_is_reached__c}" style="display:none"/> 
                </div>            
         </apex:outputPanel>
         
         <apex:outputPanel rendered="{!contdisplay}">
         
         <div id="AttendeeInfo_1">
        <apex:Messages />    
              <apex:pageBlockSection columns="1" collapsible="false" >
           <h3>Attendee Information</h3><br/><br/> 
          <apex:repeat value="{!availableAttendeeFields}" var="field">
             
        <apex:pageBlockSectionItem rendered="{!IF(field.visible==true && field.Field!='MailingCountry' && field.Field!='MailingState',true,false)}">
         <apex:outputPanel >
   <apex:OutputText value="{!field.Label}" />
  <!--<apex:outputtext value="{!IF(field.req==true,'<span class=req>*</span>','')}" style="display:none"></apex:outputText>-->
  <!--<apex:outputtext value="*" rendered="{!IF(field.req==true,true,false)}" styleclass="{!IF(field.req==true,'req','')}"></apex:outputText>-->
   </apex:outputPanel>
         
          <apex:outputPanel >
          <div style="margin-left:38px">
            <apex:inputHidden value="{!acc.Id}" rendered="{!IF((EditAttendeeId!=null && EditAttendeeId!='test'),true,false)}"/>             
            <apex:outputPanel styleclass="{!IF(field.req==true,'requiredInput','')}"  layout="block" >   
            <apex:outputPanel styleclass="{!IF(field.req==true,'requiredBlock','')}" layout="block">&nbsp;</apex:outputPanel>                
            <apex:inputField value="{!acc[field.Field]}" style="width:{!if(field.Label=="Title",'45px;','')};margin:0px;"     onblur="trimvalue(this.value,'{!IF(field.req==true ,field.Field,field.Field)}');" styleClass="{!IF(field.req==true ,IF($ObjectType.Contact.fields[field.Field].Custom==false,field.Field&' required',field.FieldType&' required'),if($ObjectType.Contact.fields[field.Field].Custom==false,field.Field,field.Fieldtype))}" required="false"/>
            </apex:outputPanel> 
                       
             </div>
           </apex:outputPanel>
         </apex:pageBlockSectionItem>
        <apex:pageBlockSectionItem rendered="{!IF(field.visible==false,false,false)}">
         <apex:OutputText value="{!field.Label}" />
        <apex:inputField value="{!acc[field.Field]}"    style="width:{!if(field.Label=="Title",'45px;','')}" />
        </apex:pageBlockSectionItem>
       <apex:pageBlockSectionItem rendered="{!IF(field.visible==true && field.Field=='MailingCountry',true,false)}">
  <apex:outputpanel >
   <apex:OutputText value="{!Field.Label}" style="width:500px;"/>
    <!--<apex:outputtext value="*" rendered="{!IF(field.req==true,true,false)}" styleclass="{!IF(field.req==true,'req','')}"></apex:outputText>-->
   </apex:outputpanel>
   <apex:outputPanel styleclass="{!IF(field.req==true,'requiredInput','')}"  layout="block" >
                                       <apex:outputPanel styleclass="{!IF(field.req==true,'requiredBlock','')}" layout="block"/>
  <apex:selectlist value="{!acc[field.Field]}" size="1" style="width:200px;margin-left:40px" styleClass="{!IF(field.req==true,field.Field&' required' ,field.Field)}" onchange="StateChange(this.value);" >
              <apex:selectOptions value="{!showcountries}"  rendered="{!IF(showcountries.size>0,true,false)}"/>             
             <apex:selectOptions value="{!xmlstring.CountryCodes}" rendered="{!IF(showcountries.size>0,false,true)}"/>
            
          </apex:selectlist>
     </apex:outputpanel>
          </apex:pageBlockSectionItem>
     
         <apex:pageBlockSectionItem rendered="{!IF(field.visible==true && field.Field=='MailingState' ,true,false)}">  
          <apex:outputpanel >          
          <apex:OutputText value="{!Field.Label}"/>
         <!--<apex:outputtext value="*" rendered="{!IF(field.req==true,true,false)}" styleclass="{!IF(field.req==true,'req','')}"></apex:outputText>-->
         </apex:outputpanel>
         <apex:outputPanel id="staterefresh1" >
         <apex:outputPanel styleclass="{!IF(field.req==true,'requiredInput','')}"  layout="block" >
                                       <apex:outputPanel styleclass="{!IF(field.req==true,'requiredBlock','')}" layout="block"/>
         <apex:selectlist value="{!acc[field.Field]}" size="1" rendered="{!IF(showStates.size>0,true,false)}" style="width:200px;margin-left:40px" styleClass="{!IF(field.req==true,field.Field&' required' ,field.Field)}">
              <apex:selectOptions value="{!showStates}"  />             
              
          </apex:selectlist>
           <apex:inputField value="{!acc[field.Field]}" rendered="{!IF(showStates.size>0,false,true)}" style="width:200px;margin-left:40px" styleClass="{!IF(field.req==true,field.Field&' required' ,field.Field)}"/>
        </apex:outputPanel>
        </apex:outputpanel>
          </apex:pageBlockSectionItem>
        </apex:repeat>
        
        </apex:pageBlockSection>
        </div>
        
       <div id="AttendeeForm_1">
        <apex:pageBlockSection collapsible="false"  columns="1">
        <apex:variable value="0" var="rowNum"/>
     <apex:repeat value="{!availableAttendeeCustomFields}" var="field1">
     
     <apex:outputText value="{!field1.SectionName}"  rendered="{!IF(field1.SectionName!=null,true,false)}" style="font-weight:900;width:100%;"></apex:outputText>
      <apex:pageBlockSectionItem dataStyle="border-bottom:3px;padding-left:48px;" rendered="{!field1.visible}">     
        <apex:outputPanel >
    
        <apex:outputText value="{!field1.label}"  rendered="{!IF(availableAttendeeCustomFields.size>0,true,false)}"></apex:outputText>
        <!--<apex:outputtext value="{!IF(field1.req==true,'<span class=req>*</span>','')}"  escape="false"></apex:outputText>-->
        </apex:outputPanel>
        <apex:outputPanel >
         <apex:outputPanel styleclass="{!IF(field1.req==true,'requiredInput','')}"  layout="block" >
                                       <apex:outputPanel styleclass="{!IF(field1.req==true,'requiredBlock','')}" layout="block"/>         
        <apex:inputText value="{!field1.DefaultValue}" rendered="{!IF(field1.FieldType=='Text box',true,false)}" required="{!field1.req}" styleClass="{!IF(field1.req==true,'textbox required','textbox')}"></apex:inputText>
        <apex:inputTextarea value="{!field1.DefaultValue}"  rendered="{!IF(field1.FieldType=='Text area',true,false)}"  required="{!field1.req}" styleClass="{!IF(field1.req==true,'textarea required','textarea')}"/>
        <apex:selectRadio value="{!field1.DefaultValue}"  layout="pageDirection" rendered="{!IF(field1.FieldType=='Radio button',true,false)}" required="{!field1.req}" styleClass="{!IF(field1.req==true,'radiobox'+rowNum,'test')}">
        <apex:selectOptions value="{!field1.Fieldvalues}"/>
        </apex:selectRadio>
        <apex:selectList value="{!field1.DefaultValue}"  size="1" rendered="{!IF(field1.FieldType=='Select list',true,false)}" required="{!field1.req}" styleClass="{!IF(field1.req==true,'selectbox'+rowNum,'test')}">
           <apex:selectOptions value="{!field1.Fieldvalues}"/>
        </apex:selectList>
        
        <apex:selectcheckboxes value="{!field1.checkedboxValues}" layout="pageDirection"  rendered="{!IF(field1.FieldType=='Check box',true,false)}" required="{!field1.req}" styleClass="{!IF(field1.req==true && field1.FieldType=='Check box','checkbox'+rowNum,'test')}" >
        <apex:selectOptions value="{!field1.Fieldvalues}" />
        </apex:selectcheckboxes>
        <apex:inputhidden value="{!field1.QuestionId}"/>
        <apex:inputhidden value="{!field1.SectionNamehidden}"/> <br/>
        </apex:outputPanel>
        </apex:outputPanel>
        </apex:pageBlockSectionItem>
        <apex:pageBlockSectionItem rendered="{!(field1.visible==false)}">
        <apex:outputpanel >
        <apex:inputHidden value="{!field1.DefaultValue}"/>
        <apex:inputhidden value="{!field1.QuestionId}"/>
        <apex:inputhidden value="{!field1.SectionNamehidden}"/> 
        </apex:outputpanel>
        </apex:pageBlockSectionItem>
        <apex:variable var="rowNum" value="{!VALUE(rowNum) + 1}"/>
        </apex:repeat>
         <input type="hidden" value="{!rowNum}" class="rowvalues" name="rowvalues"/> 
        <apex:pageBlockSectionItem >
        <apex:outputPanel >
        <apex:actionStatus id="mySaveStatus_2">
        <apex:facet name="stop">
        <apex:commandButton value="Save" action="{!AttendeeForm}" onclick="if(!FormValidation()) return false" reRender="consel,RefreshAttendeeList,RefreshTotals,submitbuttondetail,paymentbutton,PaymentSelection1,PaymentMethod,RefreshType" styleClass="Submit Save" style="margin-bottom:10px;margin-left:173px;text-align:center;" status="mySaveStatus_2" >
        <apex:param assignTo="{!AutoSelectRadio}" value="{!LevelName}"/> 
        
        </apex:commandButton>
        </apex:facet>
        <apex:facet name="start">
                 <apex:outputPanel >

                 <apex:image value="/img/loading32.gif" style="height: 15px;"/>

                 <apex:commandbutton value="Processing..." status="mySaveStatus_2" disabled="true"/>
                 
               </apex:outputPanel>

           </apex:facet>
        </apex:actionStatus>
         
         <apex:commandButton value="Update" action="{!UpdateAttendee}" reRender="consel,RefreshAttendeeList" rendered="{!IF((EditAttendeeId!=null && EditAttendeeId!='test'),true,false)}"  styleClass="Submit Update" style="color:black"/>
       </apex:outputPanel>
       </apex:pageBlockSectionItem>
            
        </apex:pageBlockSection>
        </div>
        </apex:outputPanel>
    
        <apex:commandButton action="{!ClosePopUp}" reRender="consel,RefreshAttendeeList" immediate="true" styleClass="Close" />
       
        </apex:outputPanel><!-- custPopup -->
        
        <apex:outputPanel styleClass="popupBackground" layout="block" rendered="{!displayPopup}" /> <!-- IE 11 transparent fix -->
        
      </apex:outputPanel>   
      </apex:outputPanel><!-- consel -->    
        
        
       </apex:pageBlockSection>
        
       <div id="EditAttendee"  >
       <apex:pageBlockSection columns="1"  collapsible="false"  rendered="{!testingbool}">
       <apex:outputpanel id="RefreshAttendeeList"  >
       
     <apex:outputpanel rendered="{!IF(RegisteredAttensees.size>0,true,false)}" >
      <h3 style="margin:0px;padding:5px;">Registration Summary</h3>
      </apex:outputpanel>
 
     <apex:dataTable columns="5" cellpadding="3px" cellspacing="2px"  value="{!RegisteredAttensees}"  border="0" bgcolor="white" styleClass="display"  var="field"  rendered="{!IF(RegisteredAttensees.size>0 && testingbool==true,true,false)}">
     <apex:column headerValue=" " style="text-align:center;width:10px"  >
        
        <apex:commandlink styleClass="Delete"  value=""  action="{!DaleteAttendee}"  onclick="if(!window.confirm('Are you sure?')) return false;" rerender="RefreshAttendeeList,RefreshTotals,submitbuttondetail,paymentbutton,paymentblock,PaymentSelection1,PayeeInformation,staterefresh"><apex:param name="DeleteAttendeeId" value="{!field.Id}" assignTo="{!DeleteAttendeeId}"/></apex:commandlink></apex:column>
        <apex:column headerValue="" style="text-align:left;">
         <apex:OutputText value="{!field.Registration_level__r.Name}" /> </apex:column>
        
     <apex:column headerValue="First Name">
        <apex:OutputText value="{!field.CnP_PaaS_EVT__First_name__c}" /> </apex:column>
        <apex:column headerValue="Last Name">
        <apex:OutputText value="{!field.CnP_PaaS_EVT__Last_name__c}" /> </apex:column>
        
        <apex:column headerValue="Total" styleClass="TotalAlign" >
        <apex:outputText value="{0, number,$###,###,##0.00}" style="text-align:right;display:block;margin-right:5px;">
        <apex:param value="{!field.Registration_level__r.CnP_PaaS_EVT__Current_inventory__c}" /></apex:outputText>
        </apex:column>
        
        
      </apex:dataTable>
    
     
      <script>
       $(".Edit").click(function(){
           $('.overlay').fadeIn("fast");
        }); 
           
       </script>
       
      <script type="text/javascript" charset="utf-8">
            $(document).ready(function() {
                trlength = $(".display").attr('rows').length;
                if (trlength <= 10 )
                    {
                      displ = false;
                    }
                     if (trlength >= 11 )
                    {
                      displ = true;
                    }
                oTable = $('.display').dataTable({
                    "bJQueryUI": true,
                    "bFilter":displ ,
                    "bPaginate" : displ ,
                    aoColumnDefs: [
                      { aTargets: [0], bSortable: false }]  
                                   });
            } );
        </script>
        
      </apex:outputpanel>
        
   
     
      <apex:outputpanel id="RefreshTotals" >
      
             
                 <apex:pageBlockSectionItem >

                 <apex:outputLabel value="Total Fee"  styleClass="summaryleft"></apex:outputLabel>
                 <apex:outputText value="{0, number,$###,###,##0.00}" styleClass="summaryright"><apex:param value="{!GrossPrice}"/></apex:outputText>
                 
                 </apex:pageBlockSectionItem>
                 <div class="clear"></div>
      
         <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Total Discount" styleClass="summaryleft" ></apex:outputLabel>
                 <apex:outputText value="{0, number,-$###,###,##0.00}" styleClass="summaryright">
                 <apex:param value="{!TotalDiscount}"/>
                 </apex:outputText>
                 </apex:pageBlockSectionItem>
                 <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Total Tax" styleClass="summaryleft" ></apex:outputLabel>
                 <apex:outputText value="{0, number,$###,###,##0.00}" styleClass="summaryright">
                 <apex:param value="{!TotalTax}"/>
                 </apex:outputText>
                 </apex:pageBlockSectionItem>
                 
                <apex:pageBlockSectionItem rendered="{!If(RegisteredAttensees.size>0,true,false)}">
                 <apex:dataTable columns="2" style="width:100%;font-weight:bold;clear:both;" value="{!CouponsListMethod}" var="var">
                 <apex:column style="vertical-align: top;color:#666666;" styleClass="summaryleft" ><apex:outputLabel value="{!var.CouponName}" /> </apex:column>
                 <apex:column styleClass="summaryright" ><apex:inputtext value="{!var.Couponval}" style="width:84px;font-size:11px;padding: 2px;float:right" />
                 <div style="clear:both;"></div>
                 <apex:outputtext value="{!var.CouponError}" styleclass="{!If(var.CouponError=='Coupon code applied','Valid','Invalid')}"/><apex:inputhidden value="{!var.Levelid}" /></apex:column>
                 </apex:dataTable>
                 
                 <apex:outputpanel >

                 <apex:actionStatus id="mySaveStatus1">
                 <apex:facet name="stop">
                 
                 <apex:commandLink value="Apply Coupon" styleClass="appcou" reRender="RefreshTotals,PaymentSelection1,PaymentMethod,paymentbutton" action="{!calculateamounts}" status="mySaveStatus1" rendered="{!IF(CouponsListMethod.Size>0,true,false)}"/>

                 </apex:facet>

                 <apex:facet name="start">

                 <apex:outputPanel >


                 <apex:commandlink value="Processing..." styleClass="appcou" status="mySaveStatus1"/>
                 <apex:image value="/img/loading32.gif"   style="height: 15px;float:right;clear:both;margin-right:50px;margin-top:5px;"/>

               </apex:outputPanel>

           </apex:facet>

                 </apex:actionStatus>
                 </apex:outputpanel>
                 </apex:pageBlockSectionItem>
              
       
                 <div class="clear"></div><br />
        <apex:pageBlockSectionItem rendered="{!if(Eventid.CnP_PaaS_EVT__Label_for_additional_donation__c!=null,true,false)}" >

                 <apex:outputLabel value="{!Eventid.CnP_PaaS_EVT__Label_for_additional_donation__c}" styleClass="summaryleft" style="padding-top:5px;display:inline-block;" ></apex:outputLabel>
                 <apex:outputPanel styleClass="summaryright">
                 <span style="padding-top:5px;display:inline-block;">$&nbsp;</span><apex:inputText value="{!additionaldonation}" styleclass="MaxAmount" style="width:84px;text-align:right;" onkeyup="javascript:this.value=this.value.replace(/[^0-9.]/g,''); "  maxlength="11" size="9">
                <apex:actionsupport event="onblur" rerender="RefreshTotals,payments,PaymentSelection1,PaymentMethod,paymentbutton" action="{!AddingDonation}" ><apex:param value="{!additionaldonation}"/></apex:actionsupport>
                 </apex:inputText><br />
                  <!--<apex:actionStatus id="mySaveStatusapply">
       <apex:facet name="stop">
       <apex:commandlink value="Apply" action="{!adddonation}" styleClass="appcou" rerender="RefreshTotals,payments,PaymentSelection1,PaymentMethod,paymentbutton" status="mySaveStatusapply"><apex:param assignTo="{!DonationAppy}" name="con" id="con" value="ApplyDonationClick" /></apex:commandlink>
       </apex:facet>
       <apex:facet name="start">
                 <apex:outputPanel >
                 <apex:commandlink value="Wait..." styleClass="appcou"  status="mySaveStatusapply"/>
                 <apex:image value="/img/loading32.gif"   style="height: 15px;float:right;clear:both;margin-right:50px;margin-top:5px;"/>
               </apex:outputPanel>
           </apex:facet>
       </apex:actionStatus>-->
                 </apex:outputPanel>
         </apex:pageBlockSectionItem>
                 
      <div class="clear"></div><br />
      
      <div style="border-bottom: 1px solid #DDDDDD;"></div><br />
       <apex:outputpanel style="display: block; margin-top: 20px;">
      <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Grand Total" styleClass="summaryleft" style="font-size:14px;font-weight:bold;"></apex:outputLabel>
                 <apex:outputpanel id="total" styleClass="summaryright" >
                 <apex:outputText value="{0, number,$###,###,##0.00}"   style="font-size:14px;font-weight:bold;">
                 <apex:param value="{!NetPrice}" />
                 
                 </apex:outputText>
                 </apex:outputpanel>
                 </apex:pageBlockSectionItem><br /><br />
                  <apex:pageBlockSectionItem >
                 <apex:outputLabel value="Total Tax Deductible" styleClass="summaryleft" style="font-size:14px;font-weight:bold;"></apex:outputLabel>
                 
                 <apex:outputText value="{0, number,$###,###,##0.00}" styleClass="summaryright" style="font-size:14px;font-weight:bold;">
                 <apex:param value="{!TotalTaxDeductible}"/>
                 
                 </apex:outputText>
                 
                 </apex:pageBlockSectionItem>
                 </apex:outputpanel>
                  </apex:outputpanel>
               
        </apex:pageBlockSection>
        </div>
       </apex:outputPanel>
  
     
  </div>
 
  
  
 </apex:pageBlock>
 
  <apex:outputPanel >
 
   <apex:actionFunction action="{!GotoPayment}" name="InsertRecord_JS" oncomplete="registrant_JS();" rerender="mySaveStatus_2" status="mySaveStatus_2"/>
   <apex:actionFunction action="{!UpdateRegistrant}" name="registrant_JS"   oncomplete="CallWebService_JS();"   status="mySaveStatus_2"/>
    <apex:actionFunction action="{!PaymentAPIMethod}" name="CallWebService_JS"  oncomplete="processing();" rerender="resulttransactionsucess,resulttransactionfail" status="mySaveStatus_2"/>
    
   
  <apex:pageBlock >
   <!--Payment Form Start Here  -->    
 
    
                     
   <apex:outputpanel id="paymentblock">
  <apex:outputPanel style="display:{!IF(Resultdisply!='' && Resultdisply=='Transaction processed successfully','none','block')}">
    <div class="clr"></div><div class="clr"></div>           
 <div id="diveVTPage" >
    <div id="topinfo">
    <div id="divInformationArea"> 
       
        
  
        <apex:actionFunction action="{!ShowStateaction}" name="StateData1" reRender="staterefresh">
           <apex:param name="Statevalue1"  value="" />
        </apex:actionFunction>
          
      
           <apex:outputpanel id="PayeeInformation" styleClass="PaymentMethod" rendered="{!testingbool}"> 
       
     
                                                   
            <apex:pageBlockSection columns="1"  id="ContactInfo"  collapsible="false" title="Billing Information">
        
                              <apex:repeat value="{!availableContactFields}" var="field">                                
                                <apex:pageBlockSectionItem rendered="{!IF(field.visable==true && field.Field!='MailingCountry' && field.Field!='MailingState',true,false)}">                                 
                                 
                                 <apex:outputPanel >
                                  <apex:outputText value="{!field.Label}" style="margin-left:100px"> </apex:outputText>
                                  <!--<apex:outputtext value="*" rendered="{!IF(field.req==true,true,false)}" styleclass="{!IF(field.req==true,'req','')}"></apex:outputText>-->
                                  </apex:outputPanel>
                                  
                                <apex:outputPanel styleclass="{!IF(field.req==true,'requiredInput','')}"  layout="block" >
                                       <apex:outputPanel styleclass="{!IF(field.req==true,'requiredBlock','')}" layout="block"/>
                                                            
                                <apex:inputField value="{!acc1[field.Field]}"  style="width:{!if(field.Label=="Title",'45px;','')};margin:0px;"  onblur="trimvalue(this.value,'{!IF(field.req==true ,field.Field,field.Field)}');" styleClass="{!IF(field.req==true ,IF($ObjectType.Contact.fields[field.Field].Custom==false,field.Field+'1'&' required1',field.FieldType+'1'&' required1'),if($ObjectType.Contact.fields[field.Field].Custom==false,field.Field+'1',field.Fieldtype+'1'))}" required="false" onfocus="dateloadfunction();"/>
                               
                               </apex:outputPanel>
                                  </apex:pageBlockSectionItem>
                                  
                                  
                                 
          <apex:pageBlockSectionItem rendered="{!IF(field.visable==true && field.Field=='MailingCountry',true,false)}">
                   <apex:outputpanel >
                    <apex:OutputText value="{!Field.Label}" style="width:500px;"/>
                   <!--<apex:outputtext value="*" rendered="{!IF(field.req==true,true,false)}" styleclass="{!IF(field.req==true,'req','')}"></apex:outputText>-->
                  </apex:outputpanel>
            <apex:outputPanel styleclass="{!IF(field.req==true,'requiredInput','')}"  layout="block" >
                                       <apex:outputPanel styleclass="{!IF(field.req==true,'requiredBlock','')}" layout="block"/>
          <apex:selectlist style="margin:0px;" value="{!acc1[field.Field]}" size="1"  styleClass="{!IF(field.req==true,field.Field+'1'&' required1' ,field.Field)}" onchange="StateChange1(this.value);">
              <apex:selectOptions value="{!showcountries}"  rendered="{!IF(showcountries.size>0,true,false)}"/>             
              <apex:selectOptions value="{!xmlstring.CountryCodes}" rendered="{!IF(showcountries.size>0,false,true)}"/>
          
          </apex:selectlist>
          </apex:outputpanel>
       
          </apex:pageBlockSectionItem>
           
          
           
          <apex:pageBlockSectionItem rendered="{!IF(field.visable==true && field.Field=='MailingState' ,true,false)}">            
          <apex:outputpanel >          
          <apex:OutputText value="{!Field.Label}"/>
         <!--<apex:outputtext value="*" rendered="{!IF(field.req==true,true,false)}" styleclass="{!IF(field.req==true,'req','')}"></apex:outputText>-->
         </apex:outputpanel>
         <apex:outputPanel id="staterefresh">
          <apex:outputPanel styleclass="{!IF(field.req==true,'requiredInput','')}"  layout="block" >
                                       <apex:outputPanel styleclass="{!IF(field.req==true,'requiredBlock','')}" layout="block"/>
         <apex:selectlist style="margin:0px;"  value="{!acc1[field.Field]}" size="1" rendered="{!IF(showStates.size>0,true,false)}" styleClass="{!IF(field.req==true,field.Field+'1'&' required1' ,field.Field)}">
              <apex:selectOptions value="{!showStates}"  />             
          </apex:selectlist>
           <apex:inputField value="{!acc1[field.Field]}" rendered="{!IF(showStates.size>0,false,true)}" style="width:150px;margin:0px" styleClass="{!IF(field.req==true,field.Field+'1'&' required1' ,field.Field)}"/>
        </apex:outputPanel>
         </apex:outputpanel>
         </apex:pageBlockSectionItem>
        
              
                                </apex:repeat>
                                </apex:pageblocksection>
       
       </apex:outputpanel>
      
        <br/>
    
        <apex:outputpanel id="PaymentSelection1" >
               
              <apex:pageblocksection title="Payment Method" collapsible="false" rendered="{!if(NetPrice >0.0 && testingbool=true,true,false)}">
             
                <apex:pageBlockSectionItem >
                <apex:outputpanel id="RefreshType">
                <!--<apex:actionRegion >-->
                      <apex:selectRadio value="{!xmlPaymentMethod.PaymentType}" styleClass="paymenttype">   
                      <apex:actionsupport event="onchange" action="{!ChangePaymentType}"  rerender="PaymentMethod,processpayment,PaymentSelection1"><apex:param name="TestName" assignTo="{!PaymentSelectedOption}" value="{!xmlPaymentMethod.PaymentType}" ></apex:param></apex:actionsupport>          
                        <apex:selectOption rendered="{!creditcardpayment}"  itemValue="CreditCard" itemLabel="Credit Card"/>
                        <apex:selectOption rendered="{!echeckpayment}" itemValue="Check" itemLabel="eCheck" /> 
                        <apex:selectOption rendered="{!invoicepayment}" itemValue="Invoice" itemLabel="Invoice"/> 
                        <apex:selectOption rendered="{!popayment}" itemValue="PurchaseOrder" itemLabel="Purchase Order"/>
                        <apex:selectOption rendered="{!custompayment}" itemValue="CustomPaymentType" itemLabel="Custom Payment Type"/>
                        
                      </apex:selectRadio><!--</apex:actionRegion>-->  </apex:outputpanel>
                      
                </apex:pageBlockSectionItem>
             
            </apex:pageblocksection>
           </apex:outputPanel>
      <!-- </apex:panelGrid>-->
   
 <apex:panelGrid id="PaymentMethod" styleClass="PaymentMethod"  >
 
    <apex:outputpanel styleClass="PaymentMethod" rendered="{!if(NetPrice>0.0 && testingbool=true,true,false)}"> 
      
            
    <apex:outputpanel rendered="{!xmlPaymentMethod.PaymentType=='CreditCard'}">       
        <apex:pageblocksection columns="2">        
           <!--<apex:pageBlockSectionItem > 
                <apex:outputpanel styleClass="cardicn"> 
                       <img style="display:{!IF(EventPaymentOption.Visa__c==true,'inline','none')}" src="{!URLFOR($Resource.Payment_Event, 'images/visa.jpg')}" alt="visa" width="49" height="29" id="imgVisa" />&nbsp;&nbsp; <img style="display:{!IF(EventPaymentOption.master_card__c==true,'inline','none')}" src="{!URLFOR($Resource.Payment_Event, 'images/mastercard.gif')}" alt="mastercard" width="49" height="29" id="imgMasterCard" />&nbsp;&nbsp; <img style="display:{!IF(EventPaymentOption.Discover__c==true,'inline','none')}" src="{!URLFOR($Resource.Payment_Event, 'images/discover.jpg')}" alt="discover" width="52" height="31" id="imgDiscover"/>&nbsp;&nbsp; <img style="display:{!IF(EventPaymentOption.American_express__c==true,'inline','none')}" src="{!URLFOR($Resource.Payment_Event, 'images/amex.jpg')}" alt="amex" width="29" height="29"  id="imgAmex"  />&nbsp;&nbsp; <img style="display:none" src="{!URLFOR($Resource.Payment_Event, 'images/jcb_card.gif')}" alt="jcb" width="29" height="35" id="imgJCB" />    
                </apex:outputpanel>  
            </apex:pageBlockSectionItem><br/>-->
            <apex:pageBlockSectionItem >
             <!--<apex:outputLabel value="Entry Mode" />-->
             <label class="EntryMode">Entry Mode</label>
          <apex:outputpanel >
          <apex:outputPanel styleClass="requiredInput" layout="block" >
                                       <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                                         <apex:selectList size="1" value="{!selecttype}" styleClass="cardoption" onchange="focuscard();" >
                                       
                                              <apex:selectOption itemLabel="Manual" itemValue="Manual" ></apex:selectOption>
                                              <apex:selectOption itemLabel="Card Reader" itemValue="CardReader"></apex:selectOption>
                                         </apex:selectList>
                 </apex:outputpanel> 
                  </apex:outputpanel>                  
            </apex:pageBlockSectionItem><br />
          <apex:pageBlockSectionItem >
          
          <apex:outputLabel value="Place the mouse pointer here & swipe the credit card" styleClass="cardlabel"  style="display:none;"/>
                           <apex:outputPanel styleClass="cardreaderrow" style="display:none;">
                            <apex:outputPanel styleClass="requiredInput" layout="block" >
                                       <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                              <apex:inputSecret value="{!xmlpaymentMethod.TrackData}" styleClass="cardreader" onchange="cardReaderTexChange();"  />
                             </apex:outputPanel> 
                             </apex:outputPanel>   
             </apex:pageBlockSectionItem><br/>
            <apex:pageBlockSectionItem >
                     <label for="txtNameOnCard" class="firstlabel">Name on Card</label>
                     <apex:outputPanel styleClass="requiredInput" layout="block" >
                                       <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                     <apex:inputText value="{!xmlPaymentMethod.NameOnCard}"  id="txtNameOnCard" styleClass="txtNameOnCard" maxlength="50" />
            </apex:outputPanel>
            </apex:pageBlockSectionItem>
         
            <apex:pageBlockSectionItem >
                    <label for="select_ExpirationMonth">Expiration Date</label>
                    <apex:outputPanel styleClass="requiredInput" layout="block" >
                                       <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                    <apex:outputText >
                       <apex:selectlist value="{!xmlPaymentMethod.ExpirationMonth}"  id="select_ExpirationMonth" styleClass="select_ExpirationMonth"  size="1">             
                            <apex:selectOptions value="{!xmlstring.ExpireMonth}"/>
                       </apex:selectlist>                                    
                        <apex:selectlist value="{!xmlPaymentMethod.ExpirationYear}"  id="select_ExpirationYear" styleClass="select_ExpirationYear" size="1">             
                            <apex:selectOptions value="{!xmlstring.ExpireYear}"/>
                        </apex:selectlist>
                    </apex:outputText>
                    </apex:outputPanel>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                     <label for="txtCardNumber">Credit Card Number</label>
                     <apex:outputPanel styleClass="requiredInput" layout="block" >
                                       <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                     <apex:inputText value="{!xmlPaymentMethod.CardNumber}"  id="txtCardNumber" styleClass="txtCardNumber" maxlength="16" onkeyup="javascript:this.value=this.value.replace(/[^0-9]/g, '');"/>
            <input type="text" class="dummycardnumber" style="display:none"/>
            </apex:outputPanel>
            </apex:pageBlockSectionItem>
            <apex:pageBlockSectionItem >
                 
                  <apex:outputLabel id="lblCvv" styleClass="cvvlabel">Card Verification (CVV)</apex:outputLabel>
                  <apex:inputText value="{!xmlPaymentMethod.Cvv2}" maxlength="4" id="txtCvv"  styleClass="txtCvv" onkeyup="javascript:this.value=this.value.replace(/[^0-9]/g, '');"/>
            </apex:pageBlockSectionItem>
        </apex:pageblocksection>   
        </apex:outputpanel>
    
     <apex:outputpanel rendered="{!xmlPaymentMethod.PaymentType=='ReferenceTransaction'}">
           <div id="TransactionBlock">
          <apex:pageBlockSection >
          <apex:pageBlockSectionItem >
             <label for="lblOrder_number">Order Number</label>
              <apex:inputText value="{!xmlPaymentMethod.OrderNumber}" id="txtOrderNumber" styleClass="txtOrderNumber"/>
          </apex:pageBlockSectionItem>
          
          <apex:pageBlockSectionItem >
          </apex:pageBlockSectionItem>
          
            <apex:pageBlockSectionItem >
             <label for="lblVaultguid">VaultGUID</label>
             <apex:inputText value="{!xmlPaymentMethod.VaultGUID}" id="txtVaultguid" styleClass="txtVaultguid"/>
          </apex:pageBlockSectionItem>
          
            <apex:pageBlockSectionItem >
          </apex:pageBlockSectionItem>
        </apex:pageBlockSection>    
 </div>                     
         
        </apex:outputpanel>
       
          <apex:outputpanel rendered="{!xmlPaymentMethod.PaymentType=='Check'}"> 
            <apex:pageBlockSection >
          <!--<apex:pageBlockSectionItem >
          <img src="{!URLFOR($Resource.Payment_Event, 'images/eCheck.png')}" alt="eCheck" width="49" height="29" id="img1"/>
          </apex:pageBlockSectionItem>
           <apex:pageBlockSectionItem >
            </apex:pageBlockSectionItem>-->
            
            <apex:pageBlockSectionItem >
                <label for="txtRoutingNumber">Routing Number</label>
                <apex:outputPanel styleClass="requiredInput" layout="block" >
                                       <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                <apex:inputText maxlength="9" value="{!xmlPaymentMethod.RoutingNumber}" id="txtRoutingNumber"  styleClass="txtRoutingNumber"/>
           </apex:outputpanel>
            </apex:pageBlockSectionItem>
            
            <apex:pageBlockSectionItem >
                    <label for="txtCheckNumber">Check Number</label>
                    <apex:outputPanel styleClass="requiredInput" layout="block" >
                                       <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                    <apex:inputText value="{!xmlPaymentMethod.CheckNumber}" maxlength="10" id="txtCheckNumber" styleClass="txtCheckNumber"/>
                    </apex:outputpanel>
            </apex:pageBlockSectionItem>
            
             <apex:pageBlockSectionItem >
                <label for="txtAccountNumber" class="firstlabel">Account Number</label>
                <apex:outputPanel styleClass="requiredInput" layout="block" >
                                       <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                <apex:inputText value="{!xmlPaymentMethod.AccountNumber}" maxlength="17" id="txtAccountNumber" styleClass="txtAccountNumber"/>
                 </apex:outputpanel>
            </apex:pageBlockSectionItem>
            
             <apex:pageBlockSectionItem >
                <label for="txtAccountNumber2" class="firstlabel">Retype Account Number</label>
                <apex:outputPanel styleClass="requiredInput" layout="block" >
                                       <apex:outputPanel styleClass="requiredBlock" layout="block"/>
                <apex:inputText value="{!xmlPaymentMethod.AccountNumber}" id="txtAccountNumber2" styleClass="txtAccountNumber2" maxlength="17" />
                </apex:outputpanel>
            </apex:pageBlockSectionItem>
            
             <apex:pageBlockSectionItem >
             <label for="select_AccountType">Account Type</label>
             <apex:selectlist value="{!xmlPaymentMethod.AccountType}" size="1">             
                         <apex:selectOptions value="{!xmlstring.AccountTypes}"/>
                         </apex:selectlist>
            </apex:pageBlockSectionItem>
            
             <apex:pageBlockSectionItem >
             <label for="select_CheckType">Check Type </label>
             <apex:selectlist value="{!xmlPaymentMethod.CheckType}" size="1">             
                       <apex:selectOptions value="{!xmlstring.CheckTypes}"/>
                       </apex:selectlist>
             
            </apex:pageBlockSectionItem>
            
             <apex:pageBlockSectionItem >
             <label for="txtNameOnAccount">Name on Account</label>
             <apex:outputPanel styleClass="requiredInput" layout="block" >
                                       <apex:outputPanel styleClass="requiredBlock" layout="block"/>
             <apex:inputText value="{!xmlPaymentMethod.NameOnAccount}" maxlength="100" id="txtNameOnAccount" styleClass="txtNameOnAccount"/> 
              </apex:outputpanel>
            </apex:pageBlockSectionItem>
            
             <apex:pageBlockSectionItem >
             <label for="select_IdType">Type of ID </label>
             <apex:selectlist value="{!xmlPaymentMethod.IdType}" size="1">             
                        <apex:selectOptions value="{!xmlstring.IdTypes}"/>
                        </apex:selectlist>
            </apex:pageBlockSectionItem> 
             
            
          </apex:pageBlockSection>   
        </apex:outputpanel>
        <div class="clr"></div>    
        <apex:outputpanel rendered="{!xmlPaymentMethod.PaymentType=='PurchaseOrder'}">
        <div id="poblock">
            <apex:pageBlockSection >
             <apex:pageBlockSectionItem >
                 <label for="txtPOAccount">Purchase Order Number </label>
                  <apex:inputText value="{!xmlPaymentMethod.PurchaseOrderNumber}" maxlength="50" id="txtPOAccount" styleClass="txtPOAccount"/>
             </apex:pageBlockSectionItem> 
             
             <apex:pageBlockSectionItem >
             </apex:pageBlockSectionItem> 
             
         </apex:pageBlockSection>
    </div>
    </apex:outputpanel>
        <div class="clr"></div>    
        
        <apex:outputpanel rendered="{!xmlPaymentMethod.PaymentType=='Invoice'}">
         <div id="invoiceblock">
           <apex:pageBlockSection >
         
             <apex:pageBlockSectionItem >
                 <label for="txtInvoiceAccount">Check Number </label>
                 <apex:inputText value="{!xmlPaymentMethod.InvoiceCheckNumber}" maxlength="50" id="txtInvoiceAccount" styleClass="txtInvoiceAccount"/>
                 
             </apex:pageBlockSectionItem> 
             
             <apex:pageBlockSectionItem >
             </apex:pageBlockSectionItem>
         
         </apex:pageBlockSection>   
      </div>                                                                                        
         
        </apex:outputpanel>
        <div class="clr"></div>
        <apex:outputpanel rendered="{!xmlPaymentMethod.PaymentType=='CustomPaymentType'}">
        <div id="custompayment">
        <apex:pageBlockSection columns="1">
        <apex:pageBlockSectionItem >
        <label for="Name">Name</label>
        
        <apex:outputPanel >
        <apex:outputPanel styleClass="requiredInput" layout="block" >
                                       <apex:outputPanel styleClass="requiredBlock" layout="block"/>
         <apex:outputPanel rendered="{!if(cusValue.size == 0,true,false) }">
                                     <apex:inputText value="{!xmlpaymentMethod.CustomPaymentName}" styleClass="required1" maxlength="50"/>
                                     
                                       </apex:outputpanel>  
                                       <apex:outputPanel rendered="{!if(cusValue.size >0,true,false) }">
                                     <apex:selectlist value="{!xmlpaymentMethod.CustomPaymentName}" size="1" styleClass="customname">
                                         <apex:selectoptions value="{!cusValue}"></apex:selectoptions>
                                     </apex:selectlist>
                                    </apex:outputPanel>
                                    </apex:outputPanel>
                                     </apex:outputpanel> 
        </apex:pageBlockSectionItem>
        <apex:pageBlockSectionItem >
                 
                 <label for="txtCustompaymentnumber">Reference Number</label>
                 <apex:inputText value="{!xmlPaymentMethod.CustomPaymentNumber}" maxlength="50" id="txtCustompaymentnumber" styleClass="txtCustompaymentnumber"/>
             </apex:pageBlockSectionItem>
        </apex:pageBlockSection>
            <!--<apex:pageBlockSection >
               <apex:pageBlockSectionItem >
               <label for="txtCustomPaymentname">Custom Payment Name<span class="req">*</span></label>
               <apex:inputText value="{!xmlPaymentMethod.CustomPaymentName}" maxlength="50" id="txtCustomPaymentname" styleClass="txtCustomPaymentname"/>
               
               </apex:pageBlockSectionItem>
               
                <apex:pageBlockSectionItem >
                </apex:pageBlockSectionItem>
                
                 <apex:pageBlockSectionItem >
                 
                 <label for="txtCustompaymentnumber">Custom Payment Number<span class="req">*</span></label>
                 <apex:inputText value="{!xmlPaymentMethod.CustomPaymentNumber}" maxlength="50" id="txtCustompaymentnumber" styleClass="txtCustompaymentnumber"/>
             </apex:pageBlockSectionItem>
             
              <apex:pageBlockSectionItem >
             </apex:pageBlockSectionItem>
                  
               </apex:pageBlockSection> -->
           </div>                   
        </apex:outputpanel>
        <script>
        $("#diveVTPage #topinfo table").removeAttr("class");
     $("#diveVTPage #topinfo table").addClass("paymenttbl");
        </script>
        </apex:outputpanel>
  </apex:panelGrid>   
      
  </div></div>  
<script>

 function check1(val)
  {
    
     if(val==true)
     {
      
    
       $(".next1").fadeIn(1000); 
     }else{
  
       $(".next1").fadeOut(1000); 
     }
     
  }
  </script>
<div id="topInfo2">    
   <div class="clr"></div><div class="clr"></div>   
   
     <apex:outputPanel id="resulttransactionfail" rendered="{!testingbool}">
     <apex:outputpanel rendered="{!IF(Resultdisply!='','true','false')}">
      <script type="text/javascript">      
            $(document).ready(function (){ 
            var Result=$(".Result").text();
            $(".Result").html(Result);
            });
            </script>
    
    <div class="Result">
    <apex:outputtext value="{!Resultdisply}" style="display:none" />
    </div>
     </apex:outputpanel>    
    </apex:outputPanel>
     
    <div class="next1">  
    <table cellpadding="2" cellspacing="0">     
        <tr><td width="200px"></td><td>
    
     
       <apex:outputPanel id="paymentbutton" >
       <apex:actionStatus id="mySaveStatus_2">
       <apex:facet name="stop">
        
        <apex:commandButton value="Process Registration" styleClass="next Submit test1" id="processpayment" onclick="if(!paymentvalidation('{!xmlPaymentMethod.PaymentType}')) return false;" rerender="testview"  status="mySaveStatus_2" oncomplete="insertJS();"   rendered="{!IF(RegisteredAttensees.size>0 || (NetPrice>0.0 && testingbool=true),true,false)}" />  
       <!-- <apex:commandButton value="{!StyleRec.Button_Label__c}" styleClass="next Submit test1" id="processpayment" rerender="testview" immediate="true"   oncomplete="insertJS();" status="mySaveStatus_2"   />      -->
     
      </apex:facet>       
        <apex:facet name="start">
               <!--<apex:outputPanel id="light" styleclass="white_content">

                 <apex:image value="/img/loading32.gif" style="height: 15px;"/>

                 <apex:commandbutton value="Processing..." status="mySaveStatus_2" disabled="true"/>
                 
               </apex:outputPanel>-->
              
        </apex:facet>
        </apex:actionStatus>
        </apex:outputPanel>          
      </td><td></td></tr>
      <div id="light" class="white_content">   
                <apex:image value="/img/loading32.gif" title="we are processing your request. Please wait..." style="height: 15px;width: 20px;"  /><br/>
               <apex:outputlabel value="we are processing your request. please wait...                  "  />
              
              </div>
          
         <div id="fade" class="black_overlay"></div>
    </table>   
    </div>
      
</div>
</div>

</apex:outputPanel>
</apex:outputpanel></apex:pageBlock>
   </apex:outputPanel>   
               
                     <!--Payment Form End Here   -->
  </apex:form>
  
  <script>
     function StateChange(value){  
                 
              StateData(value);             
     }
     function StateChange1(value){   
             
              StateData1(value);             
     }
    </script>

 

</apex:page>